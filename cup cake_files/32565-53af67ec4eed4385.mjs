(self.modernJsonp=self.modernJsonp||[]).push([["32565"],{128830:function(e,i,t){t.d(i,{Z:()=>oL});var n,a,o,r,l,s,d,c,p,u,h,m,g,_,f,x,y,v,b,P,w,S,j,k,C,I,T,Z,A,D,R,B,E,z,L,O,M,F,G,K,V,N,U,H,W,$,Y,q,X,J,Q,ee,ei,et=t(686659),en=t(667294),ea=t(581722),eo=t(167912),er=t(312048),el=t(740097),es=t(788730),ed=t(2171),ec=t(802830),ep=t(45350),eu=t(230201),eh=t(471958),em=t(935059),eg=t(271930),e_=t(183e3),ef=t(24246),ex=t(949301),ey=t(794599),ev=t(5556),eb=t(456069),eP=t(74097),ew=t(501010),eS=t(849232),ej=t(774838),ek=t(825605),eC=t(935833),eI=t(33581),eT=t(29731),eZ=t(739405),eA=t(893957),eD=t(575647),eR=t(296053),eB=t(421401),eE=t(852610),ez=t(897720),eL=t(616988),eO=t(976181),eM=t(535917),eF=t(113759),eG=t(2061),eK=t(758831),eV=t(585709),eN=t(69841),eU=t(250704),eH=t(153040),eW=t(104999),e$=t(126206),eY=t(835411),eq=t(785893);let eX={initial:{opacity:0,transition:"opacity 0.25s ease-in"},fadeIn:{opacity:.8,transition:"opacity 1s ease"}},eJ=(e,i,t)=>(0,eq.jsx)(el.xv,{color:"inverse",inline:!0,size:"200",weight:"bold",children:(0,eq.jsx)(el.rU,{display:"inlineBlock",href:i,tapStyle:"none",underline:"hover",children:t})},e);function eQ({color:e,getFeedbackText:i,margin:t,onUnfollow:n,showing:a,unfollowed:o,hideForWeightLossAds:r,hiddenForGenAI:l,onUndoGenAiHide:s}){(0,en.useEffect)(()=>{(0,et.Z)("PinFeedbackConfirmation","/app/www/PinFeedback/PinFeedbackConfirmation.tsx")},[]);let d=(0,ef.Z)(),[c,p]=(0,en.useState)(a?"fadeIn":"initial"),u=(0,en.useRef)(null),h=(0,eW.Z)();(0,en.useEffect)(()=>("initial"===c&&a&&(u.current=window.requestAnimationFrame(()=>p("fadeIn"))),()=>{u.current&&window.cancelAnimationFrame(u.current)}),[c,p,a]);let{subTitle:m}=i({makeNavigateLink:eJ}),{title:g,unfollow:_}=i({makeNavigateLink:eJ});r&&(m=d._('Got it! You\u2019ll start seeing fewer ads about GLP-1 medication within a few hours.', 'app.common.react.components.hiddenPin.forWeightLoss.v3', 'Text to show hide pins for weight loss v3'));let f=g,x=m;return _&&o&&(f=_.title,x=_.subTitle),a&&(0,eq.jsx)(el.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{backgroundColor:e,...eX[c]}},"data-test-id":"PinFeedbackConfirmation",left:!0,margin:t,position:"absolute",right:!0,rounding:4,top:!0,zIndex:new el.H3([eY.e]),children:(0,eq.jsx)(el.xu,{color:"dark",height:"100%",overflow:"auto",rounding:4,width:"100%",children:(0,eq.jsxs)(el.xu,{"data-test-id":"reported-overlay",direction:"column",display:"flex",height:"100%",justifyContent:"between",padding:3,rounding:2,children:[(0,eq.jsxs)(el.xu,{children:[(0,eq.jsx)(el.qd,{color:"light",size:"400",children:f}),!!x&&(0,eq.jsxs)(el.xu,{marginTop:1,children:[(0,eq.jsx)(el.xv,{color:"light",inline:!0,size:"200",children:x}),!r&&!l&&(0,eq.jsx)(el.xv,{color:"light",inline:!0,size:"200",weight:"bold",children:(0,eq.jsx)(el.rU,{display:"inlineBlock",href:"/edit",rounding:2,children:d._('Refine your recommendations', 'settings.refineYourRecommendation.title', 'Title for recommendations control page')})}),l&&(0,eq.jsx)(el.xu,{marginTop:1,children:(0,eq.jsx)(el.zx,{color:"tertiary",fullWidth:!0,onClick:s,text:d._('Undo', 'Text on the button to undo hiding a pin for GenAI', 'PinFeedbackConfirmation.undoGenAiHide')})})]})]}),!o&&_&&(0,eq.jsx)(el.xu,{paddingY:1,children:(0,eq.jsx)(el.zx,{color:"tertiary",fullWidth:!0,onClick:()=>_?(0,e$.tx)(_.action,_.actionOptions,n,h):void 0,text:d._('Unfollow', 'Text on the button to unfollow a specific board / user', 'Text on the button to unfollow a specific board / user')})})]})})})}var e0=t(167021),e1=t(149238),e2=t(31725),e3=t(783734),e6=t(566431),e7=t(667980),e5=t(881354),e4=t(470205),e8=t(753806),e9=t(712156),ie=t(173874),ii=t(138482),it=t(147950),ia=t(736328),io=t(937710),ir=t(310758),il=t(216975),is=t(724903),id=t(154965);function ic(){(0,en.useEffect)(()=>{(0,et.Z)("OutOfStock","/app/www/PinRep/Footer/OutOfStock.tsx")},[]);let e=(0,ef.Z)(),i=(0,e9.Z)();return(0,eq.jsx)(el.xu,{"data-test-id":"product-sold-out-text",children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:i,color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('Sold out', 'pinrep.footer.outOfStock', 'Footer text to indicate that product pin is out of stock.')})})}function ip({color:e="default",currentPrice:i,onlyShowCurrentPrice:t,originalPrice:n,textSize:a,weight:o}){(0,en.useEffect)(()=>{(0,et.Z)("ProductPrice","/app/www/PinRep/Footer/ProductPrice.tsx")},[]);let r=n&&n!==i,l=a||"200",s=(0,e9.Z)();return(0,eq.jsxs)(el.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[i&&(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:s,color:e,dataTestId:"product-price-text",size:l,weight:o??"bold",children:i}),r&&!t&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{textDecoration:"line-through",textDecorationColor:"#767676"}},marginStart:1,children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:s,color:"subtle",size:l,weight:o??"bold",children:n})})]})}function iu(){(0,en.useEffect)(()=>{(0,et.Z)("StaleProduct","/app/www/PinRep/Footer/StaleProduct.tsx")},[]);let e=(0,ef.Z)(),i=(0,e9.Z)();return(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:i,color:"subtle",overflow:"normal",size:"200",weight:"normal",children:e._('See price on site', 'pinrep.footer.staleProduct', 'Footer text to indicate that is a stale(untrustworthy) product pin.')})}var ih=t(536458);let im=(void 0!==n||(n=t(896125)).hash&&"f21ec3efa0e9df90a7270ebcf923e0ce"!==n.hash&&console.error("The definition of 'usePinProductMerchant_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),ig=(void 0!==a||(a=t(266924)).hash&&"6ef67b33c06bb89c4d58b6aee4b40b3f"!==a.hash&&console.error("The definition of 'useGetPinSourceText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),a);function i_({pinKey:e,surface:i,prioritizeMerchant:t}){let n=(0,e_.Z)(ig,e),a=(0,ih.Z)({surface:i??void 0,showShoppingAffordances:!1}),o=n.richSummary?.typeName==="product"||a&&(n.isOosProduct||n.isStaleProduct),r=function(e){let i=(0,e_.Z)(im,e);return i.linkUserWebsite?.officialUser?.fullName||i.linkDomain?.officialUser?.fullName||i.richSummary?.siteName||("Uploaded by user"===i.domain?(i.isRepin?i.originPinner:i.pinner)?.fullName:void 0)}(n);return o&&t&&r?r:o&&((n.richSummary?.products?.[0]||{}).brand?.name||r)||""}let ix=(void 0!==o||(o=t(922028)).hash&&"7000fdf0b56dd6d3280795f11d6a3e72"!==o.hash&&console.error("The definition of 'PinFooterProductContent_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),o);function iy({pinKey:e,surface:i}){(0,en.useEffect)(()=>{(0,et.Z)("PinFooterProductContent","/app/www/PinRep/Footer/PinFooterProductContent.tsx")},[]);let t=(0,e_.Z)(ix,e),n=(0,id.Z)({isGroupBoard:!!t.board?.isCollaborative,surface:i,pinKey:t}),a=i_({pinKey:t,surface:i,prioritizeMerchant:!!t.isEligibleForPdp&&!t.isPromoted}),o=null,r=null,{offerSummary:l}=t.richSummary?.products?.[0]||{};l&&(o=l.standardPrice,r=(0,is.Z)({maxPrice:l.maxPrice,minPrice:l.minPrice,price:l.price})??null);let s=o||r?(0,eq.jsx)(ip,{color:t.isOosProduct?"subtle":void 0,currentPrice:r,originalPrice:o,weight:"normal"}):null,d=(0,eq.jsx)(el.xv,{color:"default",lineClamp:1,size:"200",weight:"normal",children:n}),c=a?(0,eq.jsx)(el.xu,{alignItems:"stretch","data-test-id":"pin-source",direction:"row",display:"flex",justifyContent:"start",marginBottom:0,children:(0,eq.jsx)(el.kC,{gap:1,children:(0,eq.jsx)(el.xv,{color:"default",lineClamp:1,overflow:"normal",size:"200",title:a,weight:"bold",children:a})})}):null,p=t.isOosProduct?(0,eq.jsx)(ic,{}):null,u=t.isStaleProduct?(0,eq.jsx)(iu,{}):null;return(0,eq.jsxs)(el.kC,{direction:"column",flex:"grow",gap:1,children:[c,d,(p||s)&&(0,eq.jsxs)(el.kC,{direction:"row",gap:1,height:18,overflow:"hidden",wrap:!0,children:[p,s]}),u]})}var iv=t(132781);function ib({maxRating:e,rating:i,text:t}){return(0,en.useEffect)(()=>{(0,et.Z)("PinRating","/app/www/PinRep/Footer/PinRating.tsx")},[]),(0,eq.jsxs)(el.xu,{alignItems:"center",display:"flex",marginBottom:0,children:[(0,eq.jsx)(iv.Z,{max_rating:e||"",rating:i||""}),t&&(0,eq.jsx)(en.Fragment,{children:(0,eq.jsx)(el.xu,{marginStart:1,overflow:"hidden",children:(0,eq.jsx)(el.xv,{lineClamp:1,size:"100",children:t})})})]})}var iP=t(546151);let iw=(void 0!==r||(r=t(471751)).hash&&"27321d305cd16c84031bcdf033754a16"!==r.hash&&console.error("The definition of 'PriceLego_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r);function iS(e){(0,en.useEffect)(()=>{(0,et.Z)("PriceLego","/app/www/PinRep/Footer/PriceLego.tsx")},[]);let{onlyShowCurrentPrice:i,pinKey:t,weight:n}=e,a=(0,e_.Z)(iw,t),o=(0,iP.kb)({hasLinkDomain:!!a.linkDomain,richMetadata:a.richMetadata&&{recipe:a.richMetadata.recipe&&{fromAggregatedData:a.richMetadata.recipe.fromAggregatedData},products:(a.richMetadata.products??[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))},richSummary:a.richSummary&&{products:(a.richSummary.products??[]).map(e=>({name:e.name,offerSummary:e.offerSummary}))}});if(!o||!o.price)return null;let{maxPrice:r,minPrice:l,price:s,standardPrice:d}=o;return(0,eq.jsx)(el.xu,{alignItems:"center","data-test-id":"priceLego_price",display:"flex",children:(0,eq.jsx)(ip,{currentPrice:(0,is.Z)({maxPrice:r,minPrice:l,price:s}),onlyShowCurrentPrice:i,originalPrice:d,textSize:"100",weight:n})})}var ij=t(494926),ik=t(464094);let iC=(e,i,t,n)=>{let a=(0,em.Z)(),{countryFromIp:o,isAuthenticated:r}=(0,ej.B)(),l=(0,ij.Z)(a,e),s=r?a.country:o,d=!!s&&ik.SA.includes(s);return("featured_board"===i&&t.includes("FEATURED_BOARDS")||4110===n)&&!l&&d},iI={control:0,enabled:1,enabled_remove_product_tag:2};function iT(e){let{checkExperiment:i}=(0,ew.Z)(),{group:t}=i("ads_web_brand_name_reorder");return e?iI.control:t in iI?iI[t]:iI.control}var iZ=t(632719);let iA=(void 0!==l||(l=t(404850)).hash&&"e8f11d25a83ca618602d791d123aa5c5"!==l.hash&&console.error("The definition of 'pinRepDataType_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function iD(e){let{attribution:i,embed:t,isEligibleForWebCloseup:n,richSummary:a,videos:o,storyPinDataId:r}=(0,e_.Z)(iA,e),l=t||i?.embed;return n?"oneTap":o||l?.type==="video"?"video":l?.type==="gif"?"gif":a?.typeName==="product"?"product":a?.typeName==="recipe"?"recipe":r?"storyPin":"image"}var iR=t(288646);let iB=(void 0!==s||(s=t(202853)).hash&&"abbc3ddaaf75469929b113c19a22eeab"!==s.hash&&console.error("The definition of 'useGetIsImageOnlyAllAttributionHidden_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s);function iE({pinKey:e,viewParameter:i}){let t=(0,em.Z)(),{isAuth:n}=t,{richSummary:a}=(0,e_.Z)(iB,e),o=(0,e8._P)({id:1000107}),r=!!(o&&500678===o.experience_id),l=n&&(0,e2.Z)(t.createdAt),s=r&&!(a&&43===i&&!l||3375===i);return(0,en.useMemo)(()=>({imageOnlyAllAttributionHidden:s}),[s])}var iz=t(269464),iL=t(914253),iO=t(410431);let iM=(void 0!==d||(d=t(799286)).hash&&"ea5667c869b3e881c9fe88595773fe61"!==d.hash&&console.error("The definition of 'PinCardDetails_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),iF=({title:e,lineClamp:i=2})=>{let t=(0,eZ.HG)(),n=(0,ia.Z)(),a=(0,e9.Z)();return(0,eq.jsx)(el.xu,{"data-test-id":"related-pins-title",children:(0,eq.jsx)(el.iP,{onTap:()=>{n({action:"click",item:"related-pins-title"})},children:(0,eq.jsx)(el.mg,{__dangerouslyOverrideLineHeight:a,lineClamp:i,size:t?"200":"100",children:e})})})},iG=({credits:e,hasAffiliatedProducts:i,hidePinMetadata:t,showOneLineTitle:n,isPromotedPin:a,isSponsoredPin:o,isPromotedByPinCreator:r,logCreditsClick:l,marginTop:s,pinDescription:d,pin:c,pinnedToBoardId:p,pinType:u,showPriceIndicatorInPinCardDetails:h,title:m})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinCardDetails","/app/www/PinRep/Footer/PinCardDetails.tsx")},[]);let g=(0,ef.Z)(),_=(0,er.TH)(),f=(0,ia.Z)(),{isAuthenticated:x}=(0,ej.B)(),y=(0,eZ.HG)(),v=(0,er.s0)(),b=m||d||"oneTap"===u,{pinner:P,adData:w}=c,S=(0,iL.gC)()(p||String(c.board?.entityId)),j=!!(!(e?.subtitle&&(!o&&!t||r))&&c.richSummary?.siteName),k=(0,e9.Z)(),{checkExperiment:C}=(0,ew.Z)(),{group:I}=C("simpler_ad_attribution"),T=iT(w?.excludeFromGridRepTests),Z=T!==iI.control&&e&&(!t||o||r),A=()=>m&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:"2"}},marginTop:Z?-1:1,overflow:"hidden",children:!t&&(0,eq.jsx)(iF,{lineClamp:n?1:void 0,title:m,weight:Z?"normal":"bold"})}),D=()=>h&&j&&(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:k,color:"default",size:"100",children:c.richSummary?.siteName}),R=()=>h&&(0,eq.jsx)(iS,{pinKey:c,weight:Z?"normal":void 0}),B=()=>e?.title&&(0,eq.jsx)(el.xu,{marginTop:+!Z,children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:k,color:"subtle",lineClamp:1,size:"100",weight:"normal",children:((e,i,t,n)=>{let a=n._('Ad', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),o=n._('Promoted', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.'),r=n._('Sponsored', 'pinCardDetails.tapArea.avatar', 'The avatar of the creator of this pin.');return e&&t?e.startsWith("enabled_ad_label")?a:e.startsWith("enabled_promoted_label")?o:e.startsWith("enabled_sponsored_label")?r:o:i})(I,e.title,a,g)})}),E=()=>e?(0,eq.jsx)(ir.Z,{onTouch:i=>{i.stopPropagation(),i.preventDefault(),e.link&&v(e.link),l()},pressState:"none",children:(0,eq.jsx)(el.xu,{children:(!t||o||r)&&(0,eq.jsx)(el.xu,{direction:"row",display:"flex",marginBottom:2*!!t,position:"relative",children:(0,eq.jsx)(el.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",children:(0,eq.jsx)(el.iP,{onTap:()=>{f({action:"click",item:"related-pins-name"})},children:(0,eq.jsxs)(en.Fragment,{children:[(!o&&!t||r)&&(0,eq.jsx)(el.xu,{marginTop:+!!Z,children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:k,lineClamp:o||i?void 0:1,size:y?"200":"100",weight:y||Z?"bold":"normal",children:e.subtitle})}),T===iI.control&&B()]})})})})})}):y&&!!P&&((0,ie.L6)(_)||(0,ii.Z)(_)||(0,ie.$Y)(_))&&(0,eq.jsx)(el.xu,{display:"flex",marginTop:2*!!b,children:(0,eq.jsxs)(el.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",children:[(0,eq.jsx)(el.rU,{href:`/${P.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,eC.NC)("click_board_pin_attribution_board"),f({action:"click",item:"related-pins-name"})},underline:"hover",children:(0,eq.jsx)(el.xv,{size:x?"200":"100",weight:"bold",children:P.fullName||P.username})}),S&&"protected"!==S.privacy?(0,eq.jsx)(el.xu,{"data-test-id":"related-pin-text-below-name",children:(0,eq.jsx)(el.rU,{href:S.url??"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,eC.NC)("click_board_pin_attribution_profile"),f({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,eq.jsx)(el.xv,{size:"200",children:S.name??""})})}):null]})});return T!==iI.control?(0,eq.jsxs)(el.xu,{flex:"grow",children:[E(),(0,eq.jsx)(el.xu,{display:"flex",marginTop:t?0:s??1,children:(0,eq.jsxs)(el.xu,{flex:"grow",children:[A(),R(),D(),B()]})})]}):(0,eq.jsxs)(el.xu,{flex:"grow",children:[(0,eq.jsx)(el.xu,{display:"flex",marginTop:t?0:s??1,children:(0,eq.jsxs)(el.xu,{flex:"grow",children:[A(),D(),R()]})}),E()]})},iK=({affiliateDisclosure:e,componentType:i,credits:t,hasAffiliatedProducts:n,hidePinMetadata:a,showOneLineTitle:o,showOneLineDescription:r,isPromotedPin:l,isSponsoredPin:s,isPromotedByPinCreator:d,logCreditsClick:c,marginTop:p,pinDescription:u,pin:h,pinnedToBoardId:m,pinType:g,shouldShowRecipeReview:_,showPriceIndicatorInPinCardDetails:f,surface:x,title:y,viewParameter:v,clientTrackingParams:b,feedbackData:P,feedbackType:w,forcePrimaryContent:S,seoDrawerPinType:j,shouldShowSeoDrawerOption:k,shouldShowSeoDrawerNewfields:C,trafficSource:I})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinCardDetails","/app/www/PinRep/Footer/PinCardDetails.tsx")},[]);let T=(0,ef.Z)(),Z=(0,er.TH)(),A=(0,ia.Z)(),{isAuthenticated:D,isBot:R}=(0,ej.B)(),B=(0,eZ.HG)(),E=(0,er.s0)(),z=y||u||"oneTap"===g,{checkExperiment:L}=(0,ew.Z)(),O=!1,M=!D&&B&&(0,ie.uM)(Z)?L("ffe_hide_description").group:void 0;"control"===M||"enabled"===M?O="enabled"===M:R||(O=!D&&B&&(0,ie.uM)(Z)&&L("unauth_dweb_hide_description").anyEnabled);let{isEligibleForPdp:F,pinner:G,richSummary:K}=h,V=(0,iL.gC)()(m||String(h.board?.entityId)),N=iC(h.board?.owner?.entityId??"",h.board?.layout??"",[...h.board?.featuredIn??[]],v),U=(0,e9.Z)(),H=G?.isVerifiedMerchant||G?.verifiedIdentity?.verified||!1,W=!D&&B,$=14339===i,Y=!D&&(0,ie.am)(Z),q=!a&&!Y,X=(s||n)&&!d&&!Y,J=W?2:p||(z&&q?0:1),Q=!f&&!!t,ee=(0,iZ.t)({showCredits:Q,isSponsoredPin:s,showPinMetadata:q,isPromotedByPinCreator:d,isCreatorVerified:(Q?t.isVerifed:H)||!1}),ei=N&&!!x&&!!F,ea=null,eo=y&&(q||Y)&&!ei,es=B&&!D&&u&&!(0,ie.$Y)(Z)&&!(0,ie.E0)(Z),ed=X||eo||es||ei||f||_;if(W){let e=Q&&t,i=B&&!!G&&((0,ie.L6)(Z)||(0,ii.Z)(Z)||(0,ie.$Y)(Z));ea=e&&ed?"credits":(eo||es)&&ed?"fallback":i&&ed?"pinner":"fallback"}let ec=iT(void 0),ep=ec!==iI.control&&f&&h.richSummary?.siteName,eu=e=>h.richSummary?.siteName&&(0,eq.jsx)(el.xv,{color:"default",lineClamp:e?1:void 0,size:"100",weight:ep?"bold":"normal",children:h.richSummary?.siteName}),eh=(e,t,n,a,o,r,l,s)=>(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{"data-test-id":"overflow-menu-button",children:(0,eq.jsx)(io.default,{clientTrackingParams:e,componentType:i,feedbackData:t,feedbackType:n,forcePrimaryContent:a||(()=>{}),hoveringInFeed:!0,pinKey:h,seoDrawerPinType:o,shouldShowSeoDrawerNewfields:r,shouldShowSeoDrawerOption:l,size:W?"xs":"md",surface:x,trafficSource:s,viewParameter:v})})})}),em=2,eg=2;return r&&(em=1),($||o)&&(eg=1),R&&(em=void 0,eg=void 0),(0,eq.jsxs)(el.xu,{flex:"grow",children:[ed&&(0,eq.jsx)(el.xu,{display:"flex",marginTop:q?p??1:0,children:(0,eq.jsxs)(el.xu,{flex:"grow",children:[X&&(0,eq.jsx)(el.xu,{marginBottom:1,children:(0,eq.jsx)(el.xu,{flex:"grow",overflow:"hidden",children:(0,eq.jsx)(iO.Z,{affiliateDisclosure:e,hasAffiliatedProducts:n,isPromoted:l,sponsorName:h.sponsorship?(0,eq.jsx)(el.xv,{inline:!0,size:"100",weight:"bold",children:t?.subtitle}):void 0,sponsorshipStatus:h.sponsorship?.status})})}),f&&ec!==iI.control&&eu($),eo&&(0,eq.jsx)(el.xu,{marginTop:+!ep,children:(0,eq.jsxs)(el.kC,{alignItems:"start",justifyContent:"between",children:[(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:String(eg),paddingInlineEnd:"credits"===ea||"fallback"===ea?"4px":"0"}},flex:"grow",overflow:"hidden",children:(0,eq.jsx)(iF,{lineClamp:eg,title:y,weight:ep?"normal":"bold"})}),("credits"===ea||"fallback"===ea)&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{flexShrink:0}},children:eh(b,P,w,S,j,C,k,I)})]})}),es&&(0,eq.jsx)(el.xu,{marginTop:1,children:(0,eq.jsxs)(el.kC,{alignItems:"start",justifyContent:"between",children:[O?null:(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{display:"-webkit-box",textOverflow:"ellipsis",WebkitBoxOrient:"vertical",WebkitLineClamp:String(em),paddingInlineEnd:"credits"!==ea&&"fallback"!==ea||eo?"0":"4px"}},"data-test-id":"desc",flex:"grow",overflow:"hidden",children:(0,eq.jsx)(el.iP,{onTap:()=>{A({action:"click",item:"related-pins-description"})},children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:U,size:B?"200":"100",children:u})})}),("credits"===ea||"fallback"===ea)&&!eo&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{flexShrink:0}},children:eh(b,P,w,S,j,C,k,I)})]})}),ei&&(0,eq.jsx)(iy,{pinKey:h,surface:x}),f&&ec===iI.control&&eu($),f&&(0,eq.jsx)(iS,{lineClamp:$?1:void 0,onlyShowCurrentPrice:$,pinKey:h,weight:ep?"normal":void 0}),_&&(0,eq.jsxs)(el.xu,{alignItems:"center","data-test-id":"recipe_review_container",display:"flex",marginTop:1,children:[(0,eq.jsx)(ib,{maxRating:K?.aggregateRating?.bestRating||"",rating:K?.aggregateRating?.ratingValue||"",text:""}),!!K?.displayCookTime&&(0,eq.jsxs)(en.Fragment,{children:[(0,eq.jsx)(el.xu,{paddingX:1,children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:U,size:"100",children:"·"})}),(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:U,size:"100",children:function({m:e,h:i,rm:t,rh:n,i18n:a}){return e&&(!i||n<=0)?(0,il.nk)(a._('{{mins}}m', 'number showing minutes to complete a recipe', 'number showing mnutes to complete a recipe'),{mins:t.toString()}):i?(0,il.nk)(a._('{{hrs}}h {{mins}}m', 'number showing hours to complete a recipe', 'number showing hours to complete a recipe'),{hrs:i.toString(),mins:e.toString()}):null}({...(0,it.u)(K.displayCookTime),i18n:T})})]})]})]})}),Q&&t?(0,eq.jsx)(ir.Z,{accessibilityLabel:t.title||t.subtitle||T._('Creator\'s information', 'pinCardDetails.tapArea.creatorName', 'The credits of the creator of this pin.'),onTouch:e=>{e.stopPropagation(),e.preventDefault(),t.link&&E(t.link),c()},pressState:"none",children:(0,eq.jsx)(el.xu,{children:ee&&(0,eq.jsx)(el.xu,{"data-test-id":"pin-attribution",direction:"row",display:"flex",marginBottom:2*!q,marginTop:J,position:"relative",children:(0,eq.jsx)(en.Fragment,{children:(0,eq.jsx)(el.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:0,children:(0,eq.jsx)(el.iP,{onTap:()=>{A({action:"click",item:"related-pins-name"})},children:(0,eq.jsxs)(en.Fragment,{children:[t.title&&(0,eq.jsx)(el.xv,{lineClamp:1,size:"100",weight:s&&!d||n||!l?"normal":"bold",children:t.title}),t.subtitle?(!s&&q||d)&&(0,eq.jsx)(el.xv,{lineClamp:s||n?void 0:1,size:B?"200":"100",weight:B?"bold":"normal",children:t.subtitle}):!D&&V&&"protected"!==V.privacy?(0,eq.jsx)(el.xu,{"data-test-id":"related-pin-text-below-name",children:(0,eq.jsx)(el.rU,{href:D?V.url??"":V.url?.toLowerCase()??"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,eC.NC)("click_board_pin_attribution_profile"),A({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,eq.jsx)(el.xv,{size:"200",children:V.name})})}):null]})})})})})})}):B&&!!G&&((0,ie.L6)(Z)||(0,ii.Z)(Z)||(0,ie.$Y)(Z))&&(0,eq.jsxs)(el.xu,{display:"flex",marginTop:2,children:[ee&&(0,eq.jsx)(en.Fragment,{children:(0,eq.jsxs)(el.xu,{"data-test-id":"related-pins-name",direction:"column",display:"flex",flex:"grow",justifyContent:"center",marginStart:1,children:[(0,eq.jsx)(el.rU,{href:`/${!D?G.username?.toLowerCase()||"":G.username||""}/`,onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,eC.NC)("click_board_pin_attribution_board"),A({action:"click",item:"related-pins-name"})},underline:"hover",children:(0,eq.jsx)(el.xv,{size:D?"200":"100",weight:"bold",children:G.fullName||G.username})}),V&&"protected"!==V.privacy?(0,eq.jsx)(el.xu,{"data-test-id":"related-pin-text-below-name",children:(0,eq.jsx)(el.rU,{href:D?V.url??"":V.url?.toLowerCase()??"",onClick:({event:e,dangerouslyDisableOnNavigation:i})=>{i(),e.stopPropagation(),(0,eC.NC)("click_board_pin_attribution_profile"),A({action:"click",item:"related-pin-text-below-name"})},underline:"hover",children:(0,eq.jsx)(el.xv,{size:"200",children:V.name??""})})}):null]})}),"pinner"===ea&&(0,eq.jsx)(el.xu,{marginTop:1,children:(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"end",children:eh(b,P,w,S,j,C,k,I)})})]}),("credits"===ea||"fallback"===ea)&&!eo&&!es&&(0,eq.jsx)(el.xu,{paddingX:2,children:(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"end",children:eh(b,P,w,S,j,C,k,I)})})]})},iV=({carouselIndex:e,disableReaction:i,pinKey:t,trackingParams:n,viewParameter:a,viewType:o,showOneLineTitleDescriptionOverride:r,clientTrackingParams:l,feedbackData:s,feedbackType:d,forcePrimaryContent:c,seoDrawerPinType:p,shouldShowSeoDrawerOption:u,shouldShowSeoDrawerNewfields:h,trafficSource:m,...g})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinCardDetails","/app/www/PinRep/Footer/PinCardDetails.tsx")},[]);let _=(0,eZ.HG)(),f=(0,eW.Z)(),{checkExperiment:x}=(0,ew.Z)(),y=x("simpler_ad_attribution").anyEnabled,v=(0,e_.Z)(iM,t),b=iE({pinKey:v,viewParameter:a}),{adData:P,affiliateDisclosure:w,entityId:S,pinnedToBoard:j,richSummary:k,sponsorship:C,storyPinData:I,storyPinDataId:T,trackingParams:Z}=v,A=(0,iR.Z)(v),{isAuthenticated:D}=(0,ej.B)(),R=!!I?.hasProductPins,{isSponsoredPin:B,isPromotedPin:E,isPromotedByPinCreator:z}=(0,iZ.y)(v),L=j?.entityId??"",O=iD(v),M="recipe"===O&&!b&&!!k?.aggregateRating?.reviewCount,{description:F,title:G}=(0,iz.Z)({carouselIndex:e,pinKey:v,useFallback:3876===a}),K=(0,en.useCallback)(()=>{f({view_type:3,element:27,event_type:102,object_id_str:S,component:T?230:void 0,clientTrackingParams:(0,eU.Z)(n,Z),aux_data:{pin_id:S,...C?.creator&&C.sponsor?{creator_id:C.creator.entityId,sponsor_id:C.sponsor.entityId}:{}}})},[f,S,n,Z,C,T]),V=(0,e8._P)({id:1000107}),N=V?.display_data.hideDesc||!1,U=!_&&!P?.excludeFromGridRepTests&&x("mweb_pinrep_one_line_title",{dangerouslySkipActivation:!0}).group,H=!D&&(_?x("unauth_desktop_truncate_title").anyEnabled:x("unauth_mweb_truncate_title").anyEnabled),W="enabled_1l_pr_all_aug"===x("ads_l13d_main",{dangerouslySkipActivation:!0}).group||"enabled"===U||"enabled_ads_only"===U&&!!E||"enabled_organic_only"===U&&!E||!!H,$={...g,affiliateDisclosure:w,credits:A,hasAffiliatedProducts:R,hidePinMetadata:N,showOneLineTitle:r||W,showOneLineDescription:r,isSponsoredPin:B,isPromotedPin:E,isPromotedByPinCreator:z,logCreditsClick:K,pin:v,pinDescription:F,pinnedToBoardId:L,pinType:O,shouldShowRecipeReview:M,title:G,viewParameter:a,clientTrackingParams:l,feedbackData:s,feedbackType:d,forcePrimaryContent:c,seoDrawerPinType:p,shouldShowSeoDrawerOption:u,shouldShowSeoDrawerNewfields:h,trafficSource:m};return y&&E?(0,eq.jsx)(iG,{...$}):(0,eq.jsx)(iK,{...$})};var iN=t(572321),iU=t(9065);let iH=(0,iU.Z)(()=>Promise.all([t.e("6574"),t.e("47518")]).then(t.bind(t,581601)),{ssr:!1},e=>581601,void 0,void 0),iW=(void 0!==c||(c=t(479770)).hash&&"6b074c24dce4a522b259815ff9db658a"!==c.hash&&console.error("The definition of 'Details_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),c);function i$({blockClickEvents:e,carouselIndex:i,componentType:t,deepLinkProps:n,disableReaction:a,feedback:o,feedbackType:r,imageUrl:l,isConversationPin:s,isLongPressEnabledForAuth:d,isSquarePin:c,pinCardDetailsMargin:p,pinKey:u,setIsLongPressEnabledForAuth:h,shouldAllowProductPriceIndicator:m,surface:g,trackingParams:_,trafficSource:f,viewParameter:x,viewType:y,showOneLineTitleDescription:v,seoDrawerPinType:b,shouldShowSeoDrawerOption:P,shouldShowSeoDrawerNewfields:w}){(0,en.useEffect)(()=>{(0,et.Z)("Details","/app/www/PinRep/Footer/Details.tsx")},[]);let{isAuthenticated:S}=(0,ej.B)(),j=(0,en.useRef)(null),k=e?el.xu:eK.M,C=(0,e_.Z)(iW,u),{storyPinData:I,trackingParams:T}=C,Z=(0,eU.Z)(_,T),A=I?.isDeleted,D=(0,ih.Z)({surface:g}),R=!m&&(0,iN.Z)({trafficSource:f,componentType:t,isShoppingContentSurface:D});return(0,eq.jsxs)(el.xu,{position:"relative",children:[(0,eq.jsx)(k,{...n,children:(0,eq.jsx)(el.xu,{ref:j,bottom:!0,left:!0,position:"absolute",right:!0,top:!0})}),(0,eq.jsx)(el.iP,{accessibilityLabel:n?.accessibilityLabel,onTap:()=>{j.current?.click()},children:(0,eq.jsxs)(el.xu,{display:"flex",height:c?R?72:50:void 0,marginEnd:p||1.5,marginStart:p||1.5,marginTop:0,position:"relative",children:[C&&(0,eq.jsx)(iV,{carouselIndex:i,clientTrackingParams:Z,componentType:t,disableReaction:a,feedbackData:void 0,feedbackType:r,marginTop:p,pinKey:C,seoDrawerPinType:b,shouldShowSeoDrawerNewfields:w,shouldShowSeoDrawerOption:P,showOneLineTitleDescriptionOverride:v,showPriceIndicatorInPinCardDetails:!!R,surface:g,trackingParams:_,trafficSource:f,viewParameter:x,viewType:y}),(0,eq.jsx)(el.xu,{display:"flex",right:!0,children:S&&!A&&!s&&(0,eq.jsx)(el.xu,{marginStart:1,marginTop:p,children:(0,eq.jsx)(el.xu,{height:26,width:24,children:(0,eq.jsx)(e4.Z,{name:"SafeSuspense_Pin_ContextualMenu",children:(0,eq.jsx)(iH,{bestPinImgSrc:l,carouselIndex:i,feedback:o,feedbackType:r,isLongPressEnabledForAuth:d,pinKey:C,setIsLongPressEnabledForAuth:h,trackingParams:_||Z,viewParameter:x,viewType:y})})})})})]})})]})}let iY=(void 0!==p||(p=t(634853)).hash&&"85669f4af62d41b64e394ac15e6db838"!==p.hash&&console.error("The definition of 'AuthMobile_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),p);function iq({blockClickEvents:e,carouselIndex:i,componentType:t,deepLinkProps:n,disableReaction:a,feedback:o,feedbackType:r,imageUrl:l,isConversationPin:s,isLongPressEnabledForAuth:d,isSquarePin:c,pinCardDetailsMargin:p,pinKey:u,setIsLongPressEnabledForAuth:h,shouldAllowProductPriceIndicator:m,surface:g,trackingParams:_,trafficSource:f,viewParameter:x,viewType:y}){(0,en.useEffect)(()=>{(0,et.Z)("AuthMobile","/app/www/PinRep/Footer/AuthMobile.tsx")},[]);let v=(0,e_.Z)(iY,u);return(0,eq.jsx)(el.xu,{marginBottom:1,children:(0,eq.jsx)(i$,{blockClickEvents:e,carouselIndex:i,componentType:t,deepLinkProps:n,disableReaction:a,feedback:o,feedbackType:r,imageUrl:l,isConversationPin:s,isLongPressEnabledForAuth:d,isSquarePin:c,pinCardDetailsMargin:p,pinKey:v,setIsLongPressEnabledForAuth:h,shouldAllowProductPriceIndicator:m,surface:g,trackingParams:_,trafficSource:f,viewParameter:x,viewType:y})})}var iX=t(69465),iJ=t(638108),iQ=t(47574),i0=t(683779);let i1={container:{padding:"8px 6px 16px"},productContainer:{paddingTop:"12px",paddingLeft:"6px",paddingRight:"6px",paddingBottom:"16px"},closeupWithinMasonryProductContainer:{paddingTop:"6px",paddingLeft:"8px",paddingRight:"8px",paddingBottom:"16px"},peekCloseupEnabledLargeProductContainer:{paddingTop:"16px",paddingLeft:"16px",paddingRight:"0px",paddingBottom:"16px"},shoppingAffordancesProductContainer:{padding:"0px 6px",paddingBottom:"16px"},simplifiedGridProductContainer:{paddingTop:"8px",paddingLeft:"6px",paddingRight:"6px",paddingBottom:"0px"},imageOnlyAttribution:{hidden:{opacity:0,transition:`opacity ${i0.X}ms ease`},visible:{opacity:1}}};var i2=t(322897),i3=t(201363),i6=t(766308),i7=t(779686),i5=t(438274),i4=t(531937),i8=t(101267);let i9=(void 0!==u||(u=t(351957)).hash&&"04565501933a7c201d827501706b3015"!==u.hash&&console.error("The definition of 'FooterFavoriteButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),u);function te({pinKey:e}){(0,en.useEffect)(()=>{(0,et.Z)("FooterFavoriteButton","/app/www/PinRep/Footer/FooterFavoriteButton.tsx")},[]);let i=(0,e_.Z)(i9,e),{logContextEvent:t}=(0,eu.u)(),n=(0,ea.I0)(),{slotIndex:a}=(0,eM.P)(),{currentFilter:o,eligibleFilters:r,refreshData:l=()=>{},sectionId:s,setShowExperienceTooltip:d}=(0,i4.s)(),c=(0,en.useRef)(null),p=(0,em.Z)(),u=(0,ij.Z)(p,i.board?.owner?.entityId),h=!!i.favoritedByMe,m=i.board?.isCollaborative&&(0,i3.Z)(i.board.collaboratedByMe,i.board.owner?.entityId,p)?i.favoriteUserCount??0:void 0,g=o===i8.A&&(!m||1===m),_=(0,i6.E)(r,i8.A),f=e=>{t({event_type:101,component:0,element:e?12225:12226,object_id_str:i.entityId,view_type:5,view_parameter:u?3069:3070})};return(0,eq.jsxs)(en.Fragment,{children:[(0,eq.jsx)(el.xu,{ref:c,"data-test-favorited":h,children:(0,eq.jsx)(i2.Z,{favoriteCount:m,favorited:h,onFavorite:()=>{f(!0),_&&l(),d&&d(!0)},onUnfavorite:()=>{f(!1),i.board&&g&&n((0,i7.EX)({feedId:s||i.board.entityId||"",feedType:s?i5.Z.BOARD_SECTION_PINS:i5.Z.BOARDFEED,itemIds:[i.entityId],itemType:"pin"}))},pinId:i.entityId,size:20})}),c&&!h&&!s&&0===a&&(0,eq.jsx)(el.mh,{children:(0,eq.jsx)(e8.Qp,{anchor:c.current,experienceIds:[502973],flyoutSize:312,idealDirection:"up",placementId:18,positionRelativeToAnchor:!1,showCaret:!0,textAlign:"center"})})]})}var ti=t(359073),tt=t(770943),tn=t(707241),ta=t(585372),to=t(749511),tr=t(244771),tl=t(507006),ts=t(729586),td=t(518596);let tc={goodIdea:tt,love:ta,thanks:to,wow:tr,haha:tn},tp=["CreatorProfileStoryPinGrid"],tu=(void 0!==h||(h=t(532411)).hash&&"31270ea0e5b5db0d482f41193067c954"!==h.hash&&console.error("The definition of 'GridAggregation_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),h),th=function({alignment:e="start",pinKey:i,surface:t}){let n=(0,em.Z)(),a=(0,e_.Z)(tu,i),o=(0,ti.Z)(a),r=o?(0,td.At)(o):null,l=o?(0,td.Ud)(o):0,s=!!(n.isAuth&&a.pinner?.entityId===n.id),d=!!r&&r.length>0&&r.map((e,i)=>{let t=tc[ts.GY[e]];return(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{marginRight:2}},children:(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{backgroundImage:`url(${t})`,backgroundPosiiton:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover"}},height:17,width:17})},i)}),c=!!d&&(0,eq.jsx)(el.Tg,{href:`/pin/${a.entityId}/`,children:(0,eq.jsxs)(el.xu,{alignItems:"center",direction:"row",display:"flex",height:19,justifyContent:e,paddingY:3,children:[(0,eq.jsx)(el.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:d}),(0,eq.jsx)(el.xu,{paddingX:1,children:(0,eq.jsx)(el.xv,{size:"200",children:(0,eq.jsx)(tl.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:l})})})]})}),p=s&&tp.includes(t)&&(0,eq.jsx)(el.xu,{height:24});return c||p};var tm=t(336024),tg=t(405897),t_=t(905369);let tf=(void 0!==m||(m=t(790807)).hash&&"4b6b1771b770998926a4854360914540"!==m.hash&&console.error("The definition of 'ImageOnlyAttributionText_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),m);function tx({feedbackType:e,pinKey:i}){(0,en.useEffect)(()=>{(0,et.Z)("ImageOnlyAttributionText","/app/www/PinRep/Footer/ImageOnlyAttributionText.tsx")},[]);let t=(0,ef.Z)(),n=(0,e_.Z)(tf,i),{pinner:a,sourceInterest:o}=n,{fullName:r,username:l}=a||{},{name:s}=o||{},d="topic"===e,c=`/${l}/`,p=(0,tm.Z)(s),u=`/search/pins/?q=${encodeURIComponent(p)}&rs=${tg.i.IMAGE_ONLY_ATTRIBUTION}`,h=d?u:c,m={topic:t._('From {topic}', 'attribution on pin rep', 'attribution on pin rep'),followed:t._('From {pinnerName}', 'attribution on pin rep', 'attribution on pin rep'),pfyBoard:t._('Picked for you', 'attribution on pin rep', 'attribution on pin rep'),pfy:t._('Picked for you', 'attribution on pin rep', 'attribution on pin rep')}[e];if(!m)return null;if(!d&&"followed"===e||d){let e=0===m.indexOf("{"),i=d?s:r,t=e?m.slice(m.indexOf("}")+1):m.slice(0,m.indexOf("{"));return e?(0,eq.jsxs)(el.xu,{children:[(0,eq.jsx)(el.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,eq.jsx)(el.xv,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:i})}),(0,eq.jsx)(el.xv,{inline:!0,size:"200",children:t})]}):(0,eq.jsxs)(el.xu,{children:[(0,eq.jsx)(el.xv,{inline:!0,size:"200",children:t}),(0,eq.jsx)(el.rU,{display:"inlineBlock",href:h,underline:"hover",children:(0,eq.jsx)(el.xv,{color:"default",inline:!0,lineClamp:1,size:"200",weight:"bold",children:i})})]})}return(0,eq.jsx)(el.xu,{children:(0,eq.jsx)(t_.Z,{pinKey:n,children:(0,eq.jsx)(el.xv,{color:"default",overflow:"normal",size:"200",weight:"bold",children:m})})})}var ty=t(834960),tv=t(247262);function tb({value:e,valueFormat:i}){(0,en.useEffect)(()=>{(0,et.Z)("StatValue","/app/www/PinRep/Footer/StatValue.tsx")},[]);let t=(0,ef.Z)();return e||0===e?"TIME"===i?(0,tv.Z)(e):(0,eq.jsx)(tl.Z,{shortform:!0,shortformMaximumFractionDigits:1,value:e}):(0,eq.jsx)(el.u,{idealDirection:"up",text:t._('This stat is not available yet', 'closeup.partnerAnalytics.unavailableStat', 'when data for this field has not populated yet'),children:"—"})}let tP=(void 0!==g||(g=t(979528)).hash&&"a9531d10a7276aa8010149c2aaa0dcc2"!==g.hash&&console.error("The definition of 'PinStats_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),g);function tw({pinKey:e}){(0,en.useEffect)(()=>{(0,et.Z)("PinStats","/app/www/PinRep/Footer/PinStats.tsx")},[]);let i=(0,ef.Z)(),t=(0,e_.Z)(tP,e),n=(0,ty.Z)(t),a=!!t.promotedIsRemovable,o=function({isAdsOnlyPin:e,i18n:i}){return e?[{align:"center",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}]:[{align:"start",displayText:i._('Impressions', 'pinRep.pinStats.impression', 'Label for impressions of a pin on pinrep'),field:"impression",iconType:"eye"},{align:"center",displayText:i._('Saves', 'pinRep.pinStats.save', 'Label for saves of a pin on pinrep'),field:"save",iconType:"angled-pin"},{align:"end",displayText:i._('Pin clicks', 'pinRep.pinStats.pinclick', 'Label for pin clicks of a pin on pinrep'),field:"pinClick",iconSize:10,iconType:"hand-pointing"}]}({isAdsOnlyPin:a,i18n:i});return(0,eq.jsx)(el.kC,{alignItems:"start",justifyContent:a?"around":"between",children:o.map(({align:e,displayText:i,field:t,iconType:a,iconSize:o=12,valueFormat:r})=>(0,eq.jsxs)(el.xu,{alignItems:"center",column:4,display:"flex",justifyContent:e,children:[(0,eq.jsx)(el.xu,{display:"inlineBlock",marginEnd:1,children:(0,eq.jsx)(el.JO,{accessibilityLabel:i,color:"default",icon:a,size:o})}),(0,eq.jsx)(el.xv,{inline:!0,size:"200",children:(0,eq.jsx)(tb,{value:n?.[t],valueFormat:r})})]},t))})}var tS=t(693058);let tj=(void 0!==_||(_=t(285670)).hash&&"759cd4814b8317139ca0fffbaf323f86"!==_.hash&&console.error("The definition of 'Source_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),_);function tk({disableLink:e,maybeDeepLinkProps:i,pinKey:t,showShoppingIcon:n,sourceText:a,weight:o}){(0,en.useEffect)(()=>{(0,et.Z)("Source","/app/www/PinRep/Footer/Source.tsx")},[]);let r=(0,e_.Z)(tj,t),l=(0,e9.Z)(),s=(0,eq.jsx)(el.xu,{alignItems:"stretch","data-test-id":"pin-source",direction:"row",display:"flex",justifyContent:"start",marginBottom:+!!n,children:(0,eq.jsxs)(el.kC,{gap:1,children:[n&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{transform:"scaleX(-1)"}},children:(0,eq.jsx)(tS.Z,{})}),"bold"===o?(0,eq.jsx)(el.mg,{__dangerouslyOverrideLineHeight:l,color:"default",lineClamp:1,overflow:"normal",size:"200",title:a,children:a}):(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:l,color:"default",lineClamp:1,overflow:"normal",size:"200",title:a,weight:o??"normal",children:a})]})});return e?s:(0,eq.jsx)(ec.Z,{...i,pinKey:r,children:s})}var tC=t(48476);let tI=(void 0!==f||(f=t(519261)).hash&&"ebd015c5512c5058931fb338dab1fa7e"!==f.hash&&console.error("The definition of 'Title_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),f);function tT({disableLink:e,maybeDeepLinkProps:i,numberOfLines:t=2,pinKey:n,pinTitle:a,showFoodIndicator:o,showShoppingIcon:r,weight:l}){(0,en.useEffect)(()=>{(0,et.Z)("Title","/app/www/PinRep/Footer/Title.tsx")},[]);let{checkExperiment:s}=(0,ew.Z)(),d=(0,e_.Z)(tI,n),c=(0,e9.Z)(),p=o&&s("web_food_indicator").group?.includes("title"),u=e?a:(0,eq.jsx)(ec.Z,{...i,pinKey:d,children:a}),h=(0,eq.jsx)(el.mg,{__dangerouslyOverrideLineHeight:c,color:"default",lineClamp:t,size:"200",children:u}),m=(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:c,color:"default",lineClamp:t,size:"200",weight:"normal",children:u});return(0,eq.jsxs)(el.kC,{gap:1,children:[r&&(0,eq.jsx)(tS.Z,{}),p&&(0,eq.jsx)(tC.Z,{}),"bold"!==l&&l?m:h]})}t(422578);let tZ=(void 0!==x||(x=t(316646)).hash&&"f0f669fb24bcfbf3c3b69497b4bdfcf8"!==x.hash&&console.error("The definition of 'useGetAttributionProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),x);var tA=t(352015),tD=t(721193);let tR=["CloseupRelatedProducts","ConversationView","CreatorProfileStoryPinGrid","CreatorProfileActivityPinGrid","ProductPinsFeed","UserProfilePinGrid"];function tB({attributionOption:e,feedbackType:i,isEligibleForPdp:t,isGroupBoard:n,showImageOnly:a,surface:o,isDownstreamPromotion:r,hasNativeCreator:l,hasPromoter:s,hasSponsorship:d,storyPinDataId:c,isRepin:p=!1}){if("promoted"===i||s&&!r||d)return"default";if("ConversationView"!==o&&void 0!==o&&tR.includes(o)||n||t)return"none";let u="default";return"SearchItem"===o&&c||(e&&("image-only"===e?u="image-only-credit":"hide"===e&&(u="none")),"none"===u&&p||"followed"===i&&!a||["IdeasHubSeasonalRow","TodayArticleFeed","ShoppingPackageItem"].includes(o||"")&&"hide"===e)?u:"TodayArticleFeed"===o&&"show"===e?"show-for-claimed-content":l?"default":"none"}function tE(e){return(e?.length||0)>7}function tz(){let e=(0,em.Z)();return e.isAuth&&((0,e2.Z)(e.createdAt)||(0,e3.Z)(null,e))&&!e.isPartner}function tL({surface:e,imageOnlyOption:i,isPlayable:t}){let n=tz();return"default"!==i&&(n="image-only"===i),(0,e5.Z)(e)&&(n=!1),("ShoppingSquareGridDomainNoMetadata"===e||"VideoCarouselModule"===e||t)&&(n=!0),("BaseBoardPinGrid"===e||"TodayArticleFeed"===e)&&(n=!1),n}let tO=(void 0!==y||(y=t(559622)).hash&&"36b6c2983222500af621bb13f58001de"!==y.hash&&console.error("The definition of 'useGetShowNativeReactions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),y);function tM({disableReaction:e,isOwnPin:i,isPromotedPin:t,pinKey:n,surface:a}){let o=(0,em.Z)(),r=(0,e_.Z)(tO,n),l=(0,e1.P)()||o.isAuth&&o.isEligibleForImageOnlyGrid,s=!!r.storyPinData?.isDeleted,d=(e||"CreatorProfileStoryPinGrid"!==a||i)&&(0,td.J6)({board:r.board&&{isCollaborative:r.board.isCollaborative,collaboratedByMe:r.board.collaboratedByMe},videos:r.videos&&r.videos.entityId?{entityId:r.videos.entityId}:null,isDownstreamPromotion:r.isDownstreamPromotion,isPromoted:t,storyPinDataId:r.storyPinDataId},s);return d=!l&&d,o.isAuth&&(d=!1),d??!1}var tF=t(200619),tG=t(601871),tK=t(171039),tV=t(157498);let tN=(void 0!==v||(v=t(559827)).hash&&"051e7b8f2087107c127f5c9db1fe38cb"!==v.hash&&console.error("The definition of 'useGetIsOrbacProfileManager_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),v);function tU({pinKey:e}){let i=(0,e_.Z)(tN,e),t=(0,er.TH)(),n=(0,em.Z)(),a=(0,tF.Z)(),o=(0,eZ.HG)()&&n.isAuth,r=(0,tK.Z)(!o),l=(0,tV.dM)();if(!o)return!1;let s=l&&l[r.data?.id??""]?l[r.data?.id??""]:r.data,{board:d,pinner:c}=i,p=!1;if((0,er.LX)({path:"/:username/_created/",end:!0},t.pathname))p=(0,tG.q6)(n,s?.id,a);else if((0,ie.am)(t)||(0,ie.OJ)(t)){let e=d&&d.owner&&d.owner.entityId||"";p=(0,tG.q6)(n,e,a)}else if((0,ie.uM)(t)){let e=c?.entityId||"";p=(0,tG.q6)(n,e,a)}return p}var tH=t(249459);let tW=(void 0!==b||(b=t(768684)).hash&&"8be17547e05a63403c315ff379c1f090"!==b.hash&&console.error("The definition of 'useGetPinAnalyticsStatus_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),b);function t$({orbacSubjectId:e,pinKey:i,viewer:t}){let n=(0,e_.Z)(tW,i);if(!t.isAuth||!t.isPartner)return!1;let{creatorAnalytics:a}=n,o=!!n.storyPinDataId,r=!!n.videos?.videoList,l=!(o||r)&&0!==Object.keys(n.aggregatedPinData?.creatorAnalytics?._30dRealtime||{}).length,s=n.board?.privacy===tH.Z.BoardPrivacy.PUBLIC,d=(n.board?.privacy===tH.Z.BoardPrivacy.PROTECTED||s)&&!n.isRepin&&[t.id,e].includes(n.pinner?.entityId);return l||0!==Object.keys(a?._30dRealtime||{}).length||t.isPartner&&d||o&&d}let tY=(void 0!==P||(P=t(439064)).hash&&"541f701b6a79fbea2cdddfde72e0031e"!==P.hash&&console.error("The definition of 'useGetDefaultFooterProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),P);var tq=t(301055),tX=t(64471),tJ=t(748336);let tQ=(void 0!==w||(w=t(670851)).hash&&"37491d04346db29ac63adec3628619df"!==w.hash&&console.error("The definition of 'useGetPinProductCurrentAndOriginalPrice_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),w);function t0({isShopping:e,pinKey:i,showPromotedShoppingPrice:t}){let n,a,{richSummary:o}=(0,e_.Z)(tQ,i);if(e||t){let{offerSummary:e}=o?.products?.[0]||{};n=e?e.standardPrice:void 0,a=e?(0,is.Z)({maxPrice:e.maxPrice,minPrice:e.minPrice,price:e.price}):void 0}let r=a||n;return(0,en.useMemo)(()=>({shownPrice:r,productCurrentPrice:a,productOriginalPrice:n}),[r,a,n])}var t1=t(329577);let t2=["ArticleProductsStory","BoardCoverSelectablePin","BulkEditMode","CommentReply","EngagementDetails","IdeasHubSeasonalRow","OtherProfilePinGrid","SectionSuggestedPins","SelectableBoardlessPin","TopicBestPinNarrow","TopicBestPinWide","VisualInspirationPin","VisualInspirationFocusPin"],t3=(void 0!==S||(S=t(740853)).hash&&"c06339f5737d335dd14260e46ce27c5e"!==S.hash&&console.error("The definition of 'useGetShowFooter_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),S),t6=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid","ProductTaggingSearchResult"],t7=(void 0!==j||(j=t(483008)).hash&&"27f083a6b69859b0c40d89df4ed13863"!==j.hash&&console.error("The definition of 'useGetFooterProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),j);function t5(e){let{clientTrackingParams:i,dynamicRel:t,feedbackData:n,feedbackType:a,footerProductStyle:o,hasTextContent:r,hasTitleOrSource:l,isDeletedStoryPin:s,isProduct:d,isPromoted:c,pinTitle:p,productCurrentPrice:u,productOriginalPrice:h,showContextMenuButton:m,showFooter:g,showOrganicPreLovedGoodsLabel:_,shownPrice:f,sourceText:x,titleLines:y,visitSiteUrl:v}=function({attributionOption:e,disableReaction:i,feedback:t,imageOnlyOption:n,showShoppingAffordances:a,isShopping:o,isInFullWidthStory:r,pinKey:l,surface:s,viewParameter:d,hideContextMenu:c=!1}){let p=(0,ew.Z)(),u=(0,em.Z)(),{isAuth:h}=u,m=(0,eZ.ZP)(),g=(0,e_.Z)(t7,l),_=(0,tX.Z)({pinKey:g}),{board:f,isDownstreamPromotion:x,isEligibleForPdp:y,isPromoted:v,isEligibleForPreLovedGoodsLabel:b,link:P,nativeCreator:w,pinner:S,promoter:j,richSummary:k,sponsorship:C,storyPinDataId:I,storyPinData:T,title:Z,gridTitle:A,videos:D}=g,R=!v&&(T?.pages?.[0]?.blocks?.[0]?.__typename==="StoryPinVideoBlock"&&T?.pages?.[0]?.blocks?.[0]?.videoDataV2?.__typename==="StoryPinVideoMetadataFormattedV2"||D?.videoList?.__typename==="VideoList"),B=(0,e1.P)()||u.isAuth&&u.isEligibleForImageOnlyGrid||"VideoCarouselModule"===s,E=f?.collaboratorCount,z="number"==typeof E&&E>0||f?.isCollaborative,L=(0,ij.Z)(u,g.board?.owner?.entityId),O=!!(z&&["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(s??"")),M=(0,tq.Z)(g,u),F=tU({pinKey:g}),G=!(L||M||"CollageCreation"===s||s&&t6.includes(s)||F),K=G&&!B&&"enabled_overflow_menu_entrypoint"!==p.checkExperiment("webpack_react_profiler").group,V=((0,e1.P)()||u.isAuth&&u.isEligibleForImageOnlyGrid)&&G&&"VideoCarouselModule"!==s&&(!o||"ProductOnlySearchItem"===s)&&(p.checkExperiment("ap_dweb_simplified_grid_overflow_menu_entrypoint").anyEnabled||p.checkExperiment("ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint").anyEnabled),N=!!j&&!x,U=202===d,H=4193===d,W=!c&&!H&&!U&&(N||K||V),$=tL({surface:s,imageOnlyOption:n,isPlayable:R}),Y=function({showShoppingAffordances:e=!1,surface:i,viewParameter:t,simplifiedGridOverflowMenuEntrypointExpEnabled:n=!1,showContextMenuButton:a=!1}){let{closeupWithinMasonryEnabled:o,peekCloseupEnabled:r,viewportSize:l}=(0,eF.x4)(),s=e?i1.shoppingAffordancesProductContainer:i1.productContainer;return s=o?i1.closeupWithinMasonryProductContainer:s,s=r&&"lg"===l?i1.peekCloseupEnabledLargeProductContainer:s,{...s=n&&a?i1.simplifiedGridProductContainer:s,..."VisualInspirationShoppingPin"===i||4110===t?{paddingTop:"8px"}:{}}}({showShoppingAffordances:a,surface:s,viewParameter:d,simplifiedGridOverflowMenuEntrypointExpEnabled:V,showContextMenuButton:W}),q=(0,ih.Z)({surface:s,showShoppingAffordances:a}),X=i_({pinKey:g,surface:s,prioritizeMerchant:!!y&&!N}),J=!!s&&!["ShoppingPackageItem","ShoppingSquareGridDomain"].includes(s)&&!N&&!$&&!!y&&!!X,Q=tM({disableReaction:i,isOwnPin:!!(h&&S&&S.entityId===u.id),isPromotedPin:g.isPromoted??null,pinKey:g,surface:s});"AuthHomefeed"!==s||N||(Q=!1),"ConversationView"===s&&(J=!1),X=J?X:void 0;let ee=N&&!$&&p.checkExperiment("ads_dynamic_titles_mvp",{dangerouslySkipActivation:!0}).anyEnabled,ei=(0,id.Z)({isGroupBoard:!!f?.isCollaborative,surface:s,pinKey:g}),et=$?"":(ee?A:void 0)||Z||ei,en=et||X,ea=tz(),eo=e;(ea&&!eo||B)&&(eo="image-only");let{data:er}=t||{},el=(0,tD.Z)({feedbackType:t?.type,viewParameter:d,pinKey:g}),es=tB({attributionOption:eo,feedbackType:el,isEligibleForPdp:!!y,isGroupBoard:O,showImageOnly:$,surface:s,isDownstreamPromotion:x,hasNativeCreator:!!w,hasPromoter:!!j,hasSponsorship:!!C,storyPinDataId:I}),ed="SearchAdsOnlyModule"===s,ec=!g.adData?.excludeFromGridRepTests&&"SearchAdsOnlyModule"!==s&&p.checkExperiment("web_pinrep_one_line_title",{dangerouslySkipActivation:!0}).group,ep="enabled_1l_pr_all_aug"===p.checkExperiment("ads_l13d_main",{dangerouslySkipActivation:!0}).group||"enabled"===ec||"enabled_ads_only"===ec&&N||"enabled_organic_only"===ec&&!N?1:function({attributionType:e,isPromoted:i,showSource:t,showStarRating:n}){return n?2:i?3:t||"none"!==e?1:2}({isPromoted:!!N,showSource:J,attributionType:es,showStarRating:ed}),{shownPrice:eu,productCurrentPrice:eh,productOriginalPrice:eg}=t0({pinKey:g,isShopping:o,showPromotedShoppingPrice:N&&!!q}),ef=k?.url||P,ex=(0,tJ.Z)({url:ef}),ey=!N&&q?"shopping":"standard",ev=t$({pinKey:g,viewer:u}),eb=function({hasFooterContent:e,isGroupBoard:i,isInFullWidthStory:t,pinKey:n,surface:a}){let o=(0,t1.WG)(),r=(0,e_.Z)(t3,n),l=(0,em.Z)(),{board:s,pinner:d,sponsorship:c}=r,p=s?.collaboratedByMe,u=!!r.promoter&&!r.isDownstreamPromotion,h=(0,ij.Z)(l,s?.owner?.entityId),m=!!(l.isAuth&&d&&d.entityId===l.id),g=(0,e1.P)()||l.isAuth&&l.isEligibleForImageOnlyGrid,_=l.isAuth&&l.isPartner,f=!1;a&&["OtherProfilePinGrid","ShoppingGridSmall",...!t?["BoardShoppingModule"]:[]].includes(a)?f=!0:["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(a??"")?f=o?.boardPinDensity==="dense":("UserProfilePinGrid"===a||"RetrievalHub"===a)&&(f=o?.profilePinDensity==="dense");let x=e||i;return["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(a??"")&&h&&_||c?x=!0:a&&t2.includes(a)||f&&(h||p)||"RetrievalHub"===a&&f?x=!1:m||"CreatorProfileStoryPinGrid"!==a&&"CreatorProfileActivityPinGrid"!==a||(x=!1),!g||u||c||(x=!1),("CollageCreation"===a||"PublishedCollages"===a)&&(x=!1),x}({hasFooterContent:!!(et||ey||X||"none"!==es||Q||eh||eg||ev),isGroupBoard:O,isInFullWidthStory:r,pinKey:g,surface:s}),eP=T?.isDeleted,eS=(0,eU.Z)(_,g.trackingParams),ej=k?.typeName==="product",ek="desktop"===m&&b&&!N&&"enabled_metadata"===p.checkExperiment("web_organic_pre_loved_goods_label").group;return{clientTrackingParams:eS,dynamicRel:ex?"nofollow":"none",feedbackData:er,feedbackType:el,footerProductStyle:Y,hasTextContent:!!en,hasTitleOrSource:en,isDeletedStoryPin:eP,isProduct:ej,isPromoted:N,pinTitle:et,productCurrentPrice:eh,productOriginalPrice:eg,showContextMenuButton:W,showFooter:eb,showOrganicPreLovedGoodsLabel:ek,shownPrice:eu,sourceText:X,titleLines:ep,visitSiteUrl:ef}}(e);return(0,en.useMemo)(()=>({clientTrackingParams:i,dynamicRel:t,feedbackData:n,feedbackType:a,footerProductStyle:o,hasTextContent:r,hasTitleOrSource:l,isDeletedStoryPin:s,isProduct:d,isPromoted:c,pinTitle:p,productCurrentPrice:u,productOriginalPrice:h,showContextMenuButton:m,showFooter:g,showOrganicPreLovedGoodsLabel:_,shownPrice:f,sourceText:x,titleLines:y,visitSiteUrl:v}),[i,t,n,a,o,r,l,s,d,c,p,u,h,m,g,_,f,x,y,v])}function t4(e,i=i0.X){let[t,n]=(0,en.useState)(!1),a=(0,i0.Z)(t||e,0,i);return{isHovering:t,hoverTransitionState:a,handleMouseOver:(0,en.useCallback)(()=>n(!0),[n]),handleMouseLeave:(0,en.useCallback)(()=>n(!1),[n])}}var t8=t(569905),t9=t(488598);let ne=(0,iU.Z)(()=>Promise.resolve().then(t.bind(t,937710)),void 0,e=>937710,"app-www-ContextMenuDesktop-PinContextMenuButton",e=>[]),ni=(void 0!==k||(k=t(579061)).hash&&"c2d9b24e1b2a4ebef74abf9b64bd887e"!==k.hash&&console.error("The definition of 'DefaultAuthDesktop_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),k);function nt({attributionOption:e,clientTrackingParams:i,disableHover:t=!1,disableReaction:n,feedback:a,forcedHover:o=!1,hideFavoriteButton:r,imageOnlyOption:l,isInFullWidthStory:s,hideContextMenu:d=!1,isShopping:c,maybeDeepLinkProps:p,pinKey:u,surface:h,viewParameter:m}){(0,en.useEffect)(()=>{(0,et.Z)("DefaultAuthDesktop","/app/www/PinRep/Footer/DefaultAuthDesktop.tsx")},[]);let g=(0,ea.I0)(),_=(0,ef.Z)(),{checkExperiment:f}=(0,ew.Z)(),x=(0,e_.Z)(ni,u),{board:y}=x,v=iC(y?.owner?.entityId??"",y?.layout??"",[...y?.featuredIn??[]],m),{entityId:b,isDownstreamPromotion:P,isEligibleForPdp:w,isEligibleForPreLovedGoodsLabel:S,promoter:j,richSummary:k,storyPinDataId:C,sponsorship:I}=x,{feedbackType:T,feedbackData:Z,hasTextContent:A,hasTitleOrSource:D,isPromoted:R,pinTitle:B,productOriginalPrice:E,productCurrentPrice:z,showContextMenuButton:L,showFooter:O,showOrganicPreLovedGoodsLabel:M,sourceText:F,titleLines:G}=t5({attributionOption:e,disableReaction:n,feedback:a,imageOnlyOption:l,isInFullWidthStory:s,showShoppingAffordances:v,isShopping:!!c,pinKey:x,surface:h,viewParameter:m,hideContextMenu:d}),{attributionType:K,footerDefaultStyle:V,hasAffiliateProducts:N,isPromotedByPinCreator:U,reactionCounts:H,showCarouselEllipsis:W,showFavoriteButton:$,showGroupBoardAvatar:Y,showNativeReactions:q,showFoodIndicator:X,showPinStats:J,showShoppingIcon:Q,showSimplifiedAttribution:ee,showSourceFirst:ei,brandNameReorderVariant:eo,showSponshorship:er,showStarRating:es,sponsorName:ed,productRating:ep}=function({attributionOption:e,disableReaction:i,feedback:t,imageOnlyOption:n,showContextMenuButton:a=!0,showShoppingAffordances:o,pinKey:r,surface:l,viewParameter:s,hideFavoriteButton:d=!1}){let c=(0,ew.Z)(),p=(0,em.Z)(),{isAuth:u}=p,h=(0,e_.Z)(tY,r),{adData:m,board:g,carouselData:_,isDownstreamPromotion:f,isEligibleForPdp:x,nativeCreator:y,pinner:v,promoter:b,richSummary:P,showFoodIndicator:w,sponsorship:S,storyPinDataId:j,storyPinData:k,title:C}=h,I=tL({surface:l,imageOnlyOption:n}),T=!!b&&!f,Z=tU({pinKey:h}),A=(0,ij.Z)(p,g?.owner?.entityId),D=(0,ti.Z)(h),R="CreatorProfileStoryPinGrid"===l||"CreatorProfileActivityPinGrid"===l,B=i_({pinKey:h,surface:l,prioritizeMerchant:!!x&&!T}),E=!!l&&!["ShoppingPackageItem","ShoppingSquareGridDomain"].includes(l)&&!T&&!I&&!!B,z=!!(u&&v&&v.entityId===p.id),L=!d&&!Z&&(["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(l??"")&&A||"RetrievalHub"===l||!!(h.board?.isCollaborative&&(0,i3.Z)(g?.collaboratedByMe,g?.owner?.entityId,p)))&&!R,O=tM({disableReaction:i,isOwnPin:z,isPromotedPin:h.isPromoted??null,pinKey:h,surface:l});"AuthHomefeed"!==l||T||(O=!1),"ConversationView"===l&&(E=!1,L=!1),B=E?B:void 0;let M=(0,id.Z)({isGroupBoard:!!g?.isCollaborative,surface:l,pinKey:h}),F=(0,e1.P)()||p.isAuth&&p.isEligibleForImageOnlyGrid,G=F&&(c.checkExperiment("ap_dweb_simplified_grid_overflow_menu_entrypoint").anyEnabled||c.checkExperiment("ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint").anyEnabled),K=function({pinTitle:e,surface:i,paddingOverride:t}){let n=i1.container;return"ConversationView"===i&&(n={padding:e?"8px":"0px"}),t&&(n={...n,padding:t}),n}({pinTitle:I?"":C||M,surface:l,paddingOverride:(()=>{if(!F||G)return!G||a||S||T?"8px 6px 0px":"0px 6px 0px"})()}),V=g?.collaboratorCount,N=!!(("number"==typeof V&&V>0||g?.isCollaborative)&&"BaseBoardPinGrid"===l),U=tz(),H=!!S,W=k?.hasAffiliateProducts,$=H||W&&!T,Y=e;(U&&!Y||F)&&(Y="image-only");let q=tB({attributionOption:Y,feedbackType:(0,tD.Z)({feedbackType:t?.type,viewParameter:s,pinKey:h}),isEligibleForPdp:!!x,isGroupBoard:N,showImageOnly:I,surface:l,isDownstreamPromotion:f,hasNativeCreator:!!y,hasPromoter:!!b,hasSponsorship:H,storyPinDataId:j}),X=(0,ih.Z)({surface:l,showShoppingAffordances:o}),J=!T&&X?"shopping":"standard",Q=t$({pinKey:h,viewer:p}),ee="shopping"===J,ei=!!_?.entityId,et=(0,tA.Z)(h);tE(et?.carouselSlots)&&(ei=!1);let ea=N&&!H,eo=c.checkExperiment("simpler_ad_attribution").anyEnabled&&T,er=T&&y?.entityId===b?.entityId,el=iT(m?.excludeFromGridRepTests),es=el!==iI.enabled_remove_product_tag&&!!h.isEligibleForPdp&&!T&&!ee,ed=!es&&w&&c.checkExperiment("web_food_indicator").anyEnabled,ec=ee&&!!x&&!T,ep=!!el||ec,{fullName:eu}=S?.sponsor||{},eh="SearchAdsOnlyModule"===l;return(0,en.useMemo)(()=>{let e=eh?{count:P?.aggregateRating?.ratingCount,rating:P?.aggregateRating?.ratingValue}:null;return{attributionType:q,footerDefaultStyle:K,hasAffiliateProducts:W,isPromotedByPinCreator:er,reactionCounts:D,showCarouselEllipsis:ei,showFavoriteButton:L,showGroupBoardAvatar:ea,showNativeReactions:O,showFoodIndicator:ed,showPinStats:Q,showShoppingIcon:es,showSimplifiedAttribution:eo,showSourceFirst:ep,brandNameReorderVariant:el,showSponshorship:$,showStarRating:eh,sponsorName:eu,productRating:e}},[q,K,W,er,D,ei,L,ea,O,Q,es,eo,ep,el,$,eh,ed,eu,P?.aggregateRating?.ratingCount,P?.aggregateRating?.ratingValue])}({attributionOption:e,disableReaction:n,feedback:a,imageOnlyOption:l,showContextMenuButton:L,hideFavoriteButton:r,showShoppingAffordances:v,pinKey:x,surface:h,viewParameter:m}),eu=(0,e9.Z)(),eh=function({hasRichSummaryProductsBrandName:e,isPromoted:i,surface:t}){let n=!0;return"SearchAdsOnlyModule"===t?n=!1:"AuthHomefeed"!==t||i||(n=!e),"ConversationView"===t&&(n=!1),n}({hasRichSummaryProductsBrandName:!!(k?.products?.[0]||{}).brand?.name,isPromoted:R,surface:h}),eg=(0,em.Z)(),{isAuth:ex}=eg,{isBot:ey}=(0,ej.B)(),ev=!ey&&ex&&((0,e2.Z)(eg.createdAt)||(0,e3.Z)(null,eg)),eb=((0,e1.P)()||eg.isAuth&&eg.isEligibleForImageOnlyGrid)&&(f("ap_dweb_simplified_grid_overflow_menu_entrypoint").anyEnabled||f("ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint").anyEnabled),eP=((0,e1.P)()||eg.isAuth&&eg.isEligibleForImageOnlyGrid)&&!O&&!R&&!er&&!((0,e5.Z)(h)&&!ev)&&eb,eS=function({pinKey:e}){let i=(0,ef.Z)(),{isDownstreamPromotion:t,nativeCreator:n,promoter:a,sponsorship:o,gridAttribution:r}=(0,e_.Z)(tZ,e),l=!!a&&!t,s=l&&!!o&&n?.entityId!==a?.entityId,d=o?.sponsor,c="",p="",u="",h="",m="",g="",_=!1;function f(e,i){return!!e&&!!i}let x=null;if(s?(c=n?.imageMediumUrl??n?.imageSmallUrl??"",p=null!=n&&f(n?.isAdsOnlyProfile,n?.adsOnlyProfileSite)&&n?n.adsOnlyProfileSite??"":`/${n?.username??""}/`,u=a?.fullName,h=n?.fullName,g=f(n?.isAdsOnlyProfile,n?.adsOnlyProfileSite)&&n?n.adsOnlyProfileSite??"":`/${n?.username??""}/`,m=`/${a?.username??""}/`,_=f(n?.isAdsOnlyProfile,n?.adsOnlyProfileSite)):l&&a?(c=a.imageMediumUrl||a.imageSmallUrl,u=a.fullName,h=i._('Sponsored', 'indicating the username of the person who promoted the pin', 'new simpler attribution name for promoted pins'),g=f(a.isAdsOnlyProfile,a.adsOnlyProfileSite)?a.adsOnlyProfileSite:`/${a.username??""}/`,_=f(a.isAdsOnlyProfile,a.adsOnlyProfileSite)):o&&d?.username?(c=n?.imageLargeUrl??n?.imageMediumUrl??n?.imageSmallUrl??"",p=f(n?.isAdsOnlyProfile,n?.adsOnlyProfileSite)&&n?n.adsOnlyProfileSite??"":`/${n?.username??""}/`,u=d.fullName,h=n?.fullName,g=f(n?.isAdsOnlyProfile,n?.adsOnlyProfileSite)&&n?n.adsOnlyProfileSite??"":`/${n?.username??""}/`,m=`/${d.username??""}/`,_=f(n?.isAdsOnlyProfile,n?.adsOnlyProfileSite)):x=r??null,x){let e=f(x.isAdsOnlyProfile,x.adsOnlyProfileSite);c=x.imageLargeUrl??x.imageMediumUrl??x.imageSmallUrl??"",h=x.fullName,g=e?x.adsOnlyProfileSite:`/${x.username??""}/`,_=e}return{avatarUrl:c??"",attributionNameLink:p??"",attributionTitle:u??"",name:h??"",sponsorUrl:m,url:(g="//"===g?"":g)??"",shouldRenderAdsOnlyProfileClick:!!_}}({pinKey:x}),{avatarUrl:ek,attributionNameLink:eC,attributionTitle:eI,name:eT,sponsorUrl:eZ,url:eA,shouldRenderAdsOnlyProfileClick:eD}=eS,eR=(0,iJ.Z)(101,{view_type:3,element:27,object_id_str:b,component:C?230:void 0,aux_data:{pin_id:b,...I?.creator?.entityId&&I.sponsor?.entityId?{creator_id:I.creator.entityId,sponsor_id:I.sponsor.entityId}:{}}}),eB=e=>g(eB(e)),{hoverTransitionState:eE}=t4(!!o);t&&(eE="inactive");let ez=(!!eh||!!ee||!!R)&&"VideoCarouselModule"!==h,eL=(e=!1)=>{if(!ez)return null;let i=(0,eq.jsx)(iX.Z,{attributionNameLink:eC,attributionTitle:R&&!I||U?eI:"",avatarUrl:ek,fontWeight:e?"bold":"normal",hasPromoter:!!j,hasSponsorship:!!I,isDownstreamPromotion:P,isPromotedByPinCreator:!!U,name:eT,pinId:b,renderSponsoredText:!e,shouldRenderAdsOnlyProfileClick:eD,showSimplifiedAttribution:ee,sponsorshipCreatorId:I?.creator?.entityId,storyPinDataId:C,url:eA}),t=()=>Object.values(eS).some(e=>!!e),n="image-only-credit"===K?eE:null;switch(K){case"none":if(!w)return t()?i:null;return null;case"image-only-credit":return(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:i1.imageOnlyAttribution["active"===n?"visible":"hidden"]},children:(0,eq.jsx)(tx,{feedbackType:T,pinKey:x})});default:return t()||R?i:null}},eO=(0,e1.P)()||eg.isAuth&&eg.isEligibleForImageOnlyGrid,eM=!eO||eb,eF=!!eo&&R,eG=E||z;return(0,eq.jsxs)(el.xu,{dangerouslySetInlineStyle:{__style:V},"data-test-id":"pinrep-footer",children:[W&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:D||Y||"none"!==K?{marginBottom:"6px"}:{}},display:"flex",justifyContent:"center",children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(iQ.Z,{pinKey:x})})}),ee?(0,eq.jsxs)(el.kC,{children:[(0,eq.jsxs)(el.kC,{direction:"column",flex:"grow",children:[S&&(0,eq.jsx)(el.xu,{marginBottom:1,children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:eu,size:"200",children:_._('Pre-owned', 'FooterDefaultContent.preOwnedText', 'Text informing users that this is a pre-owned product pin')})}),eF?eh&&(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"start",children:(0,eq.jsx)(el.xu,{flex:"grow",children:(0,eq.jsx)(en.Fragment,{children:eL(!0)})})}):eG&&(0,eq.jsx)(el.xu,{marginBottom:1,children:(0,eq.jsx)(ec.Z,{...p,pinKey:x,children:(0,eq.jsx)(ip,{currentPrice:z,originalPrice:E})})}),(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"start",children:(0,eq.jsx)(el.xu,{marginBottom:+!eM,children:(0,eq.jsx)(tT,{maybeDeepLinkProps:p,numberOfLines:G,pinKey:x,pinTitle:B,weight:eF||ei&&(F||!eo)?"normal":void 0})})}),eF&&eG&&(0,eq.jsx)(el.xu,{marginBottom:0,children:(0,eq.jsx)(ec.Z,{...p,pinKey:x,children:(0,eq.jsx)(ip,{currentPrice:z,originalPrice:E,weight:"normal"})})}),eh&&(eF?(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,eq.jsx)(el.kC,{gap:{row:1,column:0},children:(0,eq.jsx)(el.xu,{marginTop:+!eM,children:(0,eq.jsx)(iX.g,{hasSponsorship:!!I,isPromoted:R,isPromotedByPinCreator:U,pinId:b,sponsorshipCreatorId:I?.creator?.entityId,storyPinDataId:C})})})}):(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"start",children:(0,eq.jsx)(el.xu,{flex:"grow",children:(0,eq.jsx)(en.Fragment,{children:eL()})})})),es&&(0,eq.jsx)(ec.Z,{...p,pinKey:x,children:(0,eq.jsx)(t8.Z,{count:ep?.count,countFormat:"number",rating:ep?.rating,textSize:"200"})})]}),(0,eq.jsx)(el.xu,{direction:"column",display:"flex",justifyContent:"start",right:!0,top:!0,children:L&&(0,eq.jsx)(ne,{clientTrackingParams:i,feedbackData:Z,feedbackType:T,pinKey:x,pinTitle:B,size:es||!eO||eb?"xs":void 0,transparentBackground:!0,viewParameter:m})})]}):(0,eq.jsxs)(el.xu,{children:[!eP&&J&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"6px"}},"data-test-id":"pin-stats-footer",flex:"grow",width:"100%",children:(0,eq.jsx)(tw,{pinKey:x})}),(0,eq.jsxs)(el.kC,{alignItems:"stretch",justifyContent:eP?"end":"start",children:[!eP&&(0,eq.jsxs)(el.xu,{flex:"grow",children:[eh&&eF&&(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"start",children:(0,eq.jsx)(el.xu,{flex:"grow",children:(0,eq.jsx)(en.Fragment,{children:eL(!0)})})}),er&&!U&&(0,eq.jsx)(el.xu,{marginBottom:1,children:(0,eq.jsx)(el.xu,{flex:"grow",overflow:"hidden",children:(0,eq.jsx)(t9.Z,{hasAffiliateProducts:!!N,href:eZ||eA,isGrid:!0,isPromoted:R,onNavigateSponsorClick:()=>{eB(b),eR()},sponsorName:ed,sponsorshipStatus:I?.status,textWeight:"bold"})})}),(A||$)&&(0,eq.jsxs)(el.xu,{marginBottom:0,children:[!eF&&eG&&(0,eq.jsx)(el.xu,{marginBottom:1,children:(0,eq.jsx)(ec.Z,{...p,pinKey:x,children:(0,eq.jsx)(ip,{currentPrice:z,originalPrice:E})})}),F&&ei&&(0,eq.jsx)(tk,{maybeDeepLinkProps:p,pinKey:x,showShoppingIcon:Q&&!eo,sourceText:F,weight:"bold"}),(0,eq.jsx)(el.xu,{"data-test-id":"pinrep-footer-organic-title",marginTop:F&&eo?.5:void 0,children:(0,eq.jsx)(tT,{maybeDeepLinkProps:p,numberOfLines:G,pinKey:x,pinTitle:B,showFoodIndicator:!!X,showShoppingIcon:Q&&(!ei||eo===iI.enabled),weight:eF||ei&&(F||!eo)?"normal":void 0})}),F&&!ei&&(0,eq.jsx)(el.xu,{marginBottom:2*!M,children:(0,eq.jsx)(tk,{maybeDeepLinkProps:p,pinKey:x,sourceText:F})}),eF&&eG&&(0,eq.jsx)(el.xu,{marginBottom:0,children:(0,eq.jsx)(ec.Z,{...p,pinKey:x,children:(0,eq.jsx)(ip,{currentPrice:z,originalPrice:E,weight:"normal"})})})]}),eh&&(eF?(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{marginBottom:"2px"}},children:(0,eq.jsx)(el.kC,{gap:{row:1,column:0},children:(0,eq.jsx)(el.xu,{marginTop:+!eM,children:(0,eq.jsx)(iX.g,{hasSponsorship:!!I,isPromoted:R,isPromotedByPinCreator:U,pinId:b,sponsorshipCreatorId:I?.creator?.entityId,storyPinDataId:C})})})}):(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"start",children:(0,eq.jsx)(el.xu,{flex:"grow",children:(0,eq.jsx)(en.Fragment,{children:eL()})})})),q&&!!H&&Object.keys(H).length>0&&(0,eq.jsx)(el.xu,{marginTop:"ConversationView"===h?2:void 0,children:(0,eq.jsx)(th,{pinKey:x,surface:h})}),M&&(0,eq.jsx)(el.xv,{color:"subtle",size:"200",children:_._('Pre-owned', 'FooterDefaultContent.preOwnedText', 'Text informing users that this is a pre-owned product pin')})]}),!eP&&$&&(0,eq.jsx)(el.xu,{marginStart:3,children:(0,eq.jsx)(te,{pinKey:x})}),L&&(0,eq.jsx)(el.xu,{flex:"none",children:(0,eq.jsx)(ne,{clientTrackingParams:i,feedbackData:Z,feedbackType:T,pinKey:x,pinTitle:B,size:!eO||eb?"xs":void 0,transparentBackground:!0,viewParameter:m})})]},`${b}-sponsor-name-link`)]})]})}let nn=(0,iU.Z)(()=>Promise.resolve().then(t.bind(t,937710)),void 0,e=>937710,"app-www-ContextMenuDesktop-PinContextMenuButton",e=>[]),na=(void 0!==C||(C=t(76783)).hash&&"08cc1f8d0320cb1d348995ebd97695a1"!==C.hash&&console.error("The definition of 'ProductAuthDesktop_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),C);function no({attributionOption:e,clientTrackingParams:i,disableReaction:t,enableCollectionChips:n,feedback:a,imageOnlyOption:o,isInFullWidthStory:r,hideContextMenu:l=!1,isMobile:s,isShopping:d,pinKey:c,productTagParentPinId:p,showVisitSiteButton:u,surface:h,titleLines:m,viewParameter:g}){(0,en.useEffect)(()=>{(0,et.Z)("ProductAuthDesktop","/app/www/PinRep/Footer/ProductAuthDesktop.tsx")},[]);let _=(0,ef.Z)(),{logContextEvent:f}=(0,eu.u)(),x=(0,e_.Z)(na,c),{isOosProduct:y,isStaleProduct:v}=x,{board:b}=x,{adData:P}=x,w=iC(b?.owner?.entityId??"",b?.layout??"",[...b?.featuredIn??[]],g),S=iT(P?.excludeFromGridRepTests),{dynamicRel:j,feedbackData:k,feedbackType:C,footerProductStyle:I,hasTextContent:T,pinTitle:Z,productCurrentPrice:A,productOriginalPrice:D,showContextMenuButton:R,sourceText:B,titleLines:E,visitSiteUrl:z}=t5({attributionOption:e,disableReaction:t,feedback:a,imageOnlyOption:o,isInFullWidthStory:r,isShopping:!!d,showShoppingAffordances:w,pinKey:x,surface:h,viewParameter:g,hideContextMenu:l}),L=v?(0,eq.jsx)(iu,{}):null,O=y?(0,eq.jsx)(ic,{}):null,M=D||A?(0,eq.jsx)(ip,{color:w&&y?"subtle":void 0,currentPrice:A,onlyShowCurrentPrice:"ShoppingGridSmallCarousel"===h,originalPrice:D,weight:"normal"}):null,F=B?(0,eq.jsx)(tk,{disableLink:!0,pinKey:x,sourceText:B,weight:"bold"}):null,G=m||E,K=G>0?(0,eq.jsx)(tT,{disableLink:!0,numberOfLines:G,pinKey:x,pinTitle:Z,weight:"normal"}):null;return(0,eq.jsxs)(el.xu,{dangerouslySetInlineStyle:{__style:I},direction:"row",display:"flex",height:"100%",children:[(0,eq.jsx)(el.kC,{direction:"column",flex:"grow",height:"100%",justifyContent:"between",children:T&&(0,eq.jsxs)(en.Fragment,{children:[(0,eq.jsx)(ec.Z,{enableDLCollection:!!n,isMobile:s,pinKey:x,productTagParentPinId:p,surface:h,children:(0,eq.jsxs)(el.kC,{direction:"column",gap:+!S,children:[F,K,(O||M)&&(0,eq.jsxs)(el.kC,{direction:"row",gap:+!S,height:18,overflow:"hidden",wrap:!0,children:[O,M]}),L]})}),u&&z?(0,eq.jsx)(el.xu,{marginTop:2,children:(0,eq.jsx)(el.ZP,{fullWidth:!0,href:z,onClick:()=>{f({event_type:12,view_type:1,view_parameter:3563})},rel:j,target:"blank",text:_._('Visit site', 'ShoppingList.Pin.CTA.Button.VisitSite.Text', 'Text on CTA button on ShoppingList Pin to Visit Site')})}):null]})}),R&&(0,eq.jsx)(nn,{clientTrackingParams:i,feedbackData:k,feedbackType:C,pinKey:x,pinTitle:Z,transparentBackground:!0,viewParameter:g})]})}var nr=t(655068),nl=t(720459),ns=t(667389),nd=t(841280);let nc=(void 0!==I||(I=t(558008)).hash&&"0d30ca86c6693263b2a2b8f4b8e19bbb"!==I.hash&&console.error("The definition of 'SeoMetadata_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),I);function np({componentType:e,dedupeVisualAnnotations:i,pinKey:t,userAvatarImageUrl:n,trafficSource:a,viewObjectIdStr:o,viewParameter:r,viewType:l,seoDrawerPinType:s,shouldShowSeoDrawerOption:d,shouldShowSeoDrawerNewfields:c,showSeeMoreButton:p,showOneLineTitleDescription:u,showDescription:h}){(0,en.useEffect)(()=>{(0,et.Z)("SeoMetadata","/app/www/PinRep/Footer/SeoMetadata.tsx")},[]);let m=(0,e_.Z)(nc,t),g=(0,ia.Z)();return(0,eq.jsx)(el.xu,{"data-test-id":"related-pins-title",children:(0,eq.jsx)(el.iP,{fullWidth:!1,onTap:()=>{g({action:"click",item:"related-pins-title"})},children:(0,eq.jsx)(nd.Z,{componentType:e,dedupeVisualAnnotations:i,pinKey:m,seoDrawerPinType:s,shouldShowSeoDrawerNewfields:c,shouldShowSeoDrawerOption:d,showDescription:h,showOneLineTitleDescription:u,showSeeMoreButton:p,trafficSource:a,userAvatarImageUrl:n,viewObjectIdStr:o,viewParameter:r,viewType:l})})})}var nu=t(331506);let nh=(void 0!==T||(T=t(619129)).hash&&"8c6917c7dcc31664a4d05b88be4e753e"!==T.hash&&console.error("The definition of 'useGetUnauthFooterProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),T);var nm=t(204237),ng=t(942797);let n_=(void 0!==Z||(Z=t(113554)).hash&&"0e7dca38f1f39ab4d285df9598ed06ca"!==Z.hash&&console.error("The definition of 'Unauth_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Z);function nf({blockClickEvents:e,carouselIndex:i,componentType:t,deepLinkProps:n,dedupeVisualAnnotations:a,disableReaction:o,feedback:r,feedbackType:l,imageOnlyOption:s,imageUrl:d,isConversationPin:c,isLongPressEnabledForAuth:p,isShopping:u,isSquarePin:h,pinCardDetailsMargin:m,pinKey:g,setIsLongPressEnabledForAuth:_,shouldAllowProductPriceIndicator:f,seoDrawerPinType:x,shouldShowSeoDrawerOption:y=!1,shouldShowSeoDrawerNewfields:v=!1,showSeoMetadata:b,surface:P,trackingParams:w,trafficSource:S,viewData:j,viewParameter:k,viewType:C,userAvatarImageUrl:I,showVaseAnnotationsProp:T}){(0,en.useEffect)(()=>{(0,et.Z)("Unauth","/app/www/PinRep/Footer/Unauth.tsx")},[]);let Z=(0,e_.Z)(n_,g),A=(0,eZ.ZP)(),D="desktop"===A,R=(0,ia.Z)(),B=(0,nr.Z)(),E=iD(Z),z=(0,e9.Z)(),{isBot:L,locale:O}=(0,ej.B)(),M=(0,nl.Z)(),F=(0,er.TH)(),G=(0,ef.Z)(),K=Z.nativeCreator?.verifiedIdentity?.verified??!1,V=Z.nativeCreator?.isVerifiedMerchant??!1,N=V||K,U=(0,em.Z)().isAuth,{checkExperiment:H}=(0,ew.Z)(),{attributionHeight:W,attrTitle:$,calculateLineClamp:Y,deeplinkUri:q,domain:X,productCurrentPrice:J,productOriginalPrice:Q,shownPrice:ee,showUnauthShoppingAffordances:ei,saveCount:ea}=function({isShopping:e,isSquarePin:i,pinKey:t,surface:n,viewParameter:a}){let{isAuth:o}=(0,em.Z)(),r=(0,eZ.HG)(),l=(0,e_.Z)(nh,t),s=iD(l),{board:d}=l,c=iC(d?.owner?.entityId??"",d?.layout??"",[...d?.featuredIn??[]],a),p=l?.aggregatedPinData?.aggregatedStats?.saves,u=(0,ih.Z)({surface:n,showShoppingAffordances:c}),{description:h,entityId:m,gridTitle:g,isDownstreamPromotion:_,promoter:f,richMetadata:x,richSummary:y,storyPinData:v,storyPinDataId:b,title:P}=l,{shownPrice:w,productCurrentPrice:S,productOriginalPrice:j}=t0({pinKey:l,isShopping:!!e,showPromotedShoppingPrice:!!f&&!_&&!!u}),k=function({isSquarePin:e,price:i,shouldDisplayMerchant:t}){if(i&&e)return t?90:68}({isSquarePin:i,price:w}),C=c&&!o&&!!n&&!!l&&"product"===s,I=(0,nu.fs)({pinTitle:P,gridTitle:g??void 0,richSummaryDisplayName:y?.displayName,richMetadataTitle:x?.title,storyPinDataId:b,storyPinDataMetadataPinTitle:v?.metadata?.pinTitle})||h,T=`/pin/${m}/`,Z=(0,en.useMemo)(()=>o||"product"===s?o?i?2:!o&&w?3:!o&&!w||o&&w?2:r?1:2:1:2,[o,r,i,s,w]),A=y?.siteName;return(0,en.useMemo)(()=>({attributionHeight:k,attrTitle:I,calculateLineClamp:Z,deeplinkUri:T,domain:A,productCurrentPrice:S,productOriginalPrice:j,shownPrice:w,showUnauthShoppingAffordances:C,saveCount:p}),[k,I,Z,T,A,S,j,w,C,p])}({isShopping:u,isSquarePin:h,pinKey:Z,surface:P,viewParameter:k}),eo=T??("image-only"!==s&&D&&3475!==k&&43!==k),es="product"===E&&!ei&&!!Z.entityId,ed=!D&&b&&"product"!==E,ec=D&&!ei,ep=3876===k,eu=D&&(0,ie.dr)(F)&&H("ff_save_count_on_klp").anyEnabled,eh=!U&&D,eg=!1;eh&&es&&(eg=!(!es&&ec));let ex=e?el.xu:eK.M,ey=e?{}:{accessibilityLabel:$,deeplinkUri:q,to:q};return(0,eq.jsxs)(en.Fragment,{children:[ei&&(0,eq.jsx)(el.xu,{marginBottom:2,marginStart:2,marginTop:2,width:142,children:(0,eq.jsx)(iy,{pinKey:Z,surface:P})}),eo&&!y&&(0,eq.jsx)(el.xu,{marginBottom:1,marginStart:ei?1:void 0,marginTop:1,children:(0,eq.jsx)(ng.Z,{componentType:t,dedupeVisualAnnotations:a??null,mode:"inlineWithScrollArrows",pinKey:Z,viewObjectIdStr:j?.view_object_id_str,viewParameter:k,viewType:C})}),es&&(0,eq.jsx)(el.xu,{direction:"column",display:"flex",height:W,marginBottom:-1,marginTop:2,paddingX:2,children:(0,eq.jsxs)(el.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:[(0,eq.jsx)(el.xu,{flex:"grow",minHeight:12,overflow:"hidden",width:142,children:(0,eq.jsxs)(ex,{...ey,children:[ee&&(0,eq.jsx)(el.iP,{dataTestId:"product-price",onTap:()=>R({action:"click",item:"product-price"}),children:(0,eq.jsx)(ip,{currentPrice:J,onlyShowCurrentPrice:!B,originalPrice:Q,textSize:"100",weight:"bold"})}),(0,eq.jsx)(el.xu,{marginTop:1,children:(0,eq.jsxs)(el.kC,{alignItems:"center",justifyContent:"between",children:[(0,eq.jsx)(el.xu,{flex:"grow",children:(0,eq.jsx)(el.iP,{dataTestId:"product-title",onTap:()=>R({action:"click",item:"product-title"}),children:(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:z,lineClamp:Y,size:"100",weight:"bold",children:$})})}),eg&&Z?.entityId&&(0,eq.jsx)(en.Fragment,{children:(0,eq.jsx)(io.default,{clientTrackingParams:w,componentType:t,feedbackData:r?.data,feedbackType:l,forcePrimaryContent:()=>{},hoveringInFeed:!0,onMobileTap:()=>{},onShareButtonClick:()=>{},pinKey:Z,seoDrawerPinType:x,shouldShowSeoDrawerNewfields:v,shouldShowSeoDrawerOption:y,size:eh?"xs":"md",surface:P,trafficSource:S,viewParameter:k})})]})}),X&&ee&&(0,eq.jsx)(el.xu,{marginTop:1,children:(0,eq.jsx)(el.iP,{accessibilityLabel:X||G._('Merchant\'s information', 'pinRepFooter.tapArea.MerchantName', 'The credits of this product merchant.'),dataTestId:"product-merchant",onTap:()=>R({action:"click",item:"product-merchant"}),children:N&&(0,eq.jsxs)(el.kC,{alignItems:"start",direction:"row",children:[(0,eq.jsx)(el.xv,{__dangerouslyOverrideLineHeight:z,lineClamp:1,size:"100",children:X}),(0,eq.jsx)(el.xu,{marginStart:1,children:(0,eq.jsx)(ns.Z,{isVerifiedIdentity:K,isVerifiedMerchant:V,size:"xs"})})]})})})]})}),"desktop"!==A&&(0,eq.jsx)(el.xu,{marginTop:-1,children:(0,eq.jsx)(nm.default,{componentType:t,dedupeVisualAnnotations:a,pinKey:Z,seoDrawerPinType:x,shouldShowSeoDrawerNewfields:v,shouldShowSeoDrawerOption:y,size:"sm",surface:P,trafficSource:S,viewObjectIdStr:j?.view_object_id_str,viewParameter:k,viewType:C})})]})}),!es&&ec&&(0,eq.jsx)(el.xu,{marginBottom:1,marginTop:1,children:(0,eq.jsx)(i$,{blockClickEvents:e,carouselIndex:i,componentType:t,deepLinkProps:n,disableReaction:o,feedback:r,feedbackType:l,imageUrl:d,isConversationPin:c,isLongPressEnabledForAuth:p,isSquarePin:h,pinCardDetailsMargin:m,pinKey:Z,seoDrawerPinType:x,setIsLongPressEnabledForAuth:_,shouldAllowProductPriceIndicator:f,shouldShowSeoDrawerNewfields:v,shouldShowSeoDrawerOption:y,showOneLineTitleDescription:ep,surface:P,trackingParams:w,trafficSource:S,viewParameter:k,viewType:C})}),ed&&(0,eq.jsx)(np,{componentType:t,dedupeVisualAnnotations:a,pinKey:Z,seoDrawerPinType:x,shouldShowSeoDrawerNewfields:v,shouldShowSeoDrawerOption:y,showDescription:ep,showOneLineTitleDescription:ep,showSeeMoreButton:!(ep&&L&&!y),trafficSource:S,userAvatarImageUrl:I,viewObjectIdStr:j?.view_object_id_str,viewParameter:k,viewType:C}),eu&&ea&&ea>0&&(0,eq.jsxs)(el.xu,{alignItems:"center",display:"flex",marginTop:2,children:[(0,eq.jsx)(el.JO,{accessibilityLabel:"Pin",color:"default",icon:"pin",inline:!0,size:12}),(0,eq.jsx)(el.xu,{marginStart:1,children:(0,eq.jsx)(el.xv,{inline:!0,size:"200",children:M(O,ea,{shortform:!0,shortform_maximum_fraction_digits:1})})})]}),eh&&!es&&!ec&&Z?.entityId&&(0,eq.jsx)(el.xu,{paddingX:2,children:(0,eq.jsx)(el.kC,{alignItems:"center",justifyContent:"end",children:(0,eq.jsx)(io.default,{clientTrackingParams:w,componentType:t,feedbackData:r?.data,feedbackType:l,forcePrimaryContent:()=>{},hoveringInFeed:!0,onMobileTap:()=>{},onShareButtonClick:()=>{},pinKey:Z,seoDrawerPinType:x,shouldShowSeoDrawerNewfields:v,shouldShowSeoDrawerOption:y,size:"xs",surface:P,trafficSource:S,viewParameter:k})})})]})}let nx=(void 0!==A||(A=t(453613)).hash&&"6d98fcd5190a3a7fbb47611d60ff8e4b"!==A.hash&&console.error("The definition of 'useGetIsShoppingPin_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),A);function ny({showShoppingAffordances:e,pinKey:i,surface:t}){let n=(0,e_.Z)(nx,i),a=(0,ih.Z)({surface:t,showShoppingAffordances:e}),{isDownstreamPromotion:o,promoter:r}=n,l=!(r&&!o)&&a?"shopping":"standard",s="shopping"===l;return(0,en.useMemo)(()=>({contentType:l,isShopping:s,isShoppingContentSurface:a}),[l,s,a])}function nv({blockClickEvents:e,children:i,shouldWrapOnProfiler:t}){return e?(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{pointerEvents:"none"}},children:i}):(0,eq.jsx)(el.kC,{flex:"grow",children:t?(0,eq.jsx)(ep.Z,{id:"EnablePointerEvents",children:(0,eq.jsx)(e7.Z,{fullWidth:!0,children:i})}):(0,eq.jsx)(e7.Z,{fullWidth:!0,children:i})})}function nb(e){(0,en.useEffect)(()=>{(0,et.Z)("PinFooter","/app/www/PinRep/Footer/PinFooter.tsx")},[]);let i=(0,eZ.HG)(),n=(0,em.Z)(),{isAuth:a}=n,{isBot:o}=(0,ej.B)(),r=a&&i,{attributionOption:l,blockClickEvents:s,clientTrackingParams:d,disableReaction:c,enableCollectionChips:p,feedback:u,imageOnlyOption:h,isInFullWidthStory:m,hideContextMenu:g,hideFavoriteButton:_,isSquarePin:f,maybeDeepLinkProps:x,pinKey:y,setForcePrimary:v,surface:b,viewParameter:P}=e,w=(0,e_.Z)((void 0!==D||(D=t(540188)).hash&&"2cb059d5ea68b15e8d1768633ad1b238"!==D.hash&&console.error("The definition of 'PinFooter_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),D),y),{board:S}=w,j=iC(S?.owner?.entityId??"",S?.layout??"",[...S?.featuredIn??[]],P),{isShopping:k}=ny({showShoppingAffordances:j,pinKey:w,surface:b}),{showFooter:C}=t5({attributionOption:l,disableReaction:c,feedback:u,imageOnlyOption:h,isInFullWidthStory:m,showShoppingAffordances:j,isShopping:k,pinKey:w,surface:b,viewParameter:P}),{checkExperiment:I}=(0,ew.Z)(),T=!o&&r&&((0,e2.Z)(n.createdAt)||(0,e3.Z)(null,n)),Z=((0,e1.P)()||n.isAuth&&n.isEligibleForImageOnlyGrid)&&(!k||"ProductOnlySearchItem"===b)&&(I("ap_dweb_simplified_grid_overflow_menu_entrypoint").anyEnabled||I("ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint").anyEnabled),A=r&&!(0,e6._J)(w.videoStatus)&&(C||(0,e5.Z)(b)&&!T||Z),R=A&&!k,B=A&&k;return R?(0,eq.jsx)(ep.Z,{id:"EnabledPointerEventsWrapper",children:(0,eq.jsx)(nv,{blockClickEvents:s,shouldWrapOnProfiler:!0,children:(0,eq.jsx)(ep.Z,{id:"DefaultAuthDesktop",children:(0,eq.jsx)(nt,{attributionOption:l,clientTrackingParams:d,disableReaction:c,enableCollectionChips:p,feedback:u,hideContextMenu:g,hideFavoriteButton:_,imageOnlyOption:h,isShopping:k,isSquarePin:f,maybeDeepLinkProps:x,setForcePrimary:v,surface:b,viewParameter:P,pinKey:w})})})}):B?(0,eq.jsx)(nv,{blockClickEvents:s,children:(0,eq.jsx)(no,{...e,isShopping:k,pinKey:w})}):a&&!i?(0,eq.jsx)(iq,{...e,pinKey:w}):a?null:(0,eq.jsx)(nf,{...e,isShopping:k,pinKey:w})}function nP(e){return"string"==typeof e?{cropHeight:0,cropWidth:0}:{cropHeight:e.height,cropWidth:e.width}}var nw=t(431524),nS=t(594502),nj=t(568710),nk=t(394664),nC=t(818244),nI=t(199031),nT=t(430591);function nZ({onClick:e,size:i}){(0,en.useEffect)(()=>{(0,et.Z)("CollagePinRepBtn","/app/www/PinRep/ActionBar/CollagePinRepBtn.tsx")},[]);let t=(0,ef.Z)(),{logContextEvent:n}=(0,eu.u)();return(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(el.hU,{accessibilityLabel:t._('Action button to collage a Pin', 'collageBuilder.pinGrid.collagePinRepButton', 'Collage action button'),bgColor:"white",icon:"add",iconColor:"dark",onClick:({event:i})=>{i.stopPropagation(),n({event_type:14894,view_type:635,view_parameter:4086}),i.stopPropagation(),e?.()},size:i??void 0})})}var nA=t(680391),nD=t(691288),nR=t(677595),nB=t(239757);function nE({isInFullWidthStory:e,surface:i}){let t=(0,t1.WG)();return!!["OtherProfilePinGrid","ShoppingGridSmall","ShoppingCarousel","ShoppingGridSmallCarousel",...!e?["BoardShoppingModule"]:[]].includes(i??"")||(["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(i??"")?t?.boardPinDensity==="dense":("UserProfilePinGrid"===i||"RetrievalHub"===i)&&t?.profilePinDensity==="dense")}let nz={maxWidth:"132px"},nL={maxWidth:"87px"},nO=(void 0!==R||(R=t(871484)).hash&&"b6f0652c5ead817c9b8281ad2a43aa4c"!==R.hash&&console.error("The definition of 'PinImageDomainLink_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),R),nM=({clientTrackingParams:e,onClick:i,pinKey:t,maxDomainLength:n,surface:a,isInFullWidthStory:o})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinImageDomainLink","/app/www/PinRep/ActionBar/PinImageDomainLink.tsx")},[]);let r=(0,ef.Z)(),l=(0,e_.Z)(nO,t),s=(0,nD.Z)(l),{checkExperiment:d}=(0,ew.Z)(),c=(0,eZ.HG)(),p=(0,em.Z)(),u=!!p.isAuth,{logContextEvent:h}=(0,eu.u)(),m=l.isInstagramApi&&l.nativeCreator?.websiteUrl&&l.nativeCreator?.isPrimaryWebsiteVerified&&l.nativeCreator?.isDirectToSiteAllowed,g=(0,eD.Z)(l)(),_=(0,e6.Zt)({link:l?.link,utmLink:l?.utmLink})??"";l.isPromoted&&l.adDestinationUrl&&d("web_epik_right_click_attribution").anyEnabled?_=l.adDestinationUrl:m&&d("dweb_closeup_links").anyEnabled&&(_=l.nativeCreator?.websiteUrl);let f=(0,nA.Z)({href:{pathname:_??"",state:{trackingParams:e}},clientTrackingParams:e,target:"blank",externalData:{auxData:g,pin:l&&{advertiserId:l.advertiserId,attributionSourceId:l.attributionSourceId,board:l.board&&{url:l.board.url},campaignId:l.campaignId,entityId:l.entityId,isDownstreamPromotion:l.isDownstreamPromotion,isPromoted:l.isPromoted,pinner:l.pinner&&{username:l.pinner.username},pinPromotionId:l.pinPromotionId,promoter:l.promoter&&{entityId:l.promoter.entityId},storyPinDataId:l.storyPinDataId,trackingParams:l.trackingParams},surface:a}}),x=(0,en.useCallback)(({event:e,dangerouslyDisableOnNavigation:t})=>{e.stopPropagation(),s(),c&&u&&(t(),f({event:e})),i(e),h({event_type:102,element:162,component:4,aux_data:{is_claimed_domain:m}})},[s,c,u,i,f,m,h]),y=(0,en.useMemo)(()=>l.showRecipeCta&&!m?r._('See recipe', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'):(r._('Visit site', 'closeup.pinActionDropDown.visitSite', 'Button allowing user to clickthrough Pin'))??l.domain??"",[r,l.domain,m,l.showRecipeCta]),v=(0,tq.Z)(l,p),b=nE({isInFullWidthStory:o,surface:a}),P=(0,nB.Z)({clickthroughType:"middleClick",location:"related.pinImageDomainLink"}),w=(0,en.useCallback)(({event:e})=>{(0,e6.UE)(e)&&(P(),x({event:e,dangerouslyDisableOnNavigation:()=>{}}))},[x,P]),S="default";return(b&&(S=v?"icon-only":"truncated-text"),b&&["ShoppingGridSmall","UserProfilePinGrid","BaseBoardPinGrid","FeaturedBoardPinGrid","BoardlessPins","RetrievalHub"].includes(a??"")&&(S="icon-only"),"icon-only"===S)?(0,eq.jsx)(el.I_,{accessibilityLabel:r._('link', 'Website url link', 'Website url link'),bgColor:"default",href:_,icon:"arrow-up-right",iconColor:"default",onClick:x,rel:"nofollow",size:"sm"}):(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{...nz,..."truncated-text"===S?nL:Object.freeze({})}},"data-test-id":"pinrep-source-link",marginBottom:4,marginStart:3,position:"relative",children:(0,eq.jsx)(el.ZP,{_onAuxClick:w,accessibilityLabel:y,color:"tertiary",dataTestId:"pinrep-source-link",fullWidth:!1,href:_,iconStart:"arrow-up-right",onClick:x,rel:"nofollow",size:"md",text:(0,nR.Z)(y,n||27)})})};var nF=t(715935);let nG=(0,en.lazy)(()=>t.e("7218").then(t.bind(t,610082))),nK=(0,en.lazy)(()=>t.e("37183").then(t.bind(t,171972))),nV=(0,en.lazy)(()=>t.e("83698").then(t.bind(t,110937))),nN=["EngagementDetails","OtherProfilePinGrid","UserProfilePinGrid","CollageCreation"],nU=(void 0!==B||(B=t(308330)).hash&&"3c94f5506a4ce6b4f88d36af3eb4eb7d"!==B.hash&&console.error("The definition of 'MultiActionBar_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),B),nH=function({clientTrackingParams:e,duploFeedItemProps:i,hideContextMenu:t=!1,hideSendButton:n=!1,hideEditButton:a=!1,pinKey:o,viewParameter:r,isInDesktopCarousel:l,feedbackData:s,feedbackType:d,forcePrimaryContent:c,onCollagePinRepClick:p,surface:u,seoDrawerPinType:h,shouldShowSeoDrawerOption:m,shouldShowSeoDrawerNewfields:g,showSourceLinkButton:_,isInFullWidthStory:f,componentType:x,trafficSource:y,onlyShowContextMenu:v=!1}){let b=(0,e_.Z)(nU,o),{carouselData:P,entityId:w,savedInfo:S,trackedLink:j,link:k,adDestinationUrl:C}=b,I=(0,ef.Z)(),T=(0,el.JZ)(),{viewType:Z}=(0,eM.P)(),{isRTL:A}=(0,ej.B)(),D=(0,nC.g)(),R=(0,en.useRef)(null),B=(0,en.useRef)(null),E=(0,em.Z)(),{checkExperiment:z}=(0,ew.Z)(),L=(0,e1.P)()||E.isAuth&&E.isEligibleForImageOnlyGrid,O=b.entityId,M=S?.localPinId?S?.localPinId:w,F=(0,ij.Z)(E,b.board?.owner?.entityId),G=(0,tq.Z)(b,E),K=!!b.access?.includes("write"),V=!!b.promoter&&!b.isDownstreamPromotion,N=tU({pinKey:b}),U=!!b.promotedIsRemovable,H=`/pin/${w}`,W=!!b.promotedIsLeadAd,$=_&&!!(C??j??k),Y=!!(E.isAuth&&b?.originPinner&&b?.originPinner.entityId===E.id)||!b?.isGoLinkless,q=!!b?.promotedIsLeadAd,{isAuthenticated:X}=(0,ej.B)(),J=(0,eZ.HG)(),Q=!X&&!!P&&(J&&z("unauth_dweb_show_carousel").anyEnabled||!J&&z("unauth_mweb_show_carousel").anyEnabled),{canPerformAction:ee}=(0,nk.Z)({boardKey:b.board??null}),{board:ei}=b,{isShopping:et}=ny({showShoppingAffordances:iC(ei?.owner?.entityId??"",ei?.layout??"",[...ei?.featuredIn??[]],r),pinKey:b,surface:u}),ea=ee({action:4,viewer:E})||K,eo=!!(F&&!G||"UserProfilePinGrid"===u&&ea),er="CollageCreation"===u,es=!!(!er&&!a&&(G&&ea||eo||N)),ed=!L&&X&&"enabled_overflow_menu_entrypoint"!==z("webpack_react_profiler").group,ec=((0,e1.P)()||E.isAuth&&E.isEligibleForImageOnlyGrid)&&(!et||"ProductOnlySearchItem"===u)&&(z("ap_dweb_simplified_grid_overflow_menu_entrypoint").anyEnabled||z("ap_dweb_res_user_simplified_grid_overflow_menu_entrypoint").anyEnabled),eu="PublishedCollages"===u,eh=!t&&(eu||!(V||F||G||nN.includes(u??"")||N||ed||ec||!X&&J)),eg=!(u&&["CloseupRelatedProducts","CollageCreation"].includes(u)||U||n),ex="CreatorProfileActivityPinGrid"===u&&z("web_verify_auto_product_tags",{dangerouslySkipActivation:!0}).anyEnabled&&es&&!!b.collectionPin?.itemData?.length,ey=!!(b.board?.isCollaborative||eo),[ev,eb]=(0,en.useState)(!1),[eP,eS]=(0,en.useState)(es),[eC,eI]=(0,en.useState)(es),[eT,eA]=(0,en.useState)(es),eD={...A?{marginLeft:es&&eh?-44:0}:{marginRight:es&&eh?-44:0},transition:A?"margin-left .2s ease-in-out":"margin-right .2s ease-in-out"},eR={...A?{marginRight:4*!!eC}:{marginLeft:4*!!eC},transition:A?"margin-right .2s ease-in-out":"margin-left .2s ease-in-out"},eB=e=>{e.stopPropagation(),e.preventDefault(),eb(!0)},eE=(0,nT.Z)({pinKey:b,onSendButtonClick:eB});(0,en.useEffect)(()=>{let e;return es&&eh?(eI(!0),e=setTimeout(()=>{requestAnimationFrame(()=>{eS(!0),requestAnimationFrame(()=>{eA(!0)})})},800)):(eI(es),eS(es),requestAnimationFrame(()=>{eA(es)})),()=>{clearTimeout(e)}},[es,eh]);let ez=$&&!(!Y||q)&&!er&&(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinRep_SourceLink",children:(0,eq.jsx)(ek.Z,{children:W?(0,eq.jsx)(el.ZP,{accessibilityLabel:I._('Link for closeup view and learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link'),href:H,size:"md",text:I._('Learn more', '[m10n] pinRep.actionBar.learnMore', 'Content for learn more link')}):(0,eq.jsx)(nM,{clientTrackingParams:e,maxDomainLength:12,onClick:i?.onPinLinkClick||D?.pinLinkClickHandler||(()=>{}),pinKey:b,surface:u})})}),{showDownloadIconForRelatedPins:eL}=(0,nT.e)({seoDrawerPinType:h}),eO=null;er||!eg||eL||(eO=(0,eq.jsx)(nF.default,{hoveringInFeed:!0,onClick:()=>{},onDefaultSendButtonClick:eB,pinKey:b,sendButtonBgColor:"white",size:"md",viewParameter:r})),eL&&(eO=(0,eq.jsx)(el.hU,{ref:B,accessibilityLabel:I._('Download', 'Pin.download.button', 'Accessible label for button to download a pin'),bgColor:"white",icon:"download",iconColor:"darkGray",onClick:eE,size:"sm"}));let eF=eP&&(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinRep_EditButton",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:T?void 0:{__style:{opacity:+!!eT,transition:"opacity .2s ease-in-out",pointerEvents:"auto"}},"data-test-id":"edit-button",children:(0,eq.jsx)(nK,{carouselSlotCurrentIndex:P&&P.index,component:0,pinId:M,style:{size:"md"},useLegoStyles:!0,view:Z,viewParameter:r})})})}),eG=ex?(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinRep_TagButton",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:T?void 0:{__style:{opacity:+!!eT,transition:"opacity .2s ease-in-out"}},"data-test-id":"tag-button",children:(0,eq.jsx)(nV,{carouselSlotCurrentIndex:P&&P.index,isAutoTagged:!!b.collectionPin?.itemData?.some(e=>e.source===nI.x0),pinId:M,pinKey:b})})})}):null,eK=(0,eq.jsx)(nZ,{onClick:p,size:"md"}),eV=eh&&(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinRep_OverflowMenu",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:T?void 0:{__style:eR},"data-test-id":"overflow-menu-button",children:(0,eq.jsx)(ep.Z,{id:"PinContextMenuButton.MultiActionBar",children:(0,eq.jsx)(io.default,{clientTrackingParams:e,componentType:x,feedbackData:s,feedbackType:d,forcePrimaryContent:c,hoveringInFeed:!0,onMobileTap:()=>{eb(!ev)},onShareButtonClick:()=>{eb(!0)},pinKey:b,seoDrawerPinType:h,shouldShowSeoDrawerNewfields:g,shouldShowSeoDrawerOption:m,size:"md",surface:u,trafficSource:y,viewParameter:r})})})})}),eN=nE({isInFullWidthStory:f,surface:u}),eU=G&&eN?"equally-spaced":"default";return!X&&v?(0,eq.jsx)(el.xu,{bottom:!0,dangerouslySetInlineStyle:T?void 0:{__style:eD},display:"flex",justifyContent:"end",position:"absolute",width:"100%",children:J&&!l&&(0,eq.jsx)(el.xu,{alignItems:"stretch",display:"flex",justifyContent:"end",marginBottom:4,marginEnd:3,marginStart:"auto",children:eh&&eV})}):(eN&&["ShoppingGridSmall","UserProfilePinGrid","BaseBoardPinGrid","FeaturedBoardPinGrid","BoardlessPins","RetrievalHub"].includes(u??"")&&(eU="equally-spaced"),"equally-spaced"===eU&&J)?(0,eq.jsx)(el.xu,{bottom:!0,dangerouslySetInlineStyle:T?void 0:{__style:eD},position:"absolute",width:"100%",children:(0,eq.jsxs)(el.xu,{alignItems:"center",display:"flex",justifyContent:"between",padding:3,children:[(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{flexBasis:32}},children:ez}),ey?eF:eO,ey?eO:eF,eh&&eV]})}):(0,eq.jsxs)(el.xu,{bottom:!0,dangerouslySetInlineStyle:T?void 0:{__style:eD},display:"flex",justifyContent:"end",position:"absolute",width:"100%",children:[J&&$&&b?.domain&&b?.link&&!l&&(!b.isGoLinkless||X)&&(0,eq.jsx)(el.xu,{marginBottom:Q?3:void 0,marginEnd:2,children:ez}),J&&!l&&(0,eq.jsxs)(el.xu,{alignItems:"stretch",display:"flex",justifyContent:"end",marginBottom:4,marginEnd:3,marginStart:"auto",children:[(0,eq.jsxs)(el.kC,{alignItems:"center",gap:{row:1,column:0},justifyContent:"end",children:[eG,ey?eF:eO,ey?eO:eF,eh&&eV,er&&eK]}),(0,eq.jsx)(el.xu,{ref:R,children:ev&&J&&!X&&(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(nG,{anchor:R.current,component:194,objectId:O||"",objectType:1,onDismiss:()=>eb(!1),title:I._('Send this pin', 'PinCloseup.ShareMenu.Title', 'title for share menu popover'),viewParameter:r,viewType:3})})})]})]})};var nW=t(410530),n$=t(664698),nY=t(119942),nq=t(310146);let nX={component:210,view_type:4,view_parameter:3106},nJ={view_type:5,view_parameter:3069},nQ={component:13668,view_type:4,view_parameter:3106},n0=(void 0!==E||(E=t(268508)).hash&&"cf4e28b5521c05d7c394d0486520c6a7"!==E.hash&&console.error("The definition of 'SeeStatsButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),E);function n1({pinKey:e,surface:i}){(0,en.useEffect)(()=>{(0,et.Z)("SeeStatsButton","/app/www/PinRep/ActionBar/SeeStatsButton.tsx")},[]);let{logContextEvent:t}=(0,eu.u)(),n=(0,ef.Z)(),a=(0,e_.Z)(n0,e),o=()=>{t({event_type:101,element:10573,...nW.Y.includes(i)?nQ:["BaseBoardPinGrid","FeaturedBoardPinGrid"].includes(i)?nJ:"UserProfilePinGrid"===i?nX:{}})},r=n._('See more stats', 'pinRep.actionBar.seeStatsButton', 'Button that will re-direct user to detailed stats page'),l=(0,n$.M)(),s={kind:"/pin/:id/analytics",routeParams:{id:a.entityId}};return(0,eq.jsx)(el.xu,{"data-test-id":"see-stats-button",paddingX:3,paddingY:3,children:nW.Y.includes(i)?(0,eq.jsx)(nY.Z,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This button will take the user to their detailed pin stats page for the pin'),analyticsKey:"SeeStatsButton",color:"tertiarySemiTransparent",fullWidth:!0,onClick:o,preloadExtent:l.preloadExtent,route:s,size:"sm",text:r.length>14?`${r.substring(0,12).trim()}...`:r}):(0,eq.jsx)(nq.Z,{accessibilityLabel:n._('Go to pin stats details page', 'pinRep.actionBar.seeStatsButton', 'This icon button will take the user to their detailed pin stats page for the pin'),analyticsKey:"SeeStatsButton",bgColor:"default",icon:"ads-stats",iconColor:"default",onClick:o,preloadExtent:l.preloadExtent,route:s,size:"sm"})})}let n2=(void 0!==z||(z=t(756017)).hash&&"7e285a9b17ef0f304b146bb25ccb2fa1"!==z.hash&&console.error("The definition of 'StatsButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),z),n3=function({pinKey:e,surface:i}){let t=(0,e_.Z)(n2,e);return i&&(0,eq.jsx)(n1,{pinKey:t,surface:i})},n6=(void 0!==L||(L=t(406278)).hash&&"64d77f4ba2374e5e89c2d1f6661fd8c8"!==L.hash&&console.error("The definition of 'useShowSeeStatsButton_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),L),n7=["BaseBoardPinGrid","FeaturedBoardPinGrid","UserProfilePinGrid",...nW.Y],n5=function({pinKey:e,surface:i}){let t=(0,e_.Z)(n6,e),n=(0,em.Z)(),a=!!(n.isAuth&&t.pinner&&t.pinner.entityId===n.id),o=tU({pinKey:t}),{isAuthenticated:r}=(0,ej.B)(),l=(0,eZ.HG)(),s=!!t.storyPinData&&!(n.isAuth&&n.isPartner),d=t$({pinKey:t,viewer:n});return l&&r&&!s&&d&&n7.includes(i||"")&&(a||o)};var n4=t(227866),n8=t(445911),n9=t(72034);function ae({direction:e,swipeHandler:i}){let t=(0,ef.Z)(),n={left:t._('View Previous', 'Button to advance carousel to the previous image', 'Button to advance carousel to the previous image'),right:t._('View Next', 'Button to advance carousel to the next image', 'Button to advance carousel to the next image')};return(0,eq.jsx)(el.xu,{bottom:!0,left:"left"===e,position:"absolute",right:"right"===e,top:!0,children:(0,eq.jsx)(el.iP,{fullHeight:!0,fullWidth:!0,onTap:i,children:(0,eq.jsx)(el.xu,{alignItems:"center","data-test-id":`carousel-slider-${e}`,display:"flex",height:"100%",justifyContent:"center",padding:2,width:"100%",children:(0,eq.jsx)(el.JO,{accessibilityLabel:n[e],color:"inverse",icon:{left:"arrow-back",right:"arrow-forward"}[e]})})})})}let ai=(void 0!==O||(O=t(158251)).hash&&"d6068e37ffbce623dcbd7bef0b4e6bce"!==O.hash&&console.error("The definition of 'CarouselSlidersForAuthDesktopPinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),O);function at({handleCarouselSwipe:e,pinKey:i}){(0,en.useEffect)(()=>{(0,et.Z)("CarouselSliders","/app/www/PinRep/Overlay/CarouselSliders.tsx")},[]);let t=(0,e_.Z)(ai,i),{entityId:n}=t,a=(0,n8.Z)(t),{componentType:o,viewParameter:r,viewType:l}=(0,eM.P)(),s=(0,ea.I0)(),d=(0,tA.Z)(t);if(!d)return null;let{carouselSlots:c}=d,p=d.index??0;function u(i){return()=>{let t="left"===i?p-1:p+1;e?.(t),s((0,n9.yR)(n,t)),a({pinId:n,currentIndex:p??0,nextIndex:t,carouselData:{carouselSlots:c.map(({slotId:e})=>({id:e})),entityId:d?.carouselId??""},viewParameter:r,viewType:l,componentType:o})}}return(0,eq.jsxs)(el.xu,{height:"100%",position:"relative",width:"100%",children:[p>0&&(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ae,{direction:"left",swipeHandler:u("left")})}),p<c.length-1&&(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ae,{direction:"right",swipeHandler:u("right")})})]})}var an=t(478428),aa=t(74972),ao=t(741164),ar=t(845805),al=t(328299);let as=(0,en.lazy)(()=>t.e("76276").then(t.bind(t,319950))),ad=(0,en.lazy)(()=>Promise.all([t.e("48469"),t.e("32560")]).then(t.bind(t,620623))),ac=(0,en.lazy)(()=>Promise.all([t.e("38782"),t.e("34953"),t.e("18164"),t.e("48469"),t.e("34839"),t.e("16584")]).then(t.bind(t,319752))),ap=(0,en.lazy)(()=>Promise.all([t.e("18164"),t.e("60870"),t.e("24660")]).then(t.bind(t,873054))),au=(0,en.lazy)(()=>t.e("99835").then(t.bind(t,69276))),ah=(void 0!==M||(M=t(3129)).hash&&"12fb75237f91037eca8c0c9c09c57b43"!==M.hash&&console.error("The definition of 'PinActionSave_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),M);function am({clientTrackingParams:e,derivedSaveButtonOptions:i,forcePrimaryContent:t,hidePinBetterSaveDropdown:n,showEnabledSaveBehavior:a,onToggleModal:o,pinKey:r,renderPinSaveTooltip:l,surface:s}){(0,en.useEffect)(()=>{(0,et.Z)("PinActionSave","/app/www/PinRep/SaveButton/PinActionSave.tsx")},[]);let d=(0,e_.Z)(ah,r),c=(0,en.useRef)(!!d.savedInfo),p=(0,ea.v9)(({experiences:e})=>{let i=e[1000294];return i?.experience_id===502450?i:null}),{saveBehaviorType:u}=(0,al.tY)(a);void 0!==u&&["classic","inline"].includes(i.type)&&(i=u);let h=(0,al.$7)(),{viewType:m,viewParameter:g}=(0,eM.P)(),_=(0,iJ.Z)(101,{element:0,object_id_str:d.entityId}),f=null,x="persistentOneClickSave"===i.type,y="promote"===i.type,{shouldSeePinBetterSave:v}=x||y?{shouldSeePinBetterSave:!1}:(0,ar.Z)();if(!n&&(p||a&&["classic"].includes(i.type))&&["classic","inline"].includes(i.type)&&!h&&!v)f=(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinActionSave_QuickSaveButton",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ap,{clientTrackingParams:e,experience:p||void 0,forcePrimaryContent:t,pinKey:d,renderPinSaveTooltip:l,showEnabledSaveBehavior:a,viewParameter:g})})})});else if("classic"!==i.type||v)if("inline"===i.type||v){let{initialSelection:a,onSave:r}="inline"===i.type?i:{initialSelection:void 0,onSave:void 0};f=(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinActionSave_PinBetterSave",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{"data-test-id":"better-save",children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ac,{clientTrackingParams:e,hideDropdown:n,initialSelection:a,onSave:r,onToggleFlyout:t,onToggleModal:o,pinKey:d,pinnerBlockedByMe:d?.pinner?.blockedByMe??!1,renderPinSaveTooltip:l,renderSavedStatus:({ref:e,savedInfo:i})=>i&&(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ao.Z,{isNewlySaved:!c.current,name:i.title??"",shouldUseLegoStyles:!0,surface:s,type:i.type??"",url:i.url,urlRef:e})}),surface:s,variant:"pin",viewParameter:g,viewType:m})})})})})}else"persistentOneClickSave"!==i.type||v?"promote"!==i.type||v||(f=(0,eq.jsx)(el.kC,{alignItems:"stretch",justifyContent:"end",children:(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinActionSave_PinPromoteButton",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{"data-test-id":"pin-promote-button",children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(au,{pinKey:d})})})})})})):f=(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinActionSave_PersistentOneClickSave",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{"data-test-id":"persistent-one-click-save",children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(as,{saveOptions:i})})})})});else f=(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinActionSave_PinSaveButton",children:(0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(el.xu,{"data-test-id":"pin-save-button",maxWidth:"100%",children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ad,{clientTrackingParams:e,onClickCallback:_,onToggleModal:o,pinKey:d,renderPinSaveTooltip:l,renderSavedStatus:()=>!!d.savedInfo&&(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ao.Z,{isNewlySaved:!c.current,name:d.savedInfo.title??"",type:d.savedInfo.type??"",url:d.savedInfo.url??""})}),variant:"lego",viewParameter:g})})})})});let b="ShoppingGridSmallCarousel"===s?1:"VisualInspirationShoppingPin"===s?2:3;return(0,eq.jsx)(e4.Z,{name:"PinActionSave",children:(0,eq.jsx)(el.xu,{display:"flex",margin:b,children:f&&(0,eq.jsx)(el.xu,{flex:"grow",marginStart:"auto",children:f})})})}var ag=t(926960);let a_=(void 0!==F||(F=t(818316)).hash&&"282cad16e95f2121545f14553177e0c1"!==F.hash&&console.error("The definition of 'UnauthUpsellSave_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),F),af=({pinKey:e})=>{(0,en.useEffect)(()=>{(0,et.Z)("UnauthUpsellSave","/app/www/PinRep/SaveButton/UnauthUpsellSave.tsx")},[]);let i=(0,ef.Z)(),t=(0,e_.Z)(a_,e),n=(0,ia.Z)(),{openSaveUpsellModal:a}=(0,ag.Z)(t);return(0,eq.jsx)(el.xu,{margin:3,position:"absolute",right:!0,top:!0,children:(0,eq.jsx)(el.Fm,{accessibilityLabel:i._('Save', 'pinRep.saveButton.unauthUpsellSave', 'Button to save a pin when the user is not authenticated'),color:"primary",onClick:({event:e})=>{e.preventDefault(),n({action:"click",item:"unauth-board-upsell-save-dweb"}),a(),e.stopPropagation()},selected:!1,size:"lg",text:i._('Save', 'pinRep.saveButton.unauthUpsellSave', 'Button to save a pin when the user is not authenticated')})})},ax=(void 0!==G||(G=t(525162)).hash&&"1d3d5133bc6a665cad504582c73685b6"!==G.hash&&console.error("The definition of 'PinFadeableOverlay_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),G),ay=(void 0!==K||(K=t(761047)).hash&&"c1200aadd1ced166d27b84e0e1951070"!==K.hash&&console.error("The definition of 'PinFadeableOverlay_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),K),av=({clientTrackingParams:e,derivedSaveButtonOptions:i,duploFeedItemProps:t,feedbackData:n,feedbackType:a,handleCarouselSwipe:o,hidePinBetterSaveDropdown:r,isInDesktopCarousel:l,itemVisibility:s,onCollagePinRepClick:d,pinKey:c,pinOwner:p,renderPinSaveTooltip:u,hideContextMenu:h=!1,hideSendButton:m=!1,hideEditButton:g=!1,setForcePrimary:_,seoDrawerPinType:f,shouldShowSeoDrawerOption:x,shouldShowSeoDrawerNewfields:y,surface:v,trafficSource:b,viewParameter:P,componentType:w,parentPinKey:S,unauthSaveUpsellEnabled:j})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinFadeableOverlay","/app/www/PinRep/Overlay/PinFadeableOverlay.tsx")},[]);let k=(0,e_.Z)(ax,c),C=(0,e_.Z)(ay,S),{isRTL:I}=(0,ej.B)(),{checkExperiment:T}=(0,ew.Z)(),{isAuthenticated:Z}=(0,ej.B)(),A=(0,eZ.HG)(),D=Z&&A,R=e=>_(e),{showEnabledSaveBehavior:B}=(0,al.Yh)(v&&nj.ZF.includes(v)||(0,e5.Z)(v)),E=n5({pinKey:k,surface:v}),z=function(e){let{appUI:{videosAutoplaying:i}}=(0,aa.G)();return(0,an.Z)(e,i)}(k.entityId),L=Z?s.actionBarVisibility:s.actionBarOverflowMenuVisibility,O=!Z&&"visible"===s.actionBarOverflowMenuVisibility&&"none"===s.actionBarVisibility,M=(0,eq.jsx)(nS.Z,{visibility:s.primaryContentVisibility,children:(0,eq.jsx)(n4.Z,{children:(0,eq.jsx)(am,{clientTrackingParams:e,derivedSaveButtonOptions:i,forcePrimaryContent:R,hidePinBetterSaveDropdown:r,onToggleModal:e=>{_(e)},pinKey:k,renderPinSaveTooltip:u,showEnabledSaveBehavior:B,surface:v})})}),F=(0,eq.jsx)(nS.Z,{visibility:L,children:(0,eq.jsx)(n4.Z,{children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(af,{pinKey:k})})})}),G=(0,eq.jsx)(nS.Z,{visibility:L,children:(0,eq.jsx)(n4.Z,{children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(ep.Z,{id:"MultiActionBar",children:(0,eq.jsx)(nH,{clientTrackingParams:e,componentType:w,duploFeedItemProps:t,feedbackData:n,feedbackType:a,forcePrimaryContent:R,hideContextMenu:h,hideEditButton:g,hideSendButton:m,isInDesktopCarousel:l,onCollagePinRepClick:d,onlyShowContextMenu:O,pinKey:k,seoDrawerPinType:f,shouldShowSeoDrawerNewfields:y,shouldShowSeoDrawerOption:x,showSourceLinkButton:!E,surface:v,trafficSource:b,viewParameter:P})})})})}),K=(0,eq.jsx)(nS.Z,{visibility:D&&E?"visible":"none",children:(0,eq.jsx)(n4.Z,{children:(0,eq.jsx)(el.xu,{bottom:!0,left:!I,marginBottom:1,position:"absolute",right:I,children:(0,eq.jsx)(e7.Z,{children:(0,eq.jsx)(n3,{pinKey:k,surface:v})})})})}),V=(0,eq.jsx)(nS.Z,{visibility:s.secondaryContentVisibility,children:(0,eq.jsx)(n4.Z,{children:(0,eq.jsx)(nw.Z,{hidden:"none"===s.secondaryContentVisibility||z,inPinRep:!0,parentPinKey:C,pinKey:k,pinOwner:p,surface:v})})}),N=(0,eq.jsx)(nS.Z,{visibility:s.accessoryContentVisibility,children:(0,eq.jsx)(n4.Z,{children:(0,eq.jsx)(at,{handleCarouselSwipe:o,pinKey:k})})}),U=!Z&&(A&&k.carouselData&&T("unauth_dweb_show_carousel").anyEnabled||!A&&k.carouselData&&T("unauth_mweb_show_carousel").anyEnabled);return(0,eq.jsxs)(el.xu,{children:[D&&M,A&&G,!Z&&j&&F,D&&E&&K,V,(D||U)&&N]})};var ab=t(319226),aP=t(653247),aw=t(588261);let aS=(void 0!==V||(V=t(662822)).hash&&"79d7d068ae08e0412072eec3f8b73348"!==V.hash&&console.error("The definition of 'PinCardSharedHeaderQuery' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),V),aj=({inviteCode:e})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinCardSharedHeader","/app/www/PinRep/PinCardSharedHeader.tsx")},[]);let i=(0,ef.Z)();return(0,eq.jsx)(el.xu,{minHeight:82,children:(0,eq.jsx)(e4.Z,{name:"SafeSuspense_PinCardSharedHeader_LoadingSpinner",children:(0,eq.jsx)(ek.Z,{fallback:(0,eq.jsx)(aP.Z,{accessibilityLabel:i._('Loading Invitation component', 'Loading InviteFetch component', 'loading InviteFetch component')}),children:((e,i)=>{let{checkExperiment:t}=(0,ew.Z)();return t("graphql_migration_sharelink_sgrowth_web").anyEnabled?((e,i)=>{let t=(0,eo.useRelayEnvironment)(),n=(0,em.Z)(),a=n.isAuth?n?.avatar_color_index:void 0;return(0,eq.jsx)(aw.t,{invite_code:e,inviteQuery:aS,relayEnvironment:t,children:e=>{let t=e?.data?e.data.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;let o=t&&!t.is_default_image?t?.image_medium_url??"":"",r=(0,il.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,eq.jsxs)(el.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,eq.jsx)(el.zd,{height:32,width:32,children:(0,eq.jsx)(ab.qE,{color:a,name:n,src:o})}),(0,eq.jsx)(el.xu,{paddingY:2,width:"80%",children:(0,eq.jsx)(el.xv,{align:"center",size:"200",weight:"bold",children:r})})]})}})})(e,i):(0,eq.jsx)(aw.Z,{invite_code:e,children:e=>{let t=e?e.sender:null,n=t&&t.first_name?t.first_name.substring(0,30):"";if(!n)return null;let a=t&&!t.is_default_image?t.image_medium_url:"",o=(0,il.nk)(i._('{{ name }} shared this idea with you', 'homefeed.pinSenderAvatar.heading', 'header notifying users that a sender ({{ name }}) shared a Pin to them'),{name:n});return(0,eq.jsxs)(el.kC,{alignItems:"center",direction:"column",justifyContent:"start",children:[(0,eq.jsx)(el.zd,{height:32,width:32,children:(0,eq.jsx)(ab.qE,{name:n,src:a})}),(0,eq.jsx)(el.xu,{paddingY:2,width:"80%",children:(0,eq.jsx)(el.xv,{align:"center",size:"200",weight:"bold",children:o})})]})}})})(e,i)})})})},ak=new Set;var aC=t(684570),aI=t(462214),aT=t(236269),aZ=t(986523),aA=t(767415);let aD=(void 0!==N||(N=t(663406)).hash&&"85a85b6a0abc64451e615b6f96b5c274"!==N.hash&&console.error("The definition of 'useGetPinRepDeepLinkProps_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),N);var aR=t(829456);let aB=(void 0!==U||(U=t(796325)).hash&&"adf8f460fdbb57e36f6d56d7e2fad76a"!==U.hash&&console.error("The definition of 'useGetPinRepImages_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),U);var aE=t(976601),az=t(734987),aL=t(899453);let aO=(void 0!==H||(H=t(572403)).hash&&"c6d2a1e494408e00e5a28debae75e62f"!==H.hash&&console.error("The definition of 'usePinRepVisibility_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),H);var aM=t(307618);let aF=(void 0!==W||(W=t(37105)).hash&&"614c991c3176364ff0928141f411211b"!==W.hash&&console.error("The definition of 'useSetCloseupPreviewContext_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),W);var aG=t(782524),aK=t(529211);let aV="portrait";function aN({pinImageCrop:e,resolution:i,surface:t,imageCropStyle:n}){let a=nj.zl.includes(t||""),o="backend";"CloseupRelatedProducts"===t?o={height:aK.GZ,width:aK.OE}:"TopicBestPinWide"===t?o={height:aG.m9,width:aG.BS}:"TopicBestPinNarrow"===t?o={height:aG._5,width:aG.A6}:["ArticleProductsStory","ShoppingSquareGridCrop","ShoppingSquareGridDomainNoMetadata"].includes(t||"")||a?o={height:aK.zX,width:aK.zX}:e&&(o=e);let r="none",l=i??"default";return("string"!=typeof o||n===aV)&&(r="cover",a||["ShoppingDynamicHeightGrid","ShoppingGridSmall","ShoppingSquareGridDomainNoMetadata","VisualInspirationShoppingPin","SearchAdsOnlyModule","ProductTaggingSearchResult"].includes(t||"")?(r="contain",l="high-res"):"ShoppingGridSmallCarousel"===t&&(l="high-res")),(0,en.useMemo)(()=>({imageFit:r,resolution:l,pinImageCrop:o}),[r,l,o])}var aU=t(918186),aH=t(239321),aW=t(232079),a$=t(589172),aY=t(8276),aq=t(477738),aX=t(697856),aJ=t(854403),aQ=t(98249),a0=t(620766),a1=t(39722);function a2({currentIndex:e,totalPages:i}){return(0,en.useEffect)(()=>{(0,et.Z)("PageCountIndicator","/app/www/PinRep/Overlay/PageCountIndicator.tsx")},[]),(0,eq.jsx)(el.xu,{color:"transparentDarkGray",left:!0,margin:2,paddingX:2,paddingY:1,position:"absolute",rounding:3,top:!0,zIndex:new el.Ry(10),children:(0,eq.jsxs)(el.xv,{color:"inverse",size:"100",children:[e+1,"/",i]})})}var a3=t(923298),a6=t(40763);let a7=(void 0!==$||($=t(8970)).hash&&"6c47d8b24fa6a6b068a8d2fd5c4963b6"!==$.hash&&console.error("The definition of 'PinCardHoverOverlay_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),$),a5=({isInDesktopCarousel:e,pinKey:i})=>{(0,en.useEffect)(()=>{(0,et.Z)("PinCardHoverOverlay","/app/www/PinRep/Overlay/PinCardHoverOverlay.tsx")},[]);let t=(0,ef.Z)(),n=(0,e_.Z)(a7,i),{isAuthenticated:a}=(0,ej.B)(),o=n?.entityId,{checkExperiment:r}=(0,ew.Z)(),l=(0,a3.Z)(),s=a?r("dweb_pin_hover_overlay_gradient"):null,d=s?.group??null,c=d&&["enabled","employees"].includes(d),p="enabled_full"===d,u=c||p,h=(0,a6.Z)({skipExpActivation:!0});return(0,eq.jsxs)(el.xu,{bottom:!0,dangerouslySetInlineStyle:u?void 0:{__style:{backgroundColor:"rgba(17,17,17,0.4)"}},"data-test-id":"pin-card-hover-overlay",left:!0,position:"absolute",right:!0,top:!0,width:"100%",children:[u?(0,eq.jsxs)(en.Fragment,{children:[(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{background:"rgba(17, 17, 17, 0.40)"}},"data-test-id":"pin-card-hover-overlay-top-wash",height:"48px",left:!0,position:"absolute",right:!0,top:!0}),(0,eq.jsx)(el.xu,{bottom:p,dangerouslySetInlineStyle:{__style:{background:"linear-gradient(180deg, rgba(17, 17, 17, 0.40) 0%, rgba(17, 17, 17, 0.00) 100%)",top:48}},"data-test-id":p?"pin-card-hover-overlay-gradient-full":"pin-card-hover-overlay-top-gradient",height:p?void 0:"48px",left:!0,position:"absolute",right:!0})]}):null,!a&&e&&(0,eq.jsx)(el.xu,{margin:h?3:1,position:"absolute",right:!0,top:!0,children:(0,eq.jsx)(el.zx,{color:"red",fullWidth:!0,onClick:({event:e})=>{e.stopPropagation(),e.preventDefault(),l({reason:"UPSELL_LOGIN_OR_SIGNUP",attributionLabel:"click_context_menu_stela_save_button",desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save",savePinId:o}}})},size:h?"lg":"md",text:t._('Save', 'PinCloseup.SaveButton.Text', 'Save button for users who are logged out/cannot save to a board to direct to login upsell'),type:"button"})})]})};var a4=t(680589);function a8({boardUrl:e,boardName:i,isQuicksave:t,sectionName:n,sectionSlug:a,viewType:o,viewParameter:r}){(0,en.useEffect)(()=>{(0,et.Z)("PinCardSavedOverlay","/app/www/PinRep/Overlay/PinCardSavedOverlay.tsx")},[]);let l=(0,ef.Z)(),s=(0,er.s0)(),{logContextEvent:d}=(0,eu.u)(),c="desktop"!==(0,eZ.ZP)(),p=new el.Ry(1),u=!!a&&`${e}${a}/`;return(0,eq.jsx)(el.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{background:"rgb(0 0 0 / .4)"}},left:!0,position:"absolute",right:!0,top:!0,zIndex:p,children:(0,eq.jsx)(el.xu,{alignItems:"start",bottom:!0,display:"flex",justifyContent:"center",left:!0,padding:4,position:"absolute",right:!0,top:!0,children:(0,eq.jsx)(el.iP,{dataTestId:"saved-to-section-overlay-button",onTap:i=>{c&&d({event_type:101,view_parameter:r,view_type:o,component:0,element:10920}),i.event.preventDefault(),s(t?"/me/":u||e)},children:(0,eq.jsx)(el.xv,{color:"light",children:n?(0,il.nk)(l._('Saved to {{sectionName}}', 'PinCard.SavedToSection.Overlay', 'Saved to section overlay'),{sectionName:(0,eq.jsx)(el.xv,{color:"light",inline:!0,weight:"bold",children:(0,a4.ZP)(n,22)},`pincard-${n}`)}):(0,il.nk)(l._('Saved to {{boardName}}', 'PinCard.SavedToBoard.Overlay', 'Saved to board overlay'),{boardName:(0,eq.jsx)(el.xv,{color:"light",inline:!0,weight:"bold",children:t||!i?l._('Profile', 'PinCard.SavedToProfile.Overlay', 'Part of string saying "Saved to Profile" after saving a Pin'):(0,a4.ZP)(i,22)},`pincard-${i}`)})})})})})}var a9=t(818906),oe=t(203842),oi=t(500912);let ot=(0,iU.Z)(()=>t.e("12315").then(t.bind(t,232035)),void 0,e=>232035,"app-www-PinRep-SaveButton-QuickTapSave",e=>["12315"]),on=(0,iU.Z)(()=>t.e("17659").then(t.bind(t,543173)),void 0,e=>543173,"app-www-PinRep-SaveButton-OneTapSaveWithActions",e=>["17659"]),oa=(void 0!==Y||(Y=t(770550)).hash&&"c8089a49a12b595110c4a0f67c3fcdf3"!==Y.hash&&console.error("The definition of 'OneTapSave_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Y),oo=function(e){let{clientTrackingParams:i,pinnedToBoardId:t,oneTapSave:n,isPromotedPin:a,isSaved:o,children:r,isBoardIdeas:l,pinKey:s,viewParameter:d,viewType:c,unauthSaveUpsellGroup:p,unauthSaveUpsellEnabled:u}=e,h=(0,ef.Z)(),m=(0,eW.Z)(),g=(0,ea.I0)(),_=(0,er.s0)(),{isRTL:f,isAuthenticated:x}=(0,ej.B)(),y=(0,oi.n)(),v=(0,ea.v9)(({session:e})=>e.unauthSavePinId),{pins:b,clear:P}=(0,a9.Z)(),w=(0,en.useRef)(!1),{checkExperiment:S}=(0,ew.Z)(),{isGraphQLEnabledInGeneral:j}=(0,eG.nF)(),k=(0,e_.Z)(oa,s),C=!!k?.pinnedToBoard?.__typename,I=k?.entityId,T=x&&!!v&&v===I,Z=e=>_(e),A=(0,ea.v9)(e=>e.experiences[40001]);(0,eA.Z)(()=>{x&&!w.current&&b.length>0&&(w.current=!0,m({event_type:14577,aux_data:{num_unauth_saved_pins:b.length}}),[...b,...v&&j?[{id:v}]:[]].forEach(({id:e})=>{g((0,oe.Z)({checkExperiment:S,navigate:_,i18n:h,logContextEvent:m,onSuccess:()=>{},originalPinId:e,pinId:e,trackingParams:{clientTrackingParams:i,pinnedToBoardId:t},showRepinConfirmation:()=>void 0,disableRepinAnimation:!0,historyPush:Z,savePinId:y?.save??(()=>{})})).catch(e=>{(0,eC.My)(`error.unauth_profile_pin_merge.${e}`)})}),P())});let D=new el.Ry(2);if(!n&&!T&&!u)return r;let R=null;return T?R=(0,eq.jsx)(el.xu,{bottom:!0,"data-test-id":"one-tap-save",left:f,padding:2,position:"absolute",right:!f,zIndex:D,children:(0,eq.jsx)(ot,{buttonText:C?h._('Saved', 'OneTapSave.QuickSaveButton.Saved', 'Message on saved pin'):"",clientTrackingParams:i,color:C?"default":"primary",deeplinkUri:"deeplinkUri",experience:A,inline:!0,minWidth:54,pinId:I,pinKey:k,pinnedToBoardId:t,shape:"pill",shouldShowSavedButton:!!C,showSaveHandoffExperience:T,viewType:c})}):(n||u)&&(R=(0,eq.jsx)(on,{clientTrackingParams:i,isBoardIdeas:l,isInlineSaved:o,isPromotedPin:a,isRTL:f,legoFixedZIndex:D,oneTapSave:n,pinKey:k,pinnedToBoardId:t,shouldShowSaveHandoffExp:T,showCompactInlineSave:!!u,unauthSaveUpsellEnabled:u,unauthSaveUpsellGroup:p,viewParameter:d,viewType:c})),(0,eq.jsxs)(en.Fragment,{children:[r,R]})},or=(0,iU.Z)(()=>Promise.all([t.e("96425"),t.e("20379")]).then(t.bind(t,754894)),void 0,e=>754894,"PinVideoWithVisibilityWrapper",e=>["96425","20379"]),ol=({_fixCompletedOnLoad:e,carouselSlotVideo:i,color:t,details:n,displayVideo:a,image:o,imageElementId:r,index:l,onError:s,onLoad:d,slotId:c,src:p,title:u})=>{let h=a?i?.height??1:o?.height??1,m=a?i?.width??1:o?.width??1,g=a?i?.thumbnail??"":p;return(0,eq.jsx)(aW.Z,{_fixCompletedOnLoad:e,alt:u||n||"",color:t,elementTiming:r,fetchPriority:"auto",loading:"auto",naturalHeight:h,naturalWidth:m,onError:s,onLoad:d,src:g},c??l)},os=({index:e,carouselSlots:i,imageSpec:t,color:n,onError:a,onLoad:o,_fixCompletedOnLoad:r,surface:l,viewParameter:s,viewType:d,isAuthDesktop:c,isVideoCarouselEnabled:p,pin:u})=>((0,en.useEffect)(()=>{(0,et.Z)("CarouselSwiper","/app/www/PinRep/Visual/CarouselSwiper.tsx")},[]),(0,eq.jsx)(el.kC,{alignItems:"stretch",direction:"row",justifyContent:"start",children:i.map((i,h)=>{let{slotId:m,title:g,details:_,imageSizeMap:f,videos:x}=i,y=`carousel-swiper-${m??h}`,v=f?f[t]:null,b=v?v.url??"":"",P=x?.videoList?.vHLSV4||x?.videoList?.vHLSV3MOBILE,w=p&&!!P,S=w&&h===e?(0,eq.jsx)(or,{cropHeight:P.height,cropWidth:P.width,"data-test-id":`carousel-video-${m??h}`,fallback:P.thumbnail,isExperimentalPinRep:c||!1,onError:a,onLoad:o,pinKey:u,rootMargin:(0,aQ.e)(l),surface:"VideoCarouselModule",viewParameter:s,viewType:d,video:{...P,entityId:x?.entityId??""},isHovering:!0}):(0,eq.jsx)(ol,{_fixCompletedOnLoad:r,carouselSlotVideo:P,color:n,details:_,displayVideo:w,image:v,imageElementId:y,index:h,onError:a,onLoad:o,slotId:m,src:b,title:g});return(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{transform:`translate(${-100*e}%, 0%)`,transition:"transform 0.25s ease-in-out"}},"data-test-id":y,minWidth:"100%",children:S},m??h)})}));var od=t(380202),oc=t(78835);function op({width:e,height:i,minY:t,maxY:n}){let a=i=>e<=0||!i?"0%":Math.round(i/e*100)+"%";return{top:t<=0?"0%":a(-1*t*i),bottom:n>=1?"0%":a(-((1-n)*1)*i)}}var ou=t(113757);let oh="var(--story-item-width-height-ratio, auto)",om=(void 0!==q||(q=t(223724)).hash&&"17e511b61fc8e8549e7f464155404bab"!==q.hash&&console.error("The definition of 'PinVisualWrapper_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),q);function og({children:e,imageCropStyle:i,imageHeight:t,imageWidth:n,pinImageCrop:a,pinKey:o,resolution:r,surface:l,type:s}){let d;(0,en.useEffect)(()=>{(0,et.Z)("PinVisualWrapper","/app/www/PinRep/Visual/PinVisualWrapper.tsx")},[]);let{isAuthenticated:c}=(0,ej.B)(),p=(0,eZ.HG)(),{checkExperiment:u}=(0,ew.Z)(),h=(0,ou.Z)({isDesktop:p}),m=(0,ou.z)({isDesktop:p,isMetricVideoExperimentEnabled:h}),g=(0,e_.Z)(om,o),_=!c&&(p&&g.carouselData&&u("unauth_dweb_show_carousel").anyEnabled||!p&&g.carouselData&&u("unauth_mweb_show_carousel").anyEnabled),{imageFit:f,pinImageCrop:x,resolution:y}=aN({pinImageCrop:a,resolution:r,surface:l,imageCropStyle:i}),{cropHeight:v,cropWidth:b}=nP(x);if((c||_)&&(p||m&&"video"===s)){if("video"===s)return(0,eq.jsx)(el.kC,{alignItems:"stretch",direction:"column",height:v||void 0,justifyContent:"center",children:e({cropHeight:v,cropWidth:b,imageFit:f,finalResolution:y})});if("carousel"===s)return(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{aspectRatio:oh}},"data-test-id":"pinrep-carousel",children:e({cropHeight:v,cropWidth:b,imageFit:f,finalResolution:y})});let a="backend"!==x||i?void 0:op({width:n??1,height:t??1,minY:g.imageCrop?.minY??0,maxY:g.imageCrop?.maxY??1});return(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{...a?{marginTop:a.top,marginBottom:a.bottom}:{},aspectRatio:oh}},"data-test-id":"pinrep-image",minHeight:55,children:e({cropHeight:v,cropWidth:b,imageFit:f,finalResolution:y})})}a&&"backend"!==a||i||!g.imageCrop||"number"!=typeof g.imageCrop.minY||"number"!=typeof g.imageCrop.maxY||(d={minY:g.imageCrop.minY,maxY:g.imageCrop.maxY});let P=d?op({width:n??1,height:t??1,minY:d.minY,maxY:d.maxY}):void 0;return(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{...P?{marginTop:P.top,marginBottom:P.bottom}:{},aspectRatio:oh}},"data-test-id":"pin-visual-wrapper",position:"relative",children:(0,eq.jsx)(el.xu,{"data-test-id":`inp-perf-pinType-${s}`,children:(0,eq.jsx)(el.zd,{rounding:oc.mv,wash:!0,children:e({cropHeight:v,cropWidth:b,imageFit:f,finalResolution:y})})})})}function o_({children:e}){return(0,en.useEffect)(()=>{(0,et.Z)("PortraitPinWrapper","/app/www/PinRep/Visual/PortraitPinWrapper.tsx")},[]),(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:"134%"}},position:"relative",top:!0,children:(0,eq.jsx)(el.xu,{bottom:!0,left:!0,position:"absolute",right:!0,top:!0,children:e})})}var of=t(109571),ox=t(305375);let oy=(0,iU.Z)(()=>Promise.all([t.e("96425"),t.e("20379")]).then(t.bind(t,754894)),void 0,e=>754894,"PinVideoWithVisibilityWrapper",e=>["96425","20379"]),ov=(void 0!==X||(X=t(930551)).hash&&"dac22fd4a30e0d9f52138f95c9a702c1"!==X.hash&&console.error("The definition of 'PinCardVisual_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),X),ob=(void 0!==J||(J=t(24033)).hash&&"384a66acd024452b602e6b286681e7c5"!==J.hash&&console.error("The definition of 'PinCardVisual_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),J),oP="Left",ow="Right",oS=({boardKey:e,carouselIndex:i,clientTrackingParams:t,description:n,disableDefaultContextMenu:a,image:o,isBoardIdeas:r,isHovering:l,isInDesktopCarousel:s,isSquarePin:d,lazyLoadImage:c,onError:p,oneTapSave:u,onLoad:h,pinImageCrop:m,pinKey:g,priorityFetchImage:_,resolution:f="default",slotIndex:x,setIsLongPressEnabledForAuth:y,setCarouselIndex:v,srcSet:b,surface:P,title:w,type:S,viewParameter:j,viewType:k,isPromotedPin:C,unauthSaveUpsellGroup:I,unauthSaveUpsellEnabled:T})=>{let Z;(0,en.useEffect)(()=>{(0,et.Z)("PinCardVisual","/app/www/PinRep/Visual/PinCardVisual.tsx")},[]);let A=(0,aX.Z)(),{checkExperiment:D}=(0,ew.Z)(),[R,B]=(0,en.useState)(!1),{isAuthenticated:E}=(0,ej.B)(),z=(0,ef.Z)(),L=(0,eZ.ZP)(),O="desktop"===L,M=E&&O,F=!E&&O,G=(0,ou.Z)({isDesktop:O}),K=(0,ou.z)({isDesktop:O,isMetricVideoExperimentEnabled:G}),V=(0,aJ.Z)(),N=(0,oi.n)(),U=(0,a1.m)(),H=(0,e_.Z)(ov,g),W=(0,e_.Z)(ob,e),$=H?.entityId??"",Y=H?.pinnedToBoard?.entityId&&!!N?.isSaved($),q=U?.isSaved($),X=U?.isInNewsHubQuickSaveExpAndNewsHubPage()?q:Y,J=H?.domain&&H?.link?"with-link":"without-link",Q=(0,en.useRef)(Date.now()),ee=(0,en.useRef)(null),ei=(0,ia.Z)(),ea=H?.carouselData,eo=H?.isEligibleForPdp,es=(0,of.I)(),{logContextEvent:ed}=(0,eu.u)(),ec=M||D("ads_show_carousel_on_mweb").anyEnabled||!E&&O&&ea&&D("unauth_dweb_show_carousel").anyEnabled||!E&&!O&&ea&&D("unauth_mweb_show_carousel").anyEnabled,ep=D("web_homefeed_video_carousel").anyEnabled,eh=(0,er.TH)(),{scope:em}=(0,ox.Z)(),eg=(0,od.Z)(P),ex="dominant"===eg?H?.dominantColor??"":eg,ey=(0,il.nk)(z._('This contains an image of: {{ pinTitle }}', 'PinCardVisual.fallbackAltText', 'Fallback if there is no accessibility text description for an image. pinTitle: The title of the pin'),{pinTitle:w||H?.gridTitle}).join(""),ev=M?(0,aU.Z)({altText:H?.altText,autoAltText:H?.autoAltText,i18n:z})||!!n?.trim().length&&n||ey:H?.seoAltText||"",{isImpressionFixEnabled:eb}=(0,a$.Z)({skipActivation:!0}),eP=3876===j,eS=(0,en.useCallback)(()=>{R||B(!0)},[R]);(0,en.useEffect)(()=>(ec&&"undefined"!=typeof window&&window.addEventListener("scroll",eS),()=>{"undefined"!=typeof window&&window.removeEventListener("scroll",eS)}),[ec,eS]),(0,en.useEffect)(()=>{l&&!E&&ei({action:"view",item:"unauth-video-autoplay-on-hover"})},[l,ei,E]),(0,en.useEffect)(()=>{let e=`board-image-preload-${x-1}`,i=document.getElementById(e)?.getAttribute("href")??"";es&&5===k&&i&&(0,aA.nP)("www.blp.preloadImageCheck",{sampleRate:5,tags:{isAuthenticated:E,deviceType:L,isEqual:i===o.url}})},[]),(0,aY.Z)(P,o.url);let ek=(0,n8.Z)(H),eC=ec&&ea;if(!H)return null;let eI=!E&&O&&ea&&D("unauth_dweb_show_carousel").anyEnabled,eT=eC?(0,eq.jsx)(el.xu,{display:"flex",marginEnd:1,marginStart:1,marginTop:3*!M,position:"relative",zIndex:eI?new el.Ry(1):void 0,children:(0,eq.jsx)(a0.Z,{addEllipsis:!M,alwaysShowNavigationArrows:!1,carouselData:{carouselSlots:ea.carouselSlots?.map(({slotId:e,title:i})=>({id:e,title:i})),entityId:ea.entityId??"",index:ea.index},carouselIndex:i,componentType:14888,ellipsisVariant:"dark",handleCarouselSwipe:e=>{v(e)},hideNavigationArrows:!0,pinKey:H,viewParameter:j,viewType:k})}):null,eA=()=>(0,ie.C$)(eh)?"homefeed":(0,ie.L6)(eh)?"related_pins":(0,ie.En)(eh)?"search":"unknown",eD=({imageFit:e})=>{if(ec&&ea)return(0,eq.jsx)(os,{_fixCompletedOnLoad:eb,carouselSlots:ea.carouselSlots?ea.carouselSlots.map(({slotId:e,details:i,imageSignature:t,title:n,imagesSpec_236x:a,videos:o})=>({details:i,slotId:e,imageSignature:t,title:n,imageSizeMap:{"236x":{width:a?.width,height:a?.height,url:a?.url}},videos:o})):[],color:ex,imageSpec:"236x",index:i||ea.index||0,isAuthDesktop:M,isVideoCarouselEnabled:ep,onError:p,onLoad:h,pin:H,surface:P,viewParameter:j,viewType:k});let t=(0,ie.L6)(eh)&&F?"low":"auto",n="non-story-pin-image",a=(0,eq.jsx)(aW.Z,{_fixCompletedOnLoad:eb,alt:ev,color:ex,elementTiming:`grid-${n}-${eA()}`,fetchPriority:_?"high":t,fit:d?"cover":e,loading:c?"lazy":"auto",naturalHeight:o.height??1,naturalWidth:o.width??1,onError:p,onLoad:h,src:o.url??"",srcSet:b});return(0,eq.jsx)(el.xu,{"data-test-id":n,height:"100%",width:"100%",children:a})},eR=()=>(0,ie.C$)(eh)?92:(0,ie.L6)(eh)?140:(0,ie.En)(eh)?(0,aq._R)((0,aq.oD)(em)):void 0,eB=D("ap_bmi_custom_activation_nux_revamp_mweb_v2",{dangerouslySkipActivation:!0}).anyEnabled,eE=W?.layout==="quick_saves",ez=E&&X&&!eB,eL=H?.adData?.collectionGridClickType||0,{storyPinData:eO}=H,eM=(()=>{if(eO){let e=eO.pages;if(e&&e.length>0){let i=e&&e[0].blocks;if(i&&i.length>0){let e=i[0];if("StoryPinVideoBlock"===e.__typename&&3===e.blockType&&e.videoDataV2&&e.videoDataV2.videoList&&e.videoDataV2.videoList.vHLSV3MOBILE)return{entityId:e.videoDataV2.videoList.vHLSV3MOBILE.blockId,height:e.videoDataV2.videoList.vHLSV3MOBILE.height??void 0,thumbnail:e.videoDataV2.videoList.vHLSV3MOBILE.thumbnail??void 0,width:e.videoDataV2.videoList.vHLSV3MOBILE.width??void 0,url:e.videoDataV2.videoList.vHLSV3MOBILE.url??void 0}}}}return null})(),eF=H.videos?.videoList?.vHLSV4||H.videos?.videoList?.vHLSV3MOBILE||eM,eG=H.isEligibleForPreLovedGoodsLabel&&O&&!C&&!l&&["enabled","employees"].includes(D("web_organic_pre_loved_goods_label").group),eK=z._('Pre-owned', 'PinCardVisual.preOwnedLabelText', 'Label to indicate that the product is pre-owned'),eV=()=>null;eV=(O||K)&&eF&&H&&!V&&!["BoardCoverSelectablePin","VisualInspirationPin"].includes(P??"")?eP?({cropHeight:e,cropWidth:i,imageFit:t,finalResolution:n})=>(0,eq.jsx)(o_,{children:(0,eq.jsx)(el.xu,{alignItems:"center","data-test-id":"pinrep-video",display:"flex",height:"100%",justifyContent:"center",position:"absolute",width:"100%",children:(0,eq.jsx)(el.xu,{width:"100%",children:(0,eq.jsx)(oy,{cropHeight:e,cropWidth:i,fallback:eD({imageFit:t}),highResOnly:"high-res"===n,isExperimentalPinRep:M,isHovering:l,onError:p,onLoad:h,pinKey:H,rootMargin:(0,aQ.e)(P),surface:P,viewParameter:j,viewType:k,...eM?{video:eM}:{}})})})}):({cropHeight:e,cropWidth:i,imageFit:t,finalResolution:n})=>(0,eq.jsx)(el.xu,{"data-test-id":"pinrep-video",children:(0,eq.jsx)(oy,{cropHeight:e,cropWidth:i,fallback:eD({imageFit:t}),highResOnly:"high-res"===n,isExperimentalPinRep:M,isHovering:l,onError:p,onLoad:h,pinKey:H,rootMargin:(0,aQ.e)(P),surface:P,viewParameter:j,viewType:k,...eM?{video:eM}:{}})}):d?({imageFit:e})=>(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{paddingTop:"calc(100%)"}},children:(0,eq.jsx)(el.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{WebkitMaskImage:"-webkit-radial-gradient(white, black)"}},left:!0,position:"absolute",right:!0,top:!0,children:eD({imageFit:e})})}):eP?({imageFit:e})=>(0,eq.jsx)(o_,{children:eD({imageFit:e})}):({cropHeight:e,cropWidth:i,imageFit:t})=>(0,eq.jsx)(el.xu,{height:e||void 0,width:i||void 0,children:eD({imageFit:t})}),d?Z="square":eP&&(Z=aV);let eN=(0,eq.jsx)(el.zd,{wash:!0,children:(0,eq.jsx)(aH.Z,{clientTrackingParams:t,enableDLCollection:C&&(3===eL||2===eL)||!1,hovered:l,pinKey:H,slotIndex:x,viewType:k,children:(0,eq.jsx)(og,{imageCropStyle:Z,imageHeight:o.height,imageWidth:o.width,pinImageCrop:m,pinKey:H,resolution:f,surface:P,type:ec&&ea?"carousel":S,children:eV})})});return(0,eq.jsxs)("div",{className:"PinCard__imageWrapper","data-test-id":M&&ea&&"carousel-pin","data-test-image-signature":H.imageSignature,style:{position:"relative"},children:[(0,eq.jsxs)(el.xu,{dangerouslySetInlineStyle:{__style:{willChange:"transform",textDecoration:"none"}},"data-test-id":`pincard-${S}-${J}`,onContextMenu:e=>{let i=eR();"desktop"!==L&&(E&&ei({action:"click",item:"pin-feed"}),(!E||i&&E)&&(e.preventDefault(),e.stopPropagation()))},onTouchEnd:e=>{if("desktop"===L)return;let t=eA(),n=Date.now()-Q.current>500,o=ee.current;if(e.changedTouches&&e.changedTouches.length>0&&o){let r=e.changedTouches[0],l=((e,i)=>{let t=e.x-i.x,n=e.y-i.y;return Math.abs(t)>Math.abs(n)?t>0?ow:oP:n>0?"Down":"Up"})({x:r.pageX,y:r.pageY},o),s=Math.pow(r.pageX-o.x,2)+Math.pow(r.pageY-o.y,2);if(ec&&(l===oP||l===ow)&&!n&&!R){e.preventDefault(),e.stopPropagation();let t=ea?.carouselSlots?.length??0,n=i;l===oP&&i<t-1?n=i+1:l===ow&&i>0&&(n=i-1),v(n),ek({pinId:$,currentIndex:i,nextIndex:n,carouselData:{carouselSlots:ea?.carouselSlots?.map(({slotId:e})=>({id:e})),entityId:ea?.entityId??""},viewParameter:j,viewType:k,componentType:14887,isEligibleForPdp:eo??!1})}if(r&&s>100)return;n&&!E&&"related_pins"===t?(a?.(),A({pinId:$,location:"related-pins-long-press"}),e.stopPropagation()):n&&E&&(eR()&&(a?.(),y?.(!0),e.stopPropagation()),ed({event_type:103,view_parameter:eR()}))}},onTouchStart:e=>{if("desktop"===L)return;B(!1);let i=eR();if(E||ei({action:"click",item:"pin-image",within:"related-pins"}),(!E||i&&E)&&a?.(),Q.current=Date.now(),e.changedTouches&&e.changedTouches.length>0){let i=e.changedTouches[0];i&&(ee.current={x:i.pageX,y:i.pageY})}},overflow:"hidden",position:"relative",rounding:4,children:[M?eN:(0,eq.jsx)(oo,{clientTrackingParams:t||"",isBoardIdeas:r,isPromotedPin:!!C,isSaved:!!X,oneTapSave:u,pinKey:H,unauthSaveUpsellEnabled:T,unauthSaveUpsellGroup:I,viewParameter:j,viewType:k,children:eN}),l&&O&&(0,eq.jsx)(a5,{isInDesktopCarousel:s,pinKey:H}),ez&&(0,eq.jsx)(a8,{boardName:W?.name??"",boardUrl:W?.url??"",isQuicksave:eE,sectionName:u?.section?.title,sectionSlug:u?.section?.slug,viewParameter:j,viewType:k}),ec&&ea&&tE(ea?.carouselSlots)&&(0,eq.jsx)(a2,{currentIndex:i||ea.index||0,totalPages:ea.carouselSlots?.length||0})]}),eT,eG&&(0,eq.jsx)(el.xu,{marginStart:2,marginTop:2,position:"absolute",top:!0,children:(0,eq.jsx)(el.Ct,{text:eK,type:"lightWash"})})]})};var oj=t(715845),ok=t(678024),oC=t(368475);let oI=(0,en.lazy)(()=>t.e("33357").then(t.bind(t,973747))),oT=(0,iU.Z)(()=>Promise.all([t.e("31461"),t.e("3569")]).then(t.bind(t,567369)),void 0,e=>567369,"app-www-unauth-SeoDrawer-SeoDrawerModal",e=>["31461","3569"]),oZ=({children:e,...i})=>(0,eq.jsx)(eN.dL,{...i,children:({impressionTrackerRef:t})=>(0,eq.jsx)(el.xu,{ref:t,children:(0,eq.jsx)(eN.JE,{...i,children:e})})}),oA=({excludeFromGridRepTests:e,children:i})=>{let{checkExperiment:t}=(0,ew.Z)(),n=(0,en.useMemo)(()=>({web_gestalt_calico:{anyEnabled:!0,group:"enabled"}}),[]);return e&&t("web_exclude_from_grid_rep_tests").anyEnabled?(0,eq.jsx)("div",{className:"excludeFromGridRepTests",children:(0,eq.jsx)(el.II,{value:n,children:i})}):i},oD=(void 0!==Q||(Q=t(166389)).hash&&"731e720d36c83dbfa6beb5e68460152e"!==Q.hash&&console.error("The definition of 'PinRep_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),Q),oR=(void 0!==ee||(ee=t(248258)).hash&&"555551992fc9b41a58a56a4c52a2380b"!==ee.hash&&console.error("The definition of 'PinRep_parentPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),ee),oB=(void 0!==ei||(ei=t(84826)).hash&&"05f116c6caad8adf30a12ec8c30d4d23"!==ei.hash&&console.error("The definition of 'PinRepInner_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),ei);function oE(){let{logStat:e}=(0,eG.Yg)();return(0,eA.Z)(()=>{e("related_pin_impression_nested")}),null}function oz({attributionOption:e,auxData:i,blockClickEvents:t,boardKey:n,borderStyle:a,componentType:o,disableAppUpsell:r,disableFooter:l,disableReaction:s,disableHover:d=!1,duploConversationPin:c,duploDedupeVisualAnnotations:p,duploDisablePinCardPadding:u,duploFeedItemProps:h,duploIsSquarePin:m,duploLazyLoadImage:g,duploOneTapSave:_,duploPinCardDetailsMargin:f,duploPriorityFetchImage:x,duploShouldAddNiiSearchParamToImageUrls:y,duploShouldAllowProductPriceIndicator:v,duploShouldTrackPinEvents:b,feedback:P,forcedHover:w=!1,imageOnlyOption:S,impressionData:j,isInDesktopCarousel:k,isInFullWidthStory:C,objectIdStr:I,onCollagePinRepClick:T,pin:Z,pinImageCrop:A,pinOwner:D,pinRepDataType:R,parentPin:B,productTagParentPinId:E,renderPinSaveTooltip:z,resolution:L,rounding:O,saveButtonOptions:M,selectionState:F="no-selection",showVisitSiteButton:G,slotIndex:K,surface:V,topLevelTrafficSource:N,topLevelTrafficSourceDepth:U,trackingParams:H,trafficSource:W,viewData:$,viewParameter:Y,viewType:q,userAvatarImageUrl:X,seoDrawerPinType:J,shouldShowSeoDrawerOption:Q,shouldShowSeoDrawerNewfields:ee=!1,showVaseAnnotationsProp:ei,hideContextMenu:et,hideSendButton:eo,hideEditButton:eG,hideFavoriteButton:e$}){let eY=(0,ew.Z)(),{logContextEvent:eX}=(0,eu.u)(),eJ=(0,em.Z)(),e1=(0,ef.Z)(),e2=(0,eZ.HG)(),e3=(0,eZ.ml)(),e6=(0,eH.D)(),e7=(0,eS.yz)(),e5=(0,eg.G5)(Z)?.kind||"",{checkExperiment:e4}=eY,{anyEnabled:e8}=e4("pinrep_surface_view_api_logging"),e9=(0,ej.B)(),{isAuthenticated:ie,locale:ii}=e9,it=ie&&e2,io=!ie&&!e2,{viewedSharedPins:ir}=(0,ea.v9)(({session:e})=>e),{getPinFeedbackStatus:il,setPinFeedbackStatus:is}=(0,e0.K)(),[id,ic]=(0,en.useState)(!1),[ip,iu]=(0,en.useState)(!1),[ih,im]=(0,en.useState)(!1),[ig,i_]=(0,en.useState)(Z.carouselData?.index??0),[ix,iy]=(0,en.useState)(Z.carouselData?.index??0),iv=(0,en.useCallback)(e=>{ic(!1),iy(e)},[iy]);(0,en.useEffect)(()=>{ix!==ig&&(ic(!0),i_(ix))},[ix,ig]),(0,en.useEffect)(()=>{let e=`${V}-${Y}-${e5}`;e8&&!ak.has(e)&&(eX({event_type:16815,aux_data:{pinrep_surface:V,pinrep_view_parameter:Y,pinrep_api_type:e5}}),ak.add(e))},[e5,V,Y,eX,e8]);let ib=(0,ed.Z)(),{peekCloseupEnabled:iP,viewportSize:iw}=(0,eF.x4)(),iS=(0,es.rt)({peekCloseupEnabled:iP,viewportSize:iw,surface:V}),ij=(0,er.TH)(),ik=H||(0,eU.Z)((ij?.state||{}).trackingParams,Z.trackingParams),iC=(0,e_.Z)(oB,n),{anyEnabled:iI}=e4("aid_web_collection_pin_data"),iT=(0,eT.Z)(),iZ=Z.entityId,{dpaCreativeType:iA,aggregatedPinData:iR,collectionPin:iB,adData:iL}=Z,iO=iB?.itemData&&iB.itemData.length>0,iM=iR?.pinTagsChips,iF=iL?.collectionGridClickType||0,iG=iL?.ceAltImageSignature,iK=iL?.isWeightLossAd,iV=!!(Z.promoter&&!Z.isDownstreamPromotion),iN=iI&&iO||iM,iU=iV&&(3===iF||2===iF),iH=iN&&iU,iW=iN&&iV&&(3===iF||2===iF),i$="CopyrightReportingPin"===V&&iN&&!iU&&!iW,iY=iW||i$,iq=3876===Y,{anyEnabled:iX,group:iJ}=!(0,eh.VM)(e9)&&!ie&&e3&&"ShoppingGridSmallCarousel"!==V&&e4("unauth_save_upsell_mweb")||{anyEnabled:!1,group:""},{images:iQ,imageSpec_136x136:i1,imageSpec_170x:i2,imageSpec_236x:i3,imageSpec_474x:i6,imageSpec_736x:i7,imageSpec_orig:i5}=function({pinKey:e,duploShouldAddNiiSearchParamToImageUrls:i}){let t=(0,e_.Z)(aB,e),n=e=>i&&e?{...e,url:e.url&&(0,aR.Z)(e.url)}:e,a=n(t.imageSpec_136x136),o=n(t.imageSpec_170x),r=n(t.imageSpec_236x),l=n(t.imageSpec_474x),s=n(t.imageSpec_736x),d=n(t.imageSpec_orig);return{images:{...[["136x136",a],["170x",o],["236x",r],["474x",l],["736x",s],["orig",d]].reduce((e,[i,t])=>(t&&(e[i]={dominant_color:t.dominantColor??void 0,height:t.height??void 0,url:t.url??void 0,width:t.width??void 0}),e),{})},imageSpec_136x136:a,imageSpec_170x:o,imageSpec_236x:r,imageSpec_474x:l,imageSpec_736x:s,imageSpec_orig:d}}({pinKey:Z,duploShouldAddNiiSearchParamToImageUrls:y}),i4=Object.keys(iQ).reduce((e,i)=>i&&iQ[i]?.url?{...e,[i]:iQ[i].url}:e,{}),i8=(0,eP.Z)(Z,i4);(0,oC.Z)(Z),function({pinKey:e,imageUrl:i,placeholder:t,viewParameter:n}){let a=(0,e_.Z)(aF,e),o=iD(a),r=(0,eZ.HG)(),l=(0,aM.$)();(0,eA.Z)(()=>{if(l&&!r&&"image"===o&&i){let e={pin:{dominantColor:a.dominantColor,link:a.link,mobileLink:a.mobileLink,richMetadata:a.richMetadata&&{__typename:"RichPinDataView",article:a.richMetadata.article&&{__typename:"ArticleMetadata"},recipe:a.richMetadata.recipe&&{__typename:"RecipeMetadata"},products:a.richMetadata.products?.map(()=>({__typename:"RichPinProductMetadata"}))},trackedLink:a.trackedLink,utmLink:a.utmLink},derived:{homefeedRecommendationReason:92===n&&a.recommendationReason?{reason:a.recommendationReason.reason,reasonId:a.recommendationReason.reasonId}:null,imageUrl:i,placeholder:t&&{width:t.width,height:t.height,url:t.url}}};l.setData(a.entityId,e)}})}({pinKey:Z,placeholder:iQ["236x"]||iQ["136x136"],imageUrl:i8,viewParameter:Y}),(0,ok.Z)({entityId:Z.entityId,description:Z.description,imageSignature:Z.imageSignature??null,imageSpec_236x:Z.imageSpec_236x,slotIndex:K});let i9=eJ.isAuth&&eJ.weight_loss_ads_opted_out&&iK,te=(0,en.useCallback)(()=>ic(!1),[]),ti=(0,en.useCallback)(()=>ic(!0),[]),tt=92===Y&&(ir&&ir[iZ])?.inviteCode,tn=(0,eV.Z)({imageSpec_236x:i3,imageSpec_170x:i2,imageSpec_136x136:i1,imageSpec_736x:i7,imageSpec_474x:i6,imageSpec_orig:i5,duploIsSquarePin:m,resolution:L}),ta=(0,en.useMemo)(()=>({dominant_color:tn.dominantColor??void 0,height:tn.height??void 0,url:tn.url??void 0,width:tn.width??void 0}),[tn]),to=Z.videos?.videoList?.vHLSV3MOBILE||Z.videos?.videoList?.vHLSV4||Z.videos?.videoList?.v720P,{commerce_data:tr}=(0,eD.Z)(Z)(),tl=il({pinId:iZ}),ts=(0,ex.hP)({boardFollowedByMe:!!Z.board?.followedByMe,feedbackType:P?.type,viewParameter:Y,promotion:Z.promoter&&{isDownstreamPromotion:!!Z.isDownstreamPromotion},pinnerFollowedByMe:!!Z.pinner?.explicitlyFollowedByMe,recommendationReason:Z.recommendationReason&&{hasBoard:!!Z.recommendationReason.board,reason:Z.recommendationReason.reason??void 0}}),td=(0,ev.Z)({feedbackType:ts,pinKey:Z}),tc=(0,ey.Z)({feedbackType:ts,getRecommendationDescription:td,isPromoted:iV,pinKey:Z}),{seoAltText:tp,altText:tu,seoUrl:th,storyPinData:tm}=Z,tg=ie?tp||tu:tp,t_=tm?.isDeleted,tf=tU({pinKey:Z}),tx=iE({pinKey:Z,viewParameter:Y}),{deepLinkProps:ty,title:tv,description:tb,clientTrackingParams:tP}=function({auxData:e,carouselIndex:i,carouselSlots:t,ceImageSignature:n,commerce_data:a,componentType:o,disableAppUpsell:r,dpaCreativeType:l,duploDedupeVisualAnnotations:s,duploFeedItemProps:d,enableCollectionChips:c,isPromotedPin:p,pinKey:u,seoAltText:h,pinRepDataType:m,slotIndex:g,seoUrl:_,trackingParams:f,trafficSource:x,topLevelTrafficSource:y,topLevelTrafficSourceDepth:v,viewParameter:b,viewType:P,visualAnnotation:w}){let S=(0,e_.Z)(aD,u),{checkExperiment:j}=(0,ew.Z)(),k=(0,ef.Z)(),{country:C,isAuthenticated:I}=(0,ej.B)(),T=(0,aZ.Z)(),Z=(0,eW.Z)(),A=(0,ia.Z)(),D=(0,eZ.HG)(),R=D&&I,B=(0,nC.g)(),{attributionSourceId:E,carouselData:z,description:L,entityId:O,gridTitle:M,richSummary:F}=S,{title:G,description:K}=(0,iz.U)({haveCarouselData:!!z,carouselIndex:i,carouselSlots:t,pinDescription:L,gridTitle:M,richSummaryDisplayName:F?.displayName}),V=(0,tX.Z)({pinKey:S});return(0,en.useMemo)(()=>{let u,L=null;(R||j("ads_show_carousel_on_mweb").anyEnabled||!I&&D&&z&&j("unauth_dweb_show_carousel").anyEnabled||!I&&!D&&z&&j("unauth_mweb_show_carousel").anyEnabled)&&z&&t&&(u=t[i]).link&&"oneTap"===m&&(L=u.link);let M=w;s&&M&&(M=s({pinId:O,visualAnnotations:M})),null===L&&(L="oneTap"===m?p&&S.adDestinationUrl&&j("web_epik_right_click_attribution").anyEnabled?S.adDestinationUrl:S.trackedLink||S.link:I?(0,nu.BY)(O):(0,nu.bN)({pinId:O,seoUrl:_}));let F=null,N=j("aid_exp_ara_shutdown_source_registration").anyEnabled;if(!T&&p&&window.document.featurePolicy?.allowsFeature("attribution-reporting")&&!N)try{let e=(0,aI.Z)(E??"0",(e=>{let{adDestinationUrl:i,link:t,domain:n}=e;return[i,t,n]})(S),!0,S.campaignId,S.advertiserId);F=`attributionsrc=${encodeURIComponent(e)}`}catch(e){(0,aA.nP)("webapp.arapi.click.funnel",{sampleRate:.1,tags:{status:"failed",error:(0,aT.Z)(e,"name"),message:(0,aT.Z)(e,"message")}})}return{deepLinkProps:{accessibilityLabel:h||k._('Pin', 'Pin accessibility label', 'Pin accessibility label'),country:C,deeplinkUri:L,external:"oneTap"===m,externalQueryParams:{pin:O,client_tracking_params:f},features:F,isAppUpsellDisabled:r,onTouch:i=>{let t=(0,eU.Z)(f,S.trackingParams);if(Z({view_type:P,view_parameter:b,element:S.storyPinDataId?12372:35,event_type:101,component:o,object_id_str:O,clientTrackingParams:t,aux_data:{commerce_data:a,grid_index:g,image_signature:S.imageSignature,...e}}),"oneTap"!==m&&Z({event_type:8948,view_type:P,view_parameter:b,object_id_str:O,clientTrackingParams:t,aux_data:{image_signature:S.imageSignature,commerce_data:a,closeup_navigation_type:"click",grid_index:g,cosmic_ray_count:"3",...e}}),!I)switch(A({action:"click",item:"pin"}),P){case 3:(0,eC.NC)("click_pin_related_image");break;case 5:(0,eC.NC)("click_board_pin_image");break;case 210:(0,eC.NC)("click_topic_pin_image");break;case 605:(0,eC.NC)("click_shopping_category_pin_image");break;case 606:(0,eC.NC)("click_videos_category_pin_image")}if("oneTap"===m&&(c?(Z({view_type:3,event_type:8948,component:15166,element:15927,object_id_str:O,aux_data:{collection_pin_click_position:0,click_type:"clickthrough"},event_data:{dcoEventData:{clientCreativeType:l,ceAltImageSignature:n}}}),Z({view_type:3,event_type:12,component:15166,element:15927,object_id_str:O,aux_data:{collection_pin_click_position:0,client_creative_type:l},event_data:{dcoEventData:{clientCreativeType:l,ceAltImageSignature:n}}}),Z({view_type:3,event_type:7762,component:15166,element:15927,object_id_str:O,event_data:{dcoEventData:{clientCreativeType:l,ceAltImageSignature:n}}})):(Z({event_type:8948,view_type:P,view_parameter:b,object_id_str:O,clientTrackingParams:t,aux_data:{image_signature:S.imageSignature,closeup_navigation_type:"click",click_type:"clickthrough",cosmic_ray_count:"2",...e}}),Z({event_type:12,view_type:P,view_parameter:b,element:S.storyPinDataId?12372:35,component:o,object_id_str:O,aux_data:{commerce_data:a,grid_index:g,image_signature:S.imageSignature,...e,is_promoted:p},clientTrackingParams:t}),Z({component:o,event_type:13,view_type:3,clientTrackingParams:t,aux_data:{closeup_navigation_type:"web_closeup",image_signature:S.imageSignature},object_id_str:O}))),d?.onPinClick?.(),D){let e=494===P;if(i.metaKey||e)(0,eC.My)(`unauth_pin_rep.click.cmd_button_pressed.${String(b)}`),i.preventDefault(),window.open(`/pin/${O}/`,"_blank")?.focus();else if(!I&&B){let{pinImageClickHandler:e}=B;e({event:i,pinId:O,linkTarget:"duploClientNav",seoUrl:_,componentType:o,viewParameter:b})}}else I||(0,eC.My)("unauth_mweb_pin_rep.click",{viewType:P})},pinCategory:S.category??null,pressState:"none",rounding:4,title:k._('See this Pin', 'App Upsell Text after clicking on Pin in feed', 'App Upsell Text after clicking on Pin in feed'),to:{pathname:L,state:{trackingParams:f,trafficSource:x,topLevelTrafficSource:y,topLevelTrafficSourceDepth:v}},upsellType:"direct",viewParameter:b,viewType:P,clientTrackingParams:V},title:G,description:K,clientTrackingParams:V}},[V,E,e,z,i,t,n,j,a,o,C,K,r,l,s,d,c,k,R,I,T,D,p,Z,S,O,m,h,_,g,G,y,v,A,f,x,B,b,P,w])}({auxData:i,carouselIndex:ix,carouselSlots:Z.carouselData?.carouselSlots,ceImageSignature:iG,commerce_data:tr,componentType:o,disableAppUpsell:r,dpaCreativeType:iA,duploDedupeVisualAnnotations:p,duploFeedItemProps:h,enableCollectionChips:iW,isPromotedPin:iV,pinKey:Z,pinRepDataType:R,seoAltText:tg,seoUrl:th??null,slotIndex:K,trackingParams:ik,trafficSource:W,topLevelTrafficSource:N,topLevelTrafficSourceDepth:U,viewParameter:Y,viewType:q,visualAnnotation:Z.pinJoin?.visualAnnotation}),tw=u?0:(0,aC.Z)({isDesktop:e2}),tS=(0,en.useMemo)(()=>({componentType:o,contextLogData:i,slotIndex:K,viewData:$,viewParameter:Y,viewType:q}),[i,o,K,$,Y,q]),tj=(0,ez.Z)({pinKey:Z,isORBACProfileManager:(it?tf:null)??void 0,saveButtonOptions:M,surface:V}),[tk,tC]=(0,en.useState)(!1),tI=t4(w,0),{isHovering:tT,hoverTransitionState:tZ}=tI,{handleMouseOver:tA,handleMouseLeave:tD}=tI;d&&(tT=!1,tZ="inactive");let tR=function({forcePrimary:e,hoverTransitionState:i,pinKey:t,surface:n}){let a=(0,e_.Z)(aO,t),o=(0,i0.Z)(e),r=(0,em.Z)(),l=r.isAuth&&r.isEmployee,s=(0,i0.Z)(!!a.savedInfo),d=(0,aE.kn)(s),c=(0,aE.kn)(i),p=(0,aE.kn)(i),u=(0,aE.kn)(o),h=(0,aE.kn)(s),m=["HomefeedMoreIdeasTabs","BoardMoreIdeasTabContent"].includes(n??""),g="visible"!==d||m?d:"none",_=!!a.carouselData?.entityId,f=!!a.storyPinData?.isDeleted,x=(0,en.useMemo)(()=>(0,az.Z)({hasCarouselData:_,isDeletedStoryPin:f,surface:n}),[_,f,n]),y=x.primaryContent??(0,aE.RY)(p,u,"visible"===h?"none":h),v="none"!==x.actionBar?(0,aE.RY)(p,u):"none",b=(0,en.useRef)(!0),P=b.current;b.current=!1;let w=(0,aL.Z)({isFirstRender:P,pinKey:a}),S=(0,i0.Z)(w),j=(0,aE.kn)(S),k=(0,aE.vs)((0,aE.RY)(p,u,h)),C=x.secondaryContent??(0,aE.g_)(k,j),I="none";return"visible"===x.accessoryContent&&(I=(0,aE.kn)(i)),(0,en.useMemo)(()=>({actionBarVisibility:v,actionBarOverflowMenuVisibility:v,accessoryContentVisibility:I,legoSavedOverlayVisibility:g,primaryContentVisibility:y,secondaryContentVisibility:C,signalDebuggerV2ContentVisibility:l?"visible":"none",visualOverlayVisibility:c}),[v,I,g,y,C,c,l])}({forcePrimary:tk,hoverTransitionState:tZ,pinKey:Z,surface:V}),tB=(0,en.useRef)(null);"header-only"===(0,eL.Z)(tB)&&(tR.actionBarVisibility="none",tR.accessoryContentVisibility="none");let{story_type:tE,board_id:tz,board_session_id:tL,board_pin_count:tO,module_id:tM,pin_column_index:tF,has_auto_tags:tG,source:tK,root_pin_id:tV}=i||{},{savedInfo:tN=null,type:tH=null}=tj?.type==="persistentOneClickSave"?tj:{},tW=it||e4("ads_show_carousel_on_mweb").anyEnabled||!ie&&e2&&Z.carouselData&&e4("unauth_dweb_show_carousel").anyEnabled||!ie&&!e2&&Z.carouselData&&e4("unauth_mweb_show_carousel").anyEnabled,t$=!1;t$=!!tW&&!!Z.carouselData||!to&&!!tg&&ii.startsWith("en");let tY=t?el.xu:eK.M,tq=t?{}:ty;!t&&it&&(tY=ec.Z,tq={contextLogData:{commerce_data:tr,grid_index:K,image_signature:Z.imageSignature,story_type:tE,board_id:tz,board_session_id:tL,board_pin_count:tO,module_id:tM,pin_column_index:tF,...void 0!==tG?{has_auto_tags:tG}:{},...tV?{root_pin_id:tV}:{},...tK?{source:tK}:{}},derivedSaveButtonOptionsSavedInfo:tH?tN:null,disableA11yLabel:t$,elementType:null!=tm?12372:35,enableDLCollection:iH||!1,pinKey:Z,productTagParentPinId:E,surface:V});let tJ=(0,en.useMemo)(()=>!t&&it?{contextLogData:{commerce_data:tr,grid_index:K,image_signature:Z.imageSignature,story_type:tE,board_id:tz,board_session_id:tL,board_pin_count:tO,module_id:tM,pin_column_index:tF,...void 0!==tG?{has_auto_tags:tG}:{},...tV?{root_pin_id:tV}:{}},derivedSaveButtonOptionsSavedInfo:tH?tN:null,disableA11yLabel:t$,elementType:null!=tm?12372:35,enableDLCollection:iH||!1,pinKey:Z,productTagParentPinId:E,surface:V}:t?{}:ty,[t,tz,tO,tL,tr,ty,tN,tH,t$,tG,iH,it,tM,Z,tF,E,tV,K,tm,tE,V]),tQ=ib?tJ:tq,t0=["selected-image-only","deselected-image-only"].includes(F),t1="selected-image-only"===F,{pinImageCrop:t2}=aN({pinImageCrop:A,resolution:L,surface:V,imageCropStyle:iq?"portrait":void 0}),{cropHeight:t3,cropWidth:t6}=nP(t2),{isOwnBoard:t7}=(0,eb.Z)({pinKey:Z}),{feedbackText:t5,showFeedback:t8}=Z,{title:t9}=t5??{},ne=it&&(!!t8&&!t7||t7&&"Reported"===t9||tl),ni=ne?(0,eq.jsx)(eB.Z,{feedbackType:ts||tl,pinKey:Z}):null,nt=Z.carouselData?oZ:eN.dL,nn=(0,en.useCallback)(()=>()=>iu(!0),[iu]),na=(0,en.useMemo)(()=>({commerce_data:tr,pwa_type:e7,...i}),[tr,e7,i]),no=(0,en.useMemo)(()=>({richTypes:Z.shoppingFlags??[],imageURL:tn.url||"",isPromoted:iV,attributionSourceId:Z.attributionSourceId,link:Z.link,campaignId:Z.campaignId,advertiserId:Z.advertiserId,adDestinationUrl:Z.adDestinationUrl,dcoEventData:{clientCreativeType:iA,ceAltImageSignature:iG},...i9?{adFormatExtraData:JSON.stringify({is_weight_loss_shown_opted_out:!0})}:{},domain:Z.domain,...to?{isNativeVideoAndWatchable:!!to&&!!to.url&&!!to.height&&!!to.width||void 0,videoIdStr:to&&Z.videos?.entityId||void 0}:{},...j}),[Z.shoppingFlags,Z.attributionSourceId,Z.link,Z.campaignId,Z.advertiserId,Z.adDestinationUrl,Z.domain,Z.videos?.entityId,tn.url,iV,iA,iG,i9,to,j]);return(0,eq.jsx)(oA,{excludeFromGridRepTests:!!iL?.excludeFromGridRepTests,children:(0,eq.jsx)(eM.B,{value:tS,children:(0,eq.jsx)(nt,{auxData:ib?na:{commerce_data:tr,pwa_type:e7,...i},carouselData:Z.carouselData?{id:Z.carouselData.entityId,carousel_slots:Z.carouselData.carouselSlots?Z.carouselData.carouselSlots.map(e=>({id:e.itemId||void 0,details:e.details,link:e.link,title:e.title})):void 0,index:Z.carouselData.index??0}:void 0,component:o,duploShouldTrackPinEvents:b,impressionData:ib?no:{richTypes:Z.shoppingFlags??[],imageURL:tn.url||"",isPromoted:iV,attributionSourceId:Z.attributionSourceId,link:Z.link,campaignId:Z.campaignId,advertiserId:Z.advertiserId,adDestinationUrl:Z.adDestinationUrl,dcoEventData:{clientCreativeType:iA,ceAltImageSignature:iG},nearDupSignature:Z.nearDupSig,...i9?{adFormatExtraData:JSON.stringify({is_weight_loss_shown_opted_out:!0})}:{},domain:Z.domain,...to?{isNativeVideoAndWatchable:!!to&&!!to.url&&!!to.height&&!!to.width||void 0,videoIdStr:to&&Z.videos?.entityId||void 0}:{},...j},isPaused:!id,loggingId:Z.entityId,objectIdStr:I,slotIndex:K,trackingParams:ik,viewData:$,viewParameter:Y,viewType:q,children:({impressionTrackerRef:i})=>(0,eq.jsxs)(el.xu,{ref:i,children:[b&&(0,eq.jsx)(oE,{}),(0,eq.jsxs)(el.xu,{"aria-label":e1._('Pin card', 'PinRep.PinRep.PinCardAriaLabel', 'A pin container that includes an image, a description, and action buttons.'),borderStyle:it&&"ConversationView"===V?a:"none","data-test-id":"pin","data-test-pin-id":iZ,"data-test-pin-slot-index":K,marginBottom:2*!e2,onBlur:()=>io?void 0:tD,onFocus:io?void 0:tA,onMouseEnter:io?void 0:tA,onMouseLeave:io?void 0:tD,overflow:it&&"ConversationView"===V?"hidden":"visible",position:"relative",role:"group",rounding:it&&"ConversationView"===V?O:void 0,children:[(0,eq.jsxs)(el.xu,{dangerouslySetInlineStyle:{__style:iS?{display:"grid",gridTemplateColumns:`${es.J}px 1fr`}:{}},"data-test-id":tg?"pin-with-alt-text":"pin-missing-alt-text",marginBottom:iS?4:void 0,children:[(0,eq.jsxs)(el.xu,{"data-test-id":"pinWrapper",height:!m&&t3||void 0,position:"relative",width:!m&&t6||void 0,children:[["selected","deselected"].includes(F)&&(0,eq.jsx)(eE.Z,{selected:"selected"===F}),(0,eq.jsxs)(tY,{...tQ,children:[!!tt&&(0,eq.jsx)(aj,{inviteCode:tt}),t_?(0,eq.jsx)(oj.default,{isPinRep:!0}):(0,eq.jsx)(el.xu,{ref:tB,dangerouslySetInlineStyle:{__style:ip?{WebkitTouchCallout:"none",WebkitUserSelect:"none",MozUserSelect:"none",MsUserSelect:"none",KhtmlUserSelect:"none",UserSelect:"none"}:{}},"data-test-id":tg?"pin-with-alt-text":"pin-missing-alt-text",marginBottom:0,onContextMenu:!ie&&e2&&(Z.nativeCreator||Z.pinner)?e=>{e.stopPropagation(),e.preventDefault(),e6((0,eq.jsx)(ek.Z,{children:(0,eq.jsx)(oI,{desktopContextMenuState:{x:e.clientX,y:e.clientY},onSendButtonClick:()=>null,pinKey:Z})})),(0,eC.My)("pcons.dweb.pin_rep.context_menu.open")}:void 0,padding:tw,children:(0,eq.jsx)(oS,{boardKey:iC,carouselIndex:ix,clientTrackingParams:tP,description:tb&&(!tx||0===Y)?tb.trim():void 0,disableDefaultContextMenu:ib?nn:()=>iu(!0),image:ib?ta:tn&&{dominant_color:tn.dominantColor??void 0,height:tn.height??void 0,url:tn.url??void 0,width:tn.width??void 0},isBoardIdeas:!ie&&(3173===Y||4079===Y||13184===o||15258===o),isHovering:tT,isInDesktopCarousel:!!k,isPromotedPin:iV,isSquarePin:m,lazyLoadImage:g,onError:te,oneTapSave:_,onLoad:ti,onPinLinkClick:h?.onPinLinkClick,pinImageCrop:A,pinKey:Z,priorityFetchImage:x,resolution:L,setCarouselIndex:iv,setIsLongPressEnabledForAuth:im,slotIndex:K,srcSet:tn.srcSet??void 0,surface:V,title:tx&&0!==Y?void 0:tv,type:R,unauthSaveUpsellEnabled:iX,unauthSaveUpsellGroup:iJ,viewParameter:Y,viewType:q})})]}),e2&&Q&&Z&&(0,eq.jsx)(oT,{pinKey:Z,pinType:J,renderHiddenly:!0,shouldShowNewfields:ee}),t0&&(0,eq.jsx)(eO.Z,{isSelected:t1,surface:V}),(0,eq.jsx)(av,{clientTrackingParams:tP,componentType:o,derivedSaveButtonOptions:tj,duploFeedItemProps:h,feedbackData:P?.data,feedbackType:ts,handleCarouselSwipe:iv,hideContextMenu:et,hideEditButton:eG,hideSendButton:eo,isInDesktopCarousel:k,itemVisibility:tR,onCollagePinRepClick:T,parentPinKey:B,pinKey:Z,pinOwner:D,renderPinSaveTooltip:z,seoDrawerPinType:J,setForcePrimary:tC,shouldShowSeoDrawerNewfields:ee,shouldShowSeoDrawerOption:Q,surface:V,trafficSource:W,unauthSaveUpsellEnabled:e2&&iX,viewParameter:Y})]}),iY&&(0,eq.jsx)(el.xu,{dangerouslySetInlineStyle:{__style:{marginTop:1}},onMouseEnter:io?void 0:tD,onMouseLeave:io?void 0:tA,children:(0,eq.jsx)(eR.Z,{isMobile:!e2,pinKey:Z})}),!l&&(0,eq.jsx)(ep.Z,{id:"PinFooter",children:(0,eq.jsx)(nb,{attributionOption:e,blockClickEvents:t,carouselIndex:ix,clientTrackingParams:tP,componentType:o,dedupeVisualAnnotations:p,deepLinkProps:ty??null,disableReaction:s,enableCollectionChips:iW,feedback:P,feedbackType:ts,hideContextMenu:et,hideFavoriteButton:e$,imageOnlyOption:S,imageUrl:i8,isConversationPin:c,isInFullWidthStory:C,isLongPressEnabledForAuth:ih,isSquarePin:m,maybeDeepLinkProps:tQ,pinCardDetailsMargin:f,pinKey:Z,productTagParentPinId:E,seoDrawerPinType:J,setForcePrimary:tC,setIsLongPressEnabledForAuth:im,shouldAllowProductPriceIndicator:v,shouldShowSeoDrawerNewfields:ee,shouldShowSeoDrawerOption:Q,showSeoMetadata:h?.showSeoMetadata,showVaseAnnotationsProp:ei,showVisitSiteButton:G,surface:V,trackingParams:ik,trafficSource:W,userAvatarImageUrl:X,viewData:$,viewParameter:Y,viewType:q})})]}),ni,"reported"===tl?(0,eq.jsx)(eQ,{color:Z.dominantColor??"",getFeedbackText:()=>({title:e1._('Reported', 'message displayed after reporting a pin', 'message displayed after reporting a pin'),subTitle:e1._('Thanks! Your feedback helps us keep the Pinterest community safe.', 'message displayed after reporting a pin', 'message displayed after reporting a pin')}),pinId:iZ,showing:!0}):(0,eq.jsx)(eQ,{color:Z.dominantColor??"",getFeedbackText:()=>tc({genAiTopicName:"hiddenForGenAI"===tl?Z.genAiTopics?.[0]?.name:void 0,makeNavigateLink:()=>""}),hiddenForGenAI:"hiddenForGenAI"===tl,hideForWeightLossAds:"hiddenForWeightLoss"===tl,margin:tw,onUndoGenAiHide:()=>(0,ex.EF)({gen_ai_topic_ids:Z.genAiTopics?.[0]?.interestIdStr?[Z.genAiTopics?.[0]?.interestIdStr]:void 0},"genAi",q,Y,()=>is({pinId:iZ,pinFeedbackStatus:""}),eX)?.(),onUnfollow:()=>is({pinId:iZ,pinFeedbackStatus:"unfollowed"}),pinId:iZ,showing:!!tl&&!ne,unfollowed:"unfollowed"===tl,viewParameter:Y,viewType:q}),iT&&Z.debug&&(0,eq.jsx)(eI.W,{data:Z.debug})]})]})})})})}function oL(e){(0,en.useEffect)(()=>{(0,et.Z)("PinRep","/app/www/PinRep.tsx")},[]);let i=(0,e_.Z)(oR,e.parentPinKey),t=(0,e_.Z)(oD,e.pinKey),n=iD(t),{shouldWrapOnProfiler:a}=e;return a?(0,eq.jsx)(ep.Z,{id:`PinRep.pinType.${n}`,children:(0,eq.jsx)(oz,{...e,parentPin:i,pin:t,pinRepDataType:n})}):(0,eq.jsx)(oz,{...e,parentPin:i,pin:t,pinRepDataType:n})}},536458:function(e,i,t){t.d(i,{Z:()=>n});function n({surface:e,showShoppingAffordances:i}){if(!e)return!1;let t=["AutomagicalBoard","BoardShoppingModule","FeaturedBoardPinGrid","ProductOnlySearchItem","ProductTaggingSearchResult","ShoppingCatalogsProductsMetadata","ShoppingCarousel","ShoppingDynamicHeightGrid","ShoppingSquareGridDomain","ShoppingSquareGridDomainNoMetadata","ShoppingGridShippedMetadata","ShoppingGridShippedMetadataWithVisitButton","ShoppingGridSmall","ShoppingGridSmallCarousel","ShoppingModule","ShoppingTool","ProductPinRetrieval","VisualInspirationShoppingPin","SearchAdsOnlyModule","ShoppingKLPFeed"];return i&&t.push("BaseBoardPinGrid"),t.includes(e)}},572321:function(e,i,t){t.d(i,{Z:()=>n});let n=({trafficSource:e,componentType:i,isShoppingContentSurface:t})=>"shop_feed"===e||14339===i||t},632719:function(e,i,t){t.d(i,{t:()=>l,y:()=>r}),t(167912);var n,a=t(183e3);let o=(void 0!==n||(n=t(449278)).hash&&"686c18c432081822b1a5c962ce256630"!==n.hash&&console.error("The definition of 'useShowAttributions_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),r=e=>{let i=(0,a.Z)(o,e),t=!!i.sponsorship,n=!!(i.promoter&&!i.isDownstreamPromotion),r=n&&i.promoter?.entityId===i.nativeCreator?.entityId;return{isSponsoredPin:t,isPromotedPin:n,isPromotedByPinCreator:r}},l=({showCredits:e=!1,isSponsoredPin:i=!1,showPinMetadata:t=!0,isCreatorVerified:n=!1,isPromotedByPinCreator:a=!1})=>{let o=i||a;return e?n||o:n&&(t||o)}},203842:function(e,i,t){t.d(i,{Z:()=>r});var n=t(27399),a=t(2061),o=t(33285);function r({checkExperiment:e,navigate:i,i18n:r,logContextEvent:l,onSuccess:s,originalPinId:d,pinId:c,trackingParams:p,disableRepinAnimation:u,showNewUserSavetoProfileAnimation:h,showRepinConfirmation:m,historyPush:g,savePinId:_,eventContext:f=null}){return(x,y)=>{let{pins:v,session:b}=y(),{userId:P}=b,w=v[c],S=r._('Quick Saves', 'quickSave.boardName', 'Name of the auto-created board in quicksave experience.');return n.Z.create("BoardResource",{name:S,layout:"quick_saves",protected:!1,return_existing:!0,user_id:P}).callCreate().then(async n=>{let y=n.resource_response.data;(0,a.ib)({checkExperiment:e,isAuthMweb:b.isAuthenticated&&(b.isMobile||b.isTablet)});let{default:v}=await t.e("39321").then(t.bind(t,250968));return new v({boardId:y.id,dispatch:x,isQuickSave:!0,navigate:i,i18n:r,onSuccess:s,originalPinId:d,pinId:c,section:void 0,showNewUserSavetoProfileAnimation:h,showRepinToasts:e=>m?m(e,u):void 0,trackingParams:p,userId:b.userId,historyPush:g,savePinId:_,eventContext:f,pinData:{trackingParams:w?w.tracking_params:void 0,viewParameter:w?(0,o.A)({hasRichMetadata:!!w.rich_metadata,hasRichMetadataProducts:!!w.rich_metadata?.products,hasRichMetadataArticle:!!w.rich_metadata?.article,hasRichMetadataRecipe:!!w.rich_metadata?.recipe}):void 0,pinnedToBoardId:w?w.pinned_to_board?.id:void 0}}).processRepin(l)})}}},845805:function(e,i,t){t.d(i,{Z:()=>r});var n=t(935059),a=t(501010);function o(e,i){return e.some(e=>e.includes(i))}function r({dangerouslySkipActivation:e=!1}={}){let i=(0,n.Z)(),t=i.isAuth&&i.pinCount||0,l=i.isAuth&&0===i.boardCount&&0===t,{newUserGroup:s,resUserGroup:d}=function(e){let{checkExperiment:i}=(0,a.Z)(),t={dangerouslySkipActivation:e};return{newUserGroup:i("dweb_new_user_limit_quick_save",t).group,resUserGroup:i("dweb_res_user_limit_quick_save",t).group}}(e||!l),c=[s,d],p=o(c,"4")?4:3,u=o(c,"enabled");return{shouldAllowSaveToProfile:u,shouldSeePinBetterSave:u&&t>=p,shouldUseProfileAsDefaultBoardName:u,showSelectTextOnBoardSelectionDisplay:u}}},926960:function(e,i,t){t.d(i,{Z:()=>p});var n,a=t(667294);t(167912);var o=t(183e3),r=t(124631),l=t(923298),s=t(739405),d=t(763750);let c=(void 0!==n||(n=t(249539)).hash&&"5c2ec952ba555bd58d78ac6e2723678a"!==n.hash&&console.error("The definition of 'useUnauthSaveUpsell_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),p=e=>{let i=(0,l.Z)(),t=(0,s.ml)(),n=(0,o.Z)(c,e),p={"236x":n?.imageSpec_236x?.url??""},u=(0,r.Z)({imagesUrls:p,embedSrc:n?.embed?.src,embedType:n?.embed?.type,preferredResolution:"236x",excludeOriginals:!0}),h=(0,d.Z)({embedSrc:n?.embed?.src,embedType:n?.embed?.type,imagesUrls:p,pinId:n.entityId,nodeId:n.nodeId,attributionLabel:"unauth_save_upsell_mweb_third"});return{openSaveUpsellModal:(0,a.useCallback)(()=>{i({reason:"ACTION_REQUIRES_LOGIN_OR_SIGNUP",attributionLabel:t?"unauth_save_upsell_mweb_immediate":"unauth_save_upsell_dweb",mobileOptions:{headingType:"save"},desktopOptions:{modalType:"signup",modalOptions:{source:"saveButtonExp",container:"save"}},pinId:n.entityId,savePinImageUrl:u})},[n.entityId,i,u,t]),boardUpsellSaveConfig:h}}},380202:function(e,i,t){t.d(i,{Z:()=>a});var n=t(568710);function a(e){return n.zl.includes(e??"")||["ShoppingSquareGridDomainNoMetadata","ShoppingDynamicHeightGrid","SearchAdsOnlyModule","ProductTaggingSearchResult"].includes(e??"")?"transparent":"dominant"}},684570:function(e,i,t){t.d(i,{Z:()=>n});function n({isDesktop:e}){return+!e}},288646:function(e,i,t){t.d(i,{Z:()=>s}),t(167912);var n,a=t(183e3),o=t(24246);let r=(void 0!==n||(n=t(956250)).hash&&"012286a003cfedf8c1e89082b9ad6ee5"!==n.hash&&console.error("The definition of 'useGetCredits_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),l=e=>e&&e.includes("/user/default")?void 0:e;function s(e){let i=(0,o.Z)(),t=(0,a.Z)(r,e),n=({user:e,linkToBoard:i})=>({link:i&&t?t.board?.url||`/pin/${t.entityId}/`:e?.username&&`/${e.username}/`||"",avatar:l(e?.imageMediumUrl)||l(e?.imageSmallUrl)});if(!t)return null;let s=t.nativeCreator?.isVerifiedMerchant||t.nativeCreator?.verifiedIdentity?.verified;return t.promoter&&!t.isDownstreamPromotion?t.sponsorship&&t.promoter?.entityId!==t.nativeCreator?.entityId?{title:t.nativeCreator?.fullName,subtitle:t.promoter?.fullName,isVerifed:s,...n({user:t.nativeCreator})}:{title:i._('Promoted by', 'Grid pin annotation', 'Grid pin annotation'),subtitle:t.promoter?.fullName,...n({user:t.promoter})}:t.sponsorship?.creator?{title:t.nativeCreator?.fullName,subtitle:t.sponsorship.sponsor?.fullName,...n({user:t.nativeCreator})}:t.isEligibleForPdp?void 0:t.gridAttribution?{title:t.gridAttribution.fullName,subtitle:"",isVerifed:!!t.gridAttribution.isVerifiedMerchant||!!t.gridAttribution.verifiedIdentity?.verified,...n({user:t.gridAttribution})}:void 0}},269464:function(e,i,t){t.d(i,{U:()=>p,Z:()=>u});var n,a=t(667294);t(167912);var o=t(183e3),r=t(331506),l=t(501010),s=t(774838),d=t(739405);let c=(void 0!==n||(n=t(180613)).hash&&"7b691b726fca3d306852929ac2d4d9af"!==n.hash&&console.error("The definition of 'useGetPinRepTitleAndDescription_pin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n);function p({carouselIndex:e,carouselSlots:i,gridTitle:t,haveCarouselData:n,pinDescription:a,richSummaryDisplayName:o}){let r,{checkExperiment:c}=(0,l.Z)(),[p,u]="string"==typeof t?[t,""]:[o,a],{isAuthenticated:h}=(0,s.B)(),m=(0,d.HG)();return(h&&m||c("ads_show_carousel_on_mweb").anyEnabled||!h&&m&&n&&c("unauth_dweb_show_carousel").anyEnabled||!h&&!m&&n&&c("unauth_mweb_show_carousel").anyEnabled)&&n&&i&&((r=i[e]).title&&(p=r.title),r.details&&(u=r.details)),{title:p,description:u}}function u({carouselIndex:e,pinKey:i,useFallback:t}){let{isAuthenticated:n}=(0,s.B)(),l=(0,o.Z)(c,i),{carouselData:d,description:u,gridTitle:h,richSummary:m,unauthOnGridTitle:g,unauthOnPageDescription:_}=l,{title:f,description:x}=p({haveCarouselData:!!d,carouselIndex:e,carouselSlots:d?.carouselSlots,pinDescription:u,gridTitle:h,richSummaryDisplayName:m?.displayName}),y=(0,r.Ly)({pinTitle:l?.title,gridTitle:l?.gridTitle,richSummaryDisplayName:l?.richSummary?.displayName,richMetadataTitle:l?.richMetadata?.title,storyPinDataId:l?.storyPinData?.entityId,storyPinDataMetadataPinTitle:l?.storyPinData?.metadata?.pinTitle,pinJoinVisualAnnotation:l?.pinJoin?.visualAnnotation}),v=n?f:g,b=n?x:_;return(0,a.useMemo)(()=>({title:v||(t?y:null),description:b}),[b,y,t,v])}},569905:function(e,i,t){t.d(i,{Z:()=>_});var n=t(686659),a=t(667294),o=t(740097),r=t(24246),l=t(720459),s=t(216975),d=t(774838),c=t(785893);let p=({bracket:e,count:i,countFormat:t,countType:p,marginStart:u,textSize:h,underline:m,unauthPdp:g})=>{(0,a.useEffect)(()=>{(0,n.Z)("RatingCountText","/app/www/ProductStarRatings/RatingCountText.tsx")},[]);let{locale:_}=(0,d.B)(),f=(0,r.Z)(),x=(0,l.Z)();if(null==i)return null;let y=x(_,i,{shortform:!0,shortform_maximum_fraction_digits:1});if("text"===t){let e="review"===p?f.ngettext('{{ count }} review', '{{ count }} reviews', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total reviews count'):f.ngettext('{{ count }} rating', '{{ count }} ratings', i, 'webapp.app.www-unified.productStarRatings.RatingCountText', 'count: total ratings count');y=(0,s.nk)(e,{count:i}).join("")}return e&&(y=`(${y})`),(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{borderBottom:m?"1px solid gray":"none"}},marginStart:u,children:(0,c.jsx)(o.xv,{color:m?"subtle":"default",size:h,underline:m,children:(0,c.jsx)(o.xu,{"data-test-id":"ratings-count-text",display:"inlineBlock",children:g?`(${y})`:y})})})};var u=t(674774),h=t(132781);let m=({rating:e,textSize:i,type:t})=>{if((0,a.useEffect)(()=>{(0,n.Z)("Stars","/app/www/ProductStarRatings/Stars.tsx")},[]),"single"===t){let t=e?parseFloat(e):NaN;return Number.isNaN(t)?null:(0,c.jsxs)(o.kC,{alignItems:"center",children:[(0,c.jsx)(h.A,{fill:"full"}),(0,c.jsx)(o.xv,{size:i,children:t.toFixed(1)})]})}return(0,c.jsx)(h.Z,{display:"flex",rating:e})},g=()=>(0,c.jsx)(o.xu,{dangerouslySetInlineStyle:{__style:{backgroundColor:"#e0e0e0",margin:"012px"}},height:16,width:1});function _({bracket:e,count:i,countFormat:t,countType:r,rating:l,textSize:s,underline:d,unauthPdp:h,variant:_="horizontal"}){return((0,a.useEffect)(()=>{(0,n.Z)("ProductStarRatings","/app/www/ProductStarRatings/ProductStarRatings.tsx")},[]),(0,u.Z)({count:i,rating:l}))?(0,c.jsxs)(o.kC,{alignItems:"center",justifyContent:"start",children:["vertical"===_?(0,c.jsxs)(a.Fragment,{children:[(0,c.jsx)(g,{}),(0,c.jsx)(m,{rating:l,textSize:s,type:"single"}),(0,c.jsx)(g,{})]}):(0,c.jsx)(m,{rating:l,textSize:s,type:"multiple"}),(0,c.jsx)(p,{bracket:e,count:i,countFormat:t,countType:r,textSize:s,unauthPdp:h,underline:d})]}):null}},674774:function(e,i,t){t.d(i,{Z:()=>n});function n({count:e,rating:i}){return!!(i&&"None"!==i&&Number.isFinite(e))}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/32565-53af67ec4eed4385.mjs.map