(self.modernJsonp=self.modernJsonp||[]).push([["61458"],{108679:function(e,t,n){var i=n(121296),r={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},a={};function l(e){return i.isMemo(e)?o:a[e.$$typeof]||r}a[i.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a[i.Memo]=o;var d=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,h=Object.prototype;e.exports=function e(t,n,i){if("string"!=typeof n){if(h){var r=m(n);r&&r!==h&&e(t,r,i)}var o=c(n);u&&(o=o.concat(u(n)));for(var a=l(t),f=l(n),_=0;_<o.length;++_){var x=o[_];if(!s[x]&&!(i&&i[x])&&!(f&&f[x])&&!(a&&a[x])){var g=p(n,x);try{d(t,x,g)}catch(e){}}}}return t}},396103:function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&Symbol.for,i=n?Symbol.for("react.element"):60103,r=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,a=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,d=n?Symbol.for("react.context"):60110,c=n?Symbol.for("react.async_mode"):60111,u=n?Symbol.for("react.concurrent_mode"):60111,p=n?Symbol.for("react.forward_ref"):60112,m=n?Symbol.for("react.suspense"):60113,h=n?Symbol.for("react.memo"):60115,f=n?Symbol.for("react.lazy"):60116;function _(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case c:case u:case s:case a:case o:case m:return e;default:switch(e=e&&e.$$typeof){case d:case p:case l:return e;default:return t}}case f:case h:case r:return t}}}function x(e){return _(e)===u}t.typeOf=_,t.AsyncMode=c,t.ConcurrentMode=u,t.ContextConsumer=d,t.ContextProvider=l,t.Element=i,t.ForwardRef=p,t.Fragment=s,t.Lazy=f,t.Memo=h,t.Portal=r,t.Profiler=a,t.StrictMode=o,t.Suspense=m,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===s||e===u||e===a||e===o||e===m||"object"==typeof e&&null!==e&&(e.$$typeof===f||e.$$typeof===h||e.$$typeof===l||e.$$typeof===d||e.$$typeof===p)},t.isAsyncMode=function(e){return x(e)||_(e)===c},t.isConcurrentMode=x,t.isContextConsumer=function(e){return _(e)===d},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return _(e)===p},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===f},t.isMemo=function(e){return _(e)===h},t.isPortal=function(e){return _(e)===r},t.isProfiler=function(e){return _(e)===a},t.isStrictMode=function(e){return _(e)===o},t.isSuspense=function(e){return _(e)===m}},121296:function(e,t,n){e.exports=n(396103)},892703:function(e,t,n){var i=n(150414);function r(){}e.exports=function(){function e(e,t,n,r,s,o){if(o!==i){var a=Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t};return n.checkPropTypes=r,n.PropTypes=n,n}},45697:function(e,t,n){e.exports=n(892703)()},150414:function(e){e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},869921:function(e,t){var n="function"==typeof Symbol&&Symbol.for;n&&Symbol.for("react.element"),n&&Symbol.for("react.portal"),n&&Symbol.for("react.fragment"),n&&Symbol.for("react.strict_mode"),n&&Symbol.for("react.profiler"),n&&Symbol.for("react.provider"),n&&Symbol.for("react.context"),n&&Symbol.for("react.async_mode"),n&&Symbol.for("react.concurrent_mode"),n&&Symbol.for("react.forward_ref"),n&&Symbol.for("react.suspense"),n&&Symbol.for("react.suspense_list"),n&&Symbol.for("react.memo"),n&&Symbol.for("react.lazy"),n&&Symbol.for("react.block"),n&&Symbol.for("react.fundamental"),n&&Symbol.for("react.responder"),n&&Symbol.for("react.scope")},659864:function(e,t,n){n(869921)},78273:function(e,t,n){function i(e){return"/"===e.charAt(0)}function r(e,t){for(var n=t,i=n+1,r=e.length;i<r;n+=1,i+=1)e[n]=e[i];e.pop()}n.d(t,{Z:()=>s});let s=function(e,t){void 0===t&&(t="");var n,s=e&&e.split("/")||[],o=t&&t.split("/")||[],a=e&&i(e),l=t&&i(t),d=a||l;if(e&&i(e)?o=s:s.length&&(o.pop(),o=o.concat(s)),!o.length)return"/";if(o.length){var c=o[o.length-1];n="."===c||".."===c||""===c}else n=!1;for(var u=0,p=o.length;p>=0;p--){var m=o[p];"."===m?r(o,p):".."===m?(r(o,p),u++):u&&(r(o,p),u--)}if(!d)for(;u--;)o.unshift("..");!d||""===o[0]||o[0]&&i(o[0])||o.unshift("");var h=o.join("/");return n&&"/"!==h.substr(-1)&&(h+="/"),h}},894870:function(e,t,n){n.d(t,{q:()=>p});var i=n(667294),r=n(581722),s=n(312048),o=n(322830),a=n(935059),l=n(575820),d=n(966039),c=n(179664),u=n(513504);let p=()=>{let e=(0,s.TH)(),t=(0,a.Z)(),n=(0,r.I0)(),{getNuxSignals:p,selectedUseCases:m,selectedPins:h,shouldUseNewReducerState:f}=(0,c.u)(),_=f?p():(0,d.rQ)(m,h);return(0,i.useCallback)(()=>{let i=t.isAuth&&t.firstHomeFeedRequestAfterNux,r=(0,o.Z)({viewerIsPartner:t.isAuth&&t.isPartner,inNux:(i&&n((0,u.H5)(!1)),i),staticFeed:!!(e&&(e.pathname.includes("pwt_performance_testing")||void 0!==(0,l.mB)(e.search).pwt_performance_testing)),inNewsHub:e?.pathname.includes("news_hub")??!1});return{name:"UserHomefeedResource",options:_.length>0?{...r,nux_signals_map:_}:r}},[n,t,e,_])}},599263:function(e,t,n){n.d(t,{Z:()=>i});let i=64},947862:function(e,t,n){n.d(t,{P:()=>a,Z:()=>l});var i=n(312048),r=n(15881),s=n(418282);let o=["/","/homefeed/"];function a(){let e=(0,s.Nl)().getItem(r.Qt);return e&&"object"==typeof e&&"time"in e&&"scrollPosition"in e?e:null}function l(){let{pathname:e}=(0,i.TH)(),t=(0,i.ur)();if(o.includes(e)&&"POP"!==t){let e=a(),t=e?.time?Date.now()-e.time:0;return{shouldMaintainHomefeed:t>0&&t/6e4<2.5,lastHFScrollPosition:e?.scrollPosition}}return{shouldMaintainHomefeed:!1}}},322830:function(e,t,n){n.d(t,{Z:()=>i});let i=({inNux:e,inNewsHub:t,staticFeed:n,viewerIsPartner:i})=>({field_set_key:i?"hf_grid_partner":"hf_grid",in_nux:e,in_news_hub:t,static_feed:n})},332995:function(e,t,n){n.d(t,{Z:()=>l});var i=n(686659),r=n(667294),s=n(753806),o=n(785893);let a=(0,r.lazy)(()=>n.e("52470").then(n.bind(n,882474))),l=({placementId:e})=>((0,r.useEffect)(()=>{(0,i.Z)("ExperienceCompromisedAccount","/app/common/react/components/experiences/ExperienceCompromisedAccount/ExperienceCompromisedAccount.tsx")},[]),(0,o.jsx)(s.a3,{eligibleIds:[500818],placementId:e,children:({complete:e,dismiss:t})=>(0,o.jsx)(r.Suspense,{children:(0,o.jsx)(a,{onComplete:e,onDismiss:t})})}))},272598:function(e,t,n){n.d(t,{Z:()=>E});var i=n(686659),r=n(667294),s=n(740097),o=n(505633),a=n(753806),l=n(581909),d=n(916559),c=n(465784),u=n(986475),p=n(640200),m=n(721703),h=n(9065),f=n(785893);let _=(0,h.Z)(()=>n.e("88929").then(n.bind(n,607571)),{ssr:!1},e=>607571,void 0,void 0),x=(0,h.Z)(()=>n.e("33629").then(n.bind(n,282842)),{ssr:!1},e=>282842,void 0,void 0),g=(0,h.Z)(()=>Promise.all([n.e("6608"),n.e("74374")]).then(n.bind(n,568432)),{ssr:!1},e=>568432,void 0,void 0),y=(0,h.Z)(()=>n.e("12026").then(n.bind(n,788635)),{ssr:!1},e=>788635,void 0,void 0),b=(0,h.Z)(()=>Promise.all([n.e("15417"),n.e("51296"),n.e("67152"),n.e("51640")]).then(n.bind(n,50415)),{ssr:!1},e=>50415,void 0,void 0),v=(0,h.Z)(()=>n.e("3256").then(n.bind(n,126963)),{ssr:!1},e=>126963,void 0,void 0),w=(0,h.Z)(()=>n.e("1295").then(n.bind(n,826241)),{ssr:!1},e=>826241,void 0,void 0),P=(0,h.Z)(()=>n.e("29376").then(n.bind(n,708459)),{ssr:!1},e=>708459,void 0,void 0),S=(0,h.Z)(()=>n.e("28234").then(n.bind(n,182112)),{ssr:!1},e=>182112,void 0,void 0),j=[505420,505933,506173,506124,506436],C=({complete:e,dismiss:t,experience:n,placementId:i})=>{let{experience_id:r,display_data:a}=n,d=function(e){switch(e){case 504721:return w;case 504569:return v;case 504032:return P;case 502271:return x;case 505093:return S;default:return _}}(r),h=function(e){switch(e){case 504721:return 660;case 500331:return"md";default:return"sm"}}(r),{setObserverRef:C}=(0,l.NQ)();return(0,f.jsxs)(s.xu,{ref:C,children:[!j.includes(r)&&(0,f.jsx)(c.ZP,{accessibilityModalLabel:"",onDismiss:t,size:h,children:(0,f.jsx)(d,{...(0,u.Z)(p.Z)(a),experienceId:r,handleComplete:e,handleDismiss:t,placementId:i})}),506124===r&&(0,f.jsx)(g,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!0,...(0,u.Z)(p.Z)(a)}),(506173===r||506436===r)&&(0,f.jsx)(g,{handleComplete:e,handleDismiss:t,isDesktop:!0,isGooglePrimary:!1,...(0,u.Z)(p.Z)(a)}),505420===r&&(0,f.jsx)(b,{experienceId:505420,onSubmitSurvey:async()=>{(0,o.Z)((0,m.Z)({site:"www",path:"/business/marketing-plan"}))},placementId:i,viewType:251}),505933===r&&(0,f.jsx)(y,{handleComplete:()=>{e(),(0,o.Z)((0,m.Z)({site:"sterling",path:"/reporting/"}))},handleDismiss:t,onAdsReportingSurface:!1})]})};function E({placementId:e}){(0,r.useEffect)(()=>{(0,i.Z)("ExperienceModal","/app/common/react/components/experiences/ExperienceModal/ExperienceModal.tsx")},[]);let{enableExperienceSession:t,endOnSurfaceChange:n}=(0,d.Z)(e);return(0,f.jsx)(r.Fragment,{children:(0,f.jsx)(a.a3,{customExperienceSession:!0,eligibleIds:[501312,500331,502271,504032,504569,504721,505093,505420,505933,506173,506124,506436],enableExperienceSession:t,placementId:e,sessionEndOnSurfaceChange:n,children:({complete:t,dismiss:n,experience:i})=>(0,f.jsx)(C,{complete:t,dismiss:n,experience:i,placementId:e})})})}},671121:function(e,t,n){n.d(t,{Z:()=>r});var i=n(27399);async function r(e,t){let n=async()=>{let e={name:t._('Quick Saves', 'quickSave.defaultBoardName', 'Name of the auto-created board for quicksave experience saves.'),layout:"quick_saves",privacy:"public",return_existing:!0,aux_data:{source:"unauth_quick_save"}};return i.Z.create("BoardResource",e).callCreate()},{resource_response:{data:r}}=await n(),s=async t=>i.Z.create("RepinResource",{board_id:t,description:e.description||"",is_removable:e.promotedIsRemovable??void 0,link:e.link,pin_id:e.entityId||"",title:e.title||""}).callCreate({showError:!1});return await s(r.id),r}},945419:function(e,t,n){n.d(t,{$H:()=>r,AG:()=>o,M5:()=>a,W5:()=>l,_Y:()=>s,mH:()=>d});var i=n(740097);let r=16,s=137,o=103,a="rgba(17,17,17,0.4)",l=new i.Ry(1),d=()=>5},59355:function(e,t,n){n.d(t,{Q:()=>l,Z:()=>d});var i=n(667294),r=n(104999),s=n(746868),o=n(730056),a=n(774838);function l(e,t){let{setViewContextData:n}=(0,s.A$)(),{requestIdentifier:l}=(0,a.B)(),d=(0,r.Z)(),{viewData:c}=(0,s.SU)();(0,i.useEffect)(()=>{e&&(n({viewType:e.view_type??1,viewParameter:e.view_parameter,viewData:e.view_data?(0,o.Z)(c,e.view_data):c,component:e.component,element:e.element,objectIdStr:e.object_id_str,auxData:e.aux_data,clientTrackingParams:e.clientTrackingParams}),d({...e,event_type:13,request_identifier:l}))},[t])}function d(e){let{children:t,log:n}=e;return l(n),t||null}},501010:function(e,t,n){n.d(t,{Z:()=>r});var i=n(774838);let r=()=>(0,i.Ts)().experimentsClient},774838:function(e,t,n){n.d(t,{B:()=>s,P2:()=>a,Ts:()=>r,gf:()=>o});let i=n(969634),{getRequestContext:r}=i,{useRequestContext:s}=i,{useUpdateRequestContext:o}=i,{RequestContextProvider:a}=i},969634:function(e,t,n){n.r(t),n.d(t,{RequestContextProvider:()=>d,getRequestContext:()=>l,useRequestContext:()=>c,useUpdateRequestContext:()=>u});var i=n(667294),r=n(659541),s=n(907049),o=n(785893);let a=(0,i.createContext)(null);function l(){return(0,i.use)(a).requestContextState}function d({children:e,initialValue:t}){let[n,l]=(0,i.useState)(t),d=(0,i.useMemo)(()=>({requestContextState:n,updateRequestContext:e=>{let t={...n,...e};(0,s.Z)(n,e)||l(t),(0,r.J)(t)}}),[n]);return(0,o.jsx)(a,{value:d,children:e})}function c(){let e=(0,i.useContext)(a);if(!e)throw Error("useRequestContext must be used within a RequestContextProvider");return e.requestContextState}function u(){let e=(0,i.useContext)(a);if(!e)throw Error("useUpdateRequestContext must be used within a RequestContextProvider");return e.updateRequestContext}},907049:function(e,t,n){function i(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;let n=Object.keys(e),i=Object.keys(t);return n.length===i.length&&n.every(n=>e[n]===t[n])}n.d(t,{Z:()=>i})},271875:function(e,t,n){n.d(t,{Z:()=>s,k:()=>i});let{Provider:i,get:r}=(0,n(213491).Z)("Conversations"),s=r},178131:function(e,t,n){n.d(t,{Z:()=>l});var i=n(230201),r=n(767415);let s={13:e=>!!e.view_parameter,9105:e=>!!e.view_parameter,9104:e=>!!e.view_parameter,10357:e=>!!e.view_parameter,10358:e=>!!e.view_parameter,10359:e=>!!e.view_parameter,10360:e=>!!e.view_parameter,15748:e=>!!e.view_parameter,110:e=>!!e.view_parameter,16248:e=>!!e.view_parameter,16677:e=>!!e.view_parameter,10484:e=>!!e.view_parameter,16678:e=>!!e.view_parameter,102:e=>!!e.element&&!!e.view_parameter,101:e=>!!e.element&&!!e.view_parameter,15749:e=>!!e.element&&!!e.view_parameter,8721:e=>!!e.element&&!!e.view_parameter,8722:e=>!!e.element&&!!e.view_parameter,120:e=>!!e.element&&!!e.view_parameter,4104:e=>!!e.view_parameter&&!e.element,4105:e=>!!e.view_parameter&&!e.element,8900:e=>!!e.view_parameter&&!e.element,16480:e=>!!e.view_parameter&&!e.element,9626:e=>!!e.view_parameter&&!e.element,9625:e=>!!e.view_parameter&&!e.element,46:e=>!!e.view_parameter&&!e.element,45:e=>!!e.view_parameter&&!e.element},o=[96,34,241,1030,1151,1150,136,11906,124,240,12772,30,13,15950,14572,14573,14574,14575,14576,15900,43],a=[259,3120,3139,172,3596,3542,261,171,260,4052,4053],l=()=>{let{logContextEvent:e}=(0,i.u)();return t=>{let{event_type:n,element:i,view_parameter:l,component:d,view_type:c,aux_data:u,object_id_str:p}=t,m=(e=>{let{event_type:t,element:n,view_parameter:i}=e;return Object.keys(s).includes(`${t}`)&&(!n||o.includes(n))&&(!i||a.includes(i))?s[t]?.(e)?-1===[213,24,260].indexOf(e.view_type||0)?{code:"missing_view_type",message:"Please provide a valid ViewType for Nux Events."}:null:{code:"invalid_param_combinations",message:"Please provide valid param combinations for Nux events. Refer to NuxParams type."}:{code:"invalid_param_types",message:"Please provide valid parameter types for Nux events. Refer to NuxParams type."}})(t);if(m){console.error(m.message),(0,r.nP)("webapp.track_nux_invalid_parameters",{sampleRate:1,tags:{code:m.code,component:d,event_type:n,element:i,view_type:c,view_parameter:l}});return}e({component:d,event_type:n,element:i,view_parameter:l,view_type:c,aux_data:u,object_id_str:p})}}},404305:function(e,t,n){n.d(t,{Z:()=>tn});var i=n(667294),r=n(312048),s=n(740097),o=n(686659),a=n(581722),l=n(894870),d=n(891305),c=n(599263),u=n(2171),p=n(947862),m=n(45350),h=n(945419),f=n(671121),_=n(4533),x=n(15881),g=n(939559),y=n(375181),b=n(470205),v=n(753806),w=n(581909),P=n(926743),S=n(261954),j=n(539679),C=n(924591),E=n(935059),Z=n(806513),I=n(400962),T=n(24246),A=n(433069),k=n(59111),R=n(216975),O=n(149238),B=n(31725),D=n(572840),N=n(325705),F=n(501010),H=n(504644),z=n(906127),L=n(774838),U=n(661376),M=n(825605),W=n(34550),q=n(418282),$=n(730448),Y=n(112658),G=n(736328),Q=n(732012),V=n(577356),J=n(575820),X=n(893957),K=n(309266),ee=n(31863),et=n(919203),en=n(49254),ei=n(726425),er=n(818906),es=n(277455),eo=n(285676),ea=n(241028),el=n(604100),ed=n(228612),ec=n(645479),eu=n(496516),ep=n(767415),em=n(354139),eh=n(177433),ef=n(9065),e_=n(785893);function ex(e,t,n){var i;return(t="symbol"==typeof(i=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=typeof i)return i;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"))?i:i+"")in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}let eg=(0,ef.Z)(()=>n.e("63815").then(n.bind(n,870068)),void 0,e=>870068,"MoreIdeasTabsNavCommon",e=>["63815"]),ey=(0,ef.Z)(()=>n.e("58580").then(n.bind(n,604404)),{ssr:!1},e=>604404,void 0,void 0),eb=(0,ef.Z)(()=>n.e("33689").then(n.bind(n,419450)),{ssr:!1},e=>419450,void 0,void 0),ev=(0,ef.Z)(()=>Promise.all([n.e("74924"),n.e("77153")]).then(n.bind(n,179007)),{ssr:!1},e=>179007,void 0,void 0),ew=(0,ef.Z)(()=>n.e("48205").then(n.bind(n,538049)),{ssr:!1},e=>538049,void 0,void 0),eP=(0,ef.Z)(()=>Promise.all([n.e("89311"),n.e("36157")]).then(n.bind(n,219875)),{ssr:!1},e=>219875,void 0,void 0),eS=(0,i.lazy)(()=>n.e("33629").then(n.bind(n,282842))),ej=(0,i.lazy)(()=>n.e("81665").then(n.bind(n,993674))),eC=(0,i.lazy)(()=>n.e("77846").then(n.bind(n,5480))),eE=(0,ef.Z)(()=>n.e("29960").then(n.bind(n,400018)),void 0,e=>400018,"app-www-EUPrompt-EUPromptModal",e=>["29960"]),eZ=(0,ef.Z)(()=>n.e("94833").then(n.bind(n,681962)),void 0,e=>681962,"app-packages-StructuredFeed-Feed-StructuredFeed",e=>["94833"]),eI=(0,ef.Z)(()=>Promise.all([n.e("70454"),n.e("57907")]).then(n.bind(n,884882)),void 0,e=>884882,"app-common-react-components-save-board-BoardMoreIdeasTabContentResourceWrapper",e=>["70454","57907"]),eT=(0,i.lazy)(()=>n.e("79021").then(n.bind(n,504636))),eA=(0,ef.Z)(()=>n.e("24561").then(n.bind(n,548782)),void 0,e=>548782,"app-www-discover-Bubbles-BubblesGridRep",e=>["24561"]),ek=(0,ef.Z)(()=>n.e("42008").then(n.bind(n,779057)),{fallback:(0,e_.jsx)(s.xu,{height:1})},e=>779057,"app-common-react-components-SummaryCard-Story-StoryCard",e=>["42008"]),eR=(0,i.createRef)(),eO=e=>{let t=document.createElement("link"),n=document.querySelector("link[rel='icon']")||document.getElementById("dynamic-favicon");if(t.id="dynamic-favicon",t.rel="shortcut icon",t.type="image/x-icon",t.href=e,document.head){if(n){if(n instanceof HTMLLinkElement&&n.href===e)return;document.head.removeChild(n)}document.head.appendChild(t)}},eB=(e,t)=>(e||[]).slice(0,t).map(e=>e.id);class eD extends i.PureComponent{constructor(...e){super(...e),ex(this,"state",{hasScrolled:!1,hideTabs:!1,refreshReason:null,isRefreshing:!1,showYipModal:!1}),ex(this,"refreshData",(e="unknown")=>{let{refreshData:t}=this.props;this.setState({refreshReason:e,isRefreshing:!0},()=>{t()})}),ex(this,"handleScroll",(0,$.Z)(()=>{let{hasScrolled:e}=this.state,{experience:t,lastScrollYRef:n}=this.props,i=window.scrollY,r=n.current;i<50?this.setState({hideTabs:!1}):Math.abs(i-r)>20&&(requestAnimationFrame(()=>{r>i?this.setState({hideTabs:!1}):r<i&&this.setState({hideTabs:!0})}),n.current=i),t&&502535===t.experience_id&&!e&&this.setState({hasScrolled:!0})},10)),ex(this,"onWindowFocus",()=>{this.windowBlurStart>-1&&Date.now()-this.windowBlurStart>6e5&&this.refreshData("MORE_THAN_10_MINUTES"),this.windowBlurStart=-1,this.clearFaviconNotification()}),ex(this,"onWindowBlur",()=>{this.windowBlurStart=Date.now(),this.prepareForFaviconUpdate()}),ex(this,"onInstallPrompt",e=>{this.installPromptEvent=e,this.setState({pwaUpsellBannerEligibility:this.getpwaUpsellBannerEligibility()})}),ex(this,"clearFaviconNotification",()=>{this.faviconUpdateTimeout&&(clearTimeout(this.faviconUpdateTimeout),this.faviconUpdateTimeout=null),eO("https://s.pinimg.com/webapp/favicon_48x48-ca576772.png")}),ex(this,"prepareForFaviconUpdate",()=>{this.faviconUpdateTimeout=setTimeout(()=>{let e=W.ZP.getItem(_.jz);(!e||new Date().getTime()-e>=y.F4)&&(eO("https://s.pinimg.com/webapp/favicon-notification_48x48-9b2b500c.png"),W.ZP.setItem(_.jz,new Date().getTime()))},6e5)}),ex(this,"windowBlurStart",-1),ex(this,"faviconUpdateTimeout",null),ex(this,"loadItems",()=>{let{dataIsFetching:e,feedLimit:t,fetchMoreData:n,homefeedData:i}=this.props,r=i||[];if(t&&r.length>t){this.props.setFeedLoading&&this.props.setFeedLoading(!1);return}!e&&r.length>0&&n()}),ex(this,"installPromptEvent",null),ex(this,"getColumnSpanConfig",e=>{let t="recently_viewed"===e.story_type&&this.props.checkExperiment("web_recently_viewed_responsive").anyEnabled;if((0,Z.Cw)(e)){let t=this.props.homefeedData?.[0],n=e.id===t.id,{width:i,height:r}=(0,Z.GZ)(e);return i===r?{sm:2,md:2,lg:2,xl:2}:{sm:2,md:2,lg:n?3:2,xl:3}}if(e.display_options?.item_view_rep_style?.explore_article_rep_style===10||t)return{sm:2,md:3,lg:3,xl:4};if("story"===e.type&&"featured_boards"===e.story_type){let t=e?.objects?.length||0;return{sm:2,md:2,lg:Math.min(3,t),xl:Math.min(4,t)}}return"story"===e.type&&e?.display_options?.content_display?.grid_layout?.cols?e.display_options.content_display.grid_layout.cols:e.columnSpan??1}),ex(this,"getpwaUpsellBannerEligibility",()=>{let{requestContext:e}=this.props,{pwaUpsellBannerEligibility:t}=this.state;if(!(0,H.So)(window)&&e&&!t&&window.navigator.userAgent){if(window.navigator.userAgent.includes("Windows NT 10.0"))return"windows";else if(this.installPromptEvent)return"chrome"}return"notEligible"}),ex(this,"handleInstallWindowsPWA",e=>{e(),(0,ep.nP)("windows.web.upsell.completed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})}),ex(this,"handleInstallChromePWA",e=>{e(),(0,ep.nP)("chrome.web.upsell.completed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})}),ex(this,"handleDismissChromePWAUpsell",e=>{e(),(0,ep.nP)("chrome.web.upsell.dismissed"),this.setState({pwaUpsellBannerEligibility:"notEligible"})}),ex(this,"renderItem",({data:e,itemIdx:t})=>{let{homefeedData:n,lfvExperiences:i,location:r,isDwebScrollPinToTopOnTapExpEnabled:s}=this.props;if(!e||!e.type)return console.error("Invalid data received. ",t,e),null;let o=n?.find(({type:e})=>"home_feed_tabs"===e)?.tabs,{boardId:a,holidayFinds:l}=(0,J.mB)(r.search),c=o?this.getCurrentTabIndex(r,a,l,o):ei.e,u=c>=1&&o[c-1]?.tab_type==="pinterest_picks",p=!!u&&o[c-1]?.action.quick_save_icon===1,m=u&&p;switch(e.type){case"pin":let h=!!i&&!!(0,O.Z)(i),f=(0,e_.jsx)(eo.Z,{duploQueryRef:null,imageOnlyOption:h?"image-only":"default",pinId:e.id,saveButtonOptions:m?{savedInfo:{boardId:void 0,pinId:e.id,title:void 0,url:void 0},type:"inline"}:void 0,shouldWrapOnProfiler:!0,slotIndex:t,surface:"AuthHomefeed",trackingParams:e.tracking_params,viewParameter:m?4055:92,viewType:1});if(s)return(0,e_.jsx)(ec.Z,{children:f});return f;case"story":{let{story_type:n}=e;if((0,ep.nP)("web_story_card_type",{sampleRate:1,tags:{story_type:n||"unknown",surface:"homefeed"}}),"BUBBLE_ONE_COL"===n)return(0,e_.jsx)(eA,{bubbles:e.objects,id:e.id,referringSource:e.referring_source,slotIndex:t,storyType:n,title:e.title,viewParameter:92,viewType:1});if("featured_boards"===n)return(0,e_.jsx)(d.default,{slotIndex:t,story:e,surface:"AuthHomefeed",viewParameter:92,viewType:1});return(0,e_.jsx)(ek,{component:m?14769:void 0,itemIdx:t,saveButtonOptions:m?{savedInfo:{boardId:void 0,pinId:e.id,title:void 0,url:void 0},type:"inline"}:void 0,story:e,surface:"AuthHomefeed",viewParameter:m?4055:92,viewType:1})}default:return null}})}componentDidMount(){let{checkExperiment:e,experienceClient:t,navigate:n,location:i,mountWebRepinPlacement:r,toastManagerContext:s}=this.props;t.triggerExperimentsForPlacement(1000116),e("web_disable_cedexis_sampling").anyEnabled||(()=>{var e=window,t=document,n="addEventListener",i="load";function r(){let e=t.createElement("script");e.async=!0,e.src="//radar.cedexis.com/1/14290/radar.js",t.body?.appendChild(e)}(function(){for(let e=[/\bMSIE (5|6)/i],t=e.length;t--;)if(e[t].test(navigator.userAgent))return!1;return!0})()&&("complete"!==t.readyState?(n=e[n])?n(i,r,!1):(n=e.attachEvent)&&n("on"+i,r):r())})();let o=(0,J.mB)(i.search);if(o.show_error){let t=!1;e("ps_blocking_profile_visibility",{dangerouslySkipActivation:!0}).anyEnabled&&(t="board"===o.from),t?s.showOneToast(({hideToast:e})=>(0,e_.jsx)(C.Z,{duration:5e3,onHide:e,text:this.props.i18n._('Board not found.', 'home.boardError', 'Generic error message for board errors')})):s.showOneToast(({hideToast:e})=>(0,e_.jsx)(C.Z,{duration:5e3,onHide:e,text:this.props.i18n._('We can\u2019t find that idea! Try searching for one just like it.', ' - ', ' -- ')}))}else i.state&&"/pin-builder/"===i.state.from?i.state.boardName&&i.state.imageUrl&&this.handlePinSuccessPinBuilder():(0,J.mB)(i.search).show_yip_modal&&(n("/homefeed/",{replace:!0}),this.setState({showYipModal:!0}));window.addEventListener("focus",this.onWindowFocus),window.addEventListener("blur",this.onWindowBlur),window.addEventListener("beforeinstallprompt",this.onInstallPrompt),document.addEventListener("scroll",this.handleScroll),r()}componentDidUpdate(e){let{dataIsFetching:t,navigationType:n,homefeedData:i}=this.props,{refreshReason:r}=this.state,{dataIsFetching:s,homefeedData:o}=e;if(i&&o&&s&&!t&&i.length<=o.length){let e=eB(i,10),t=eB(o,10);this.logRefreshStats(r||("POP"!==n?"ROUTE_CHANGE":"UNKNOWN"),JSON.stringify(t)===JSON.stringify(e)),this.setState({isRefreshing:!1,refreshReason:null})}}logRefreshStats(e,t){let{currentHistoryStack:n,requestContext:i}=this.props,r={appType:"web",language:i.language||"unknown",locale:i.locale||"unknown",refreshReason:e},s=(0,p.P)(),o=s?.time?new Date(s.time):null,a=n&&n.length>1?n[n.length-2]:{};D.default.logToServer(D.default.SERVER_LOG_TYPE.HF_REFRESH,D.default.HTTP_METHOD.POST,{refreshReason:e,lastRoute:a.match,timeSinceHomefeed:o?Date.now()-o.getTime():null,timeSinceBlur:this.windowBlurStart?Date.now()-this.windowBlurStart:null}),(0,ep.nP)("home_product.homefeed.refresh",{sampleRate:1,tags:r}),t&&(0,ep.nP)("home_product.homefeed.refresh.no_change",{sampleRate:1,tags:r})}componentWillUnmount(){let{unmountWebRepinPlacement:e}=this.props;window.removeEventListener("focus",this.onWindowFocus),window.removeEventListener("blur",this.onWindowBlur),window.removeEventListener("beforeinstallprompt",this.onInstallPrompt),(0,q.Nl)().setItem(x.Qt,{time:Date.now(),scrollPosition:[window.scrollX,window.scrollY]}),document.removeEventListener("scroll",this.handleScroll),e()}get isHomefeed(){let{inLocalNavigation:e,location:t}=this.props,n=(0,J.mB)(t.search);return!(n&&"string"==typeof n.boardId&&n.boardId)||!!e}handlePinSuccessPinBuilder(){let{location:e,toastManagerContext:t}=this.props,{boardName:n}=e.state||{},{imageUrl:i}=e.state||{},r=(0,R.nk)(this.props.i18n._('You saved this Pin to {{ selectedBoardName }}!', 'Board create confirmation message', 'Board create confirmation message'),{selectedBoardName:(0,e_.jsx)(s.xe,{inline:!0,lineClamp:1,size:"200",weight:"bold",children:n},n)});t.showOneToast(({hideToast:e})=>(0,e_.jsx)(C.Z,{duration:5e3,imageUrl:i,onHide:e,text:(0,e_.jsx)(s.xe,{children:r},`toast_${n}`)}))}getCurrentTabIndex(e,t,n,i){return n||"/homefeed/holiday_finds/"===e.pathname?i.findIndex(e=>"pinterest_picks"===e.tab_type)+1:t?i.findIndex(e=>e?.id===t)+1:ei.e}render(){let{hasScrolled:e,hideTabs:t,isRefreshing:n,pwaUpsellBannerEligibility:r,showYipModal:o}=this.state,{checkExperiment:a,dataIsFetching:l,dataIsRefreshing:d,headerHeight:u,homefeedData:p,isPinRepOptimizationExpEnabled:f,i18n:_,inLocalNavigation:x,location:y,requestContext:w,viewer:P,enableExperienceSession:C,experienceSessionEndOnSurfaceChange:E}=this.props,I=p||[],T=I[0],A=!!T&&"story"===T.type&&["board_more_ideas","boards_more_ideas_feed_upsell_list_cards","boards_more_ideas_feed_upsell_list_cards_square"].includes(T.story_type);A&&T.objects&&(T.objects=T.objects.filter(e=>e?.images&&"70x"in e.images&&"170x"in e.images));let R=A?I.slice(1):I,O=y&&y.pathname.includes("news_hub"),B=x?R.find(({type:e})=>"home_feed_tabs"===e)?.tabs:void 0,{boardId:D,holidayFinds:N}=(0,J.mB)(y.search),F=B?this.getCurrentTabIndex(y,D,N,B):ei.e,H=a("dweb_eu_personalized_ads_prompt").anyEnabled;return(0,e_.jsxs)(i.Fragment,{children:[(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[505801],enableExperienceSession:C,placementId:11,sessionEndOnSurfaceChange:E,children:({complete:e})=>(0,e_.jsx)(M.Z,{children:(0,e_.jsx)(eT,{complete:e})})}),(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[504943,505226],enableExperienceSession:C,placementId:11,sessionEndOnSurfaceChange:E,children:({complete:e,dismiss:t,experience:{display_data:n}})=>{let i=!("is_blocking"in n)||!!n.is_blocking,r=n.message_blocking;return i||(r=n.message_dismissible),(0,e_.jsx)(eb,{complete:e,dismiss:t,isBlockingModal:i,modalDescription:r})}}),(0,e_.jsx)(v.a3,{eligibleIds:[507661],placementId:11,children:({dismiss:e,experience:{display_data:t}})=>(0,e_.jsx)(ev,{displayData:t,onDismiss:e})}),H&&(0,e_.jsx)(v.a3,{eligibleIds:[507007],placementId:11,children:({complete:e,dismiss:t,experience:{display_data:n}})=>(0,e_.jsx)(eE,{complete:e,dismiss:t,displayData:n})}),(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[505111],enableExperienceSession:C,placementId:11,sessionEndOnSurfaceChange:E,children:({complete:e,dismiss:t})=>(0,e_.jsx)(i.Suspense,{children:(0,e_.jsx)(eC,{complete:e,dismiss:t})})}),(0,e_.jsx)(v.a3,{eligibleIds:[507924],placementId:11,children:({complete:e,dismiss:t})=>(0,e_.jsx)(ew,{onComplete:e,onDismiss:t})}),(0,e_.jsx)(v.a3,{eligibleIds:[508061],placementId:11,children:({complete:e,dismiss:t,experience:n})=>(0,e_.jsx)(eP,{complete:e,dismiss:t,experience:n})}),"windows"===r&&(0,e_.jsx)(v.a3,{eligibleIds:[501123],placementId:11,children:({complete:e})=>(0,e_.jsx)(i.Suspense,{children:(0,e_.jsx)(ej,{handleComplete:()=>this.handleInstallWindowsPWA(e),language:w.language||"",locale:w.locale||""})})}),"chrome"===r&&(0,e_.jsx)(v.a3,{eligibleIds:[500999],placementId:11,children:({complete:e,dismiss:t})=>(0,e_.jsx)(Q.Z,{completeButtonText:_._('Get the app', 'Confirm button to install Chrome PWA', 'Confirm button to install Chrome PWA'),dismissButtonText:_._('Not now', 'Dismiss button for Chrome PWA upsell banner', 'Dismiss button for Chrome PWA upsell banner'),message:_._('Get our Chrome app for faster searching and saving', 'Text for banner to install Chrome PWA', 'Text for banner to install Chrome PWA'),onComplete:()=>this.handleInstallChromePWA(e),onDismiss:()=>this.handleDismissChromePWAUpsell(t)})}),e&&(0,e_.jsx)(v.a3,{customExperienceSession:!0,eligibleIds:[502535],enableExperienceSession:C,placementId:11,sessionEndOnSurfaceChange:E,children:({complete:e,dismiss:t})=>(0,e_.jsx)(i.Suspense,{children:(0,e_.jsx)(eS,{handleComplete:e,handleDismiss:t})})}),o&&(0,e_.jsx)(b.Z,{name:"SafeSuspense_AuthHomefeed_YearInPreview",children:(0,e_.jsx)(ey,{onModalDismiss:()=>{this.setState({showYipModal:!1})}})}),(0,e_.jsx)(Y.Z,{view:1,viewParameter:92,children:(0,e_.jsxs)(i.Fragment,{children:[P.isAuth&&P.isPartner&&!O&&(0,e_.jsx)(b.Z,{name:"SafeSuspense_AuthHomefeed_MoreIdeas",children:(0,e_.jsx)(s.Le,{top:u,zIndex:new s.Ry(2*!!this.isHomefeed),children:(0,e_.jsx)(s.xu,{"data-root-margin":"more-ideas-tabs",height:c.Z,children:(0,e_.jsx)(eg,{fallback:(0,e_.jsx)(s.xu,{height:c.Z}),hideTabs:t,nonFixed:!0})})})}),this.isHomefeed&&(0,e_.jsxs)(s.xu,{dangerouslySetInlineStyle:{__style:{paddingBottom:Z.$H}},"data-test-id":"homefeed-feed",children:[(0,e_.jsx)(et.Z,{text:this.props.i18n._('Home', 'text for accessibility hidden heading', 'text for accessibility hidden heading')}),(d||n)&&(0,e_.jsx)(s.xu,{paddingY:6,children:(0,e_.jsx)(s.xH,{accessibilityLabel:this.props.i18n._('Refreshing homefeed', 'Authhomefeed.refreshSpinner', 'spinner for refreshing homefeed'),show:!0})}),A&&(0,e_.jsx)(s.xu,{marginBottom:2,marginTop:4,children:(0,e_.jsxs)("div",{className:"gridCentered",children:[(0,e_.jsx)(k.Z,{unsafeCSS:(0,j.Z)({gutterWidth:0,isRTL:!1,itemWidth:Z.yF+Z.ZZ,maxColumns:R.length,minColumns:Z.yc})}),(0,e_.jsx)(eZ,{disableLastGutter:!0,fallback:(0,e_.jsx)(s.xu,{height:142}),feed:[T],view:1,viewParameter:92})]})}),!!B?.length&&P.isAuth&&!P.isPartner&&(0,e_.jsx)(ee.Z,{dataLayoutShiftBoundaryId:"TabsContentHeader",position:"sticky",shouldShowShadow:!0,stickyZIndex:new s.H3(this.isHomefeed?[new s.Ry(5)]:[new s.Ry(6)]),style:{width:"100%",backgroundColor:"#ffffff",transform:t?"translateY(-100%)":"translateY(0)",transition:"all 0.3s ease-in-out"},children:(0,e_.jsx)(s.xu,{"data-root-margin":"more-ideas-tabs",marginBottom:4*(F===ei.e),marginEnd:(0,h.mH)(),marginStart:(0,h.mH)(),overflow:"visible",children:(0,e_.jsx)(eg,{boards:B,currentTabIndex:F,hideTabs:t,inLocalNavigation:x,nonFixed:!0})})}),!!B?.length&&!!F&&"pinterest_picks"!==B[F-1].tab_type&&(0,e_.jsx)(eI,{inLocalNavigation:x,tabBoard:B[F-1]}),F===ei.e&&(0,e_.jsxs)(i.Fragment,{children:[(0,e_.jsx)(z.Z,{includeBackgroundImages:!0,includeVideos:!0,isAtEndOfFeed:this.props.dataIsAtEnd,isPlaceholderGrid:l&&!R.length,itemCount:R.length,pinData:R,children:(0,e_.jsx)(m.Z,{id:"AuthHomefeedMasonry",children:(0,e_.jsx)(S.default,{cacheKey:"homefeed",getColumnSpanConfig:f?this.getColumnSpanConfig:e=>this.getColumnSpanConfig(e),isFetching:l,isLoadedAccessibilityLabel:R.length>0?this.props.i18n._('More Pins loaded for homefeed', 'authhomefeed.masonry.paginationLoaded', 'More Pins loaded for homefeed'):this.props.i18n._('Loaded homefeed', 'authhomefeed.masonry.loaded', 'Pins have loaded for homefeed'),isLoadingAccessibilityLabel:R.length>0?this.props.i18n._('Loading more Pins for homefeed', 'authhomefeed.masonry.paginationLoading', 'Loading more Pins for homefeed'):this.props.i18n._('Loading homefeed', 'authhomefeed.masonry.loading', 'Loading homefeed'),isLoadingStateEnabled:!0,items:R,loadItems:this.loadItems,masonryRef:eR,renderItem:this.renderItem})})}),R.length>0&&(0,e_.jsx)(g.Z,{surface:"homefeed"})]}),(0,e_.jsx)(v.O9,{placementId:11})]})]})})]})}}function eN(e){let t=(0,T.Z)(),n=(0,a.I0)(),s=(0,i.useRef)(0),o=(0,r.TH)(),l=(0,E.Z)(),d=(0,L.B)(),c=(0,G.Z)(),m=(0,ed.JC)(),h=(0,es.R)(),{pins:x,clear:g}=(0,er.Z)(),y=(0,V.dI)(),{mountPlacement:b,unmountPlacement:S}=(0,v.Sc)(),{checkExperiment:j}=(0,F.Z)(),C=(0,I.aX)(),Z=(0,P.Z)(),A=(0,r.s0)(),k=(0,r.ur)(),R=(0,K.Z)(),{shouldMaintainHomefeed:O}=(0,p.Z)(),D=(0,en.t)(),{isAtEnd:H,isFetching:z,isRefreshing:M,fetchMore:q,data:$,refresh:Y}=(0,U.Z)({...e.homefeedResourceConfig,enabledRouteRefresh:!O}),Q=j("hfp_local_nav_tabs_web").anyEnabled,J=(0,u.Z)();(0,X.Z)(()=>{let e=$||[];if(l.isAuth&&!l.isPartner&&(0,B.Z)(l.createdAt)&&e.length>0&&1){let e=W.ZP.getItem(_.M8);if(e||x.length>0){let i=[...x,...e?[{id:e}]:[]];setTimeout(()=>{i.forEach(({id:e,nodeId:i})=>{(0,f.Z)({description:"",entityId:e,link:"",promotedIsRemovable:void 0,title:""},t).then(t=>{let{id:r,url:s,name:o}=t;n((0,ea.d)({boardId:r,url:s,title:o||"",pinId:e||"",nodeId:i}))})}),c({action:"trigger",item:"unauth-save-button-quicksave"}),n((0,el.Z)(!0)),W.ZP.removeItem(_.M8),g()},1500)}}});let ee=(0,i.useCallback)(()=>b(1000294,{}),[b]),et=(0,i.useCallback)(()=>S(1000294),[S]);(0,N.Z)(o,y.showToast,t);let{enableExperienceSession:ei,endOnSurfaceChange:eo}=(0,w.jQ)(11),ec=(0,eu.Z)(j,"homefeed");return(0,e_.jsx)(i.Fragment,{children:(0,e_.jsx)(eD,{...e,checkExperiment:j,currentHistoryStack:C,dataIsAtEnd:H,dataIsFetching:z,dataIsRefreshing:M,dispatch:n,enableExperienceSession:ei,experienceClient:Z,experienceSessionEndOnSurfaceChange:eo,fetchMoreData:q,headerHeight:D,homefeedData:$,i18n:t,inLocalNavigation:Q,isDwebScrollPinToTopOnTapExpEnabled:ec,isPinRepOptimizationExpEnabled:J,lastScrollYRef:s,lfvExperiences:R,location:o,mostRecentPLP:h.id?m[h.id]:null,mountWebRepinPlacement:ee,navigate:A,navigationType:k,refreshData:Y,requestContext:d,toastManagerContext:y,unmountWebRepinPlacement:et,viewer:l})})}function eF(e){(0,i.useEffect)(()=>{(0,o.Z)("AuthHomefeed","/app/common/react/components/FeedsAndFollowing/Homefeed/AuthHomefeed.tsx")},[]);let t=(0,l.q)(),n=(0,i.useMemo)(()=>t(),[t]),r=(0,em.DB)(),s=(0,eh.Zv)(),a=(0,A.b)(),d=(0,L.B)();return(0,i.useEffect)(()=>{a&&(0,ep.LY)("earlyHydrationDebug.authHomefeed.mount",performance.now(),{tags:(0,em.M3)({earlyHydrationConfig:r,handlerId:s,requestContext:d})})},[]),(0,e_.jsx)(m.Z,{id:"AuthHomefeed",children:(0,e_.jsx)(eN,{...e,homefeedResourceConfig:n})})}let eH=()=>((0,i.useEffect)(()=>{(0,o.Z)("ExperiencesAfterHomefeed","/app/common/react/components/FeedsAndFollowing/Homefeed/ExperiencesAfterHomefeed.tsx")},[]),(0,e_.jsxs)(i.Fragment,{children:[(0,e_.jsx)(v.RK,{placementId:11}),(0,e_.jsx)(v.k6,{placementId:1000503}),(0,e_.jsx)(v.H6,{placementId:1000541})]}));var ez=n(465784);function eL({onDismiss:e,onComplete:t,titleText:n,detailedText:r,dismissButtonText:a,completeButtonText:l}){(0,i.useEffect)(()=>{(0,o.Z)("SecurityModal","/app/www/Nags/ProdSec/GeneralAccountSecurityNag/SecurityModal.tsx")},[]);let d=(0,T.Z)();return(0,e_.jsx)(ez.ZP,{accessibilityModalLabel:r,closeOnOutsideClick:!1,onDismiss:e,size:"sm",children:(0,e_.jsx)(s.xu,{direction:"column",display:"flex",flex:"grow",position:"relative",width:"100%",children:(0,e_.jsxs)(s.xu,{marginTop:2,children:[(0,e_.jsx)(s.xu,{display:"flex",justifyContent:"center",marginTop:10,children:(0,e_.jsx)(s.JO,{accessibilityLabel:d._('Pinterest logo icon', 'Pinterest logo icon', 'Pinterest logo icon'),color:"primary",icon:"pinterest",size:40})}),(0,e_.jsx)(s.xu,{marginEnd:3,marginStart:3,marginTop:6,overflow:"hidden",rounding:2,children:(0,e_.jsxs)(s.xu,{color:"default",paddingX:4,paddingY:2,children:[(0,e_.jsx)(s.kC,{alignItems:"start",justifyContent:"between",children:(0,e_.jsxs)(s.xu,{flex:"grow",children:[(0,e_.jsx)(s.qd,{align:"center",size:"600",children:n}),(0,e_.jsx)(s.xu,{paddingY:4,children:(0,e_.jsxs)(s.xv,{align:"center",children:[" ",r," "]})})]})}),(0,e_.jsx)(s.xu,{display:"flex",justifyContent:"end",marginBottom:12,marginTop:8,children:(0,e_.jsxs)(s.kC,{gap:{row:2,column:0},justifyContent:"end",children:[(0,e_.jsx)(s.zx,{color:"gray",onClick:e,size:"lg",text:a}),(0,e_.jsx)(s.zx,{color:"red",onClick:t,size:"lg",text:l})]})})]})})]})})})}function eU({onComplete:e,onDismiss:t,titleText:n,detailedText:r,dismissButtonText:s,completeButtonText:o}){return(0,e_.jsx)(i.Fragment,{children:(0,e_.jsx)(eL,{completeButtonText:o,detailedText:r,dismissButtonText:s,onComplete:e,onDismiss:t,titleText:n})})}let eM=function({placementId:e,experience:t}){return t&&t.display_data?(0,e_.jsx)(v.a3,{eligibleIds:[503750],placementId:e,children:({complete:e,dismiss:n})=>(0,e_.jsx)(eU,{completeButtonText:t.display_data.complete_button_text,detailedText:t.display_data.detailed_text,dismissButtonText:t.display_data.dismiss_button_text,onComplete:e,onDismiss:n,titleText:t.display_data.title_text})}):null};var eW=n(332995),eq=n(272598),e$=n(986475),eY=n(640200);let eG=(0,ef.Z)(()=>n.e("55911").then(n.bind(n,426292)),{ssr:!1},e=>426292,void 0,void 0);function eQ({placementId:e,...t}){return(0,i.useEffect)(()=>{(0,o.Z)("ExperienceNuxContainer","/app/common/react/components/experiences/ExperienceNuxContainer/ExperienceNuxContainer.tsx")},[]),(0,e_.jsx)(v.a3,{disableAutoView:!0,eligibleTypes:[9],placementId:e,children:({complete:e,dismiss:n,view:i,experience:{display_data:r}})=>(0,e_.jsx)(b.Z,{name:"SafeSuspense_ExperienceNuxContainer_NuxContainer",children:(0,e_.jsx)(eG,{...(0,e$.Z)(eY.Z,!0)(r),handleComplete:e,handleDismiss:n,handleView:i,hasUnauthLandingPage:r.has_landing_page,...t})})})}var eV=n(714518),eJ=n(322830),eX=n(230201),eK=n(233597),e0=n(178131),e1=n(513504);let e5=(0,i.lazy)(()=>n.e("55911").then(n.bind(n,426292)));function e2({hideFollowedInterests:e}){(0,i.useEffect)(()=>{(0,o.Z)("RenuxContainer","/app/www/nux/desktop/RenuxContainer.tsx")},[]);let{logContextEvent:t}=(0,eX.u)(),n=(0,a.I0)(),r=(0,E.Z)(),{completeExperience:s,dismissExperience:l,experienceForPlacement:d,viewExperience:c}=(0,v.oS)(11),u=d?.experience_id===500278,{steps:p,refresh_homefeed_background:m=!1}=(0,e$.Z)(eY.Z,!0)(d?.display_data||{}),[h,f]=(0,i.useState)(!1),_=(0,e0.Z)(),x=()=>{n((0,eK.U)("UserHomefeedResource",{options:(0,eJ.Z)({inNux:!0,staticFeed:!1,viewerIsPartner:r.isAuth&&r.isPartner})},null))};return(0,i.useEffect)(()=>{h&&l(11,500278)},[h,l]),u?(0,e_.jsx)(b.Z,{name:"SafeSuspense_RenuxContainer_NuxContainer",children:(0,e_.jsx)(M.Z,{children:(0,e_.jsx)(e5,{handleComplete:()=>{t({event_type:101,component:17,element:96,view_type:213}),u&&s(11,500278);let e=Math.floor(new Date().getTime()/1e3);n((0,e1.Q_)("USM_RELAUNCH_NUX_COMPLETED",e)),x()},handleDismiss:e=>{t({event_type:101,component:17,element:1150,view_type:213}),u&&(f(!0),"NuxPicker"===e&&_({event_type:9626,view_type:213,view_parameter:172})),m&&x()},handleView:()=>{u&&c(11,500278)},hasDismissedModal:h,hideFollowedInterests:e||!1,isRenux:!0,steps:p})})}):null}let e4=({experience:e,isNux:t})=>((0,i.useEffect)(()=>{(0,o.Z)("ExperiencesBeforeHomefeed","/app/common/react/components/FeedsAndFollowing/Homefeed/ExperiencesBeforeHomefeed.tsx")},[]),(0,e_.jsxs)(i.Fragment,{children:[t||e&&e.display_data&&e.display_data.is_partner_renux?(0,e_.jsx)(eQ,{placementId:11}):(0,e_.jsx)(e2,{hideFollowedInterests:!0}),(0,e_.jsx)(v.iH,{placementId:11}),(0,e_.jsx)(eq.Z,{placementId:11}),(0,e_.jsx)(v.u3,{placementId:11}),(0,e_.jsx)(v.b9,{placementId:11}),(0,e_.jsx)(v._f,{placementId:11}),(0,e_.jsx)(v.nj,{placementId:11}),(0,e_.jsx)(eV.Z,{placementId:11}),(0,e_.jsx)(eW.Z,{placementId:11}),(0,e_.jsx)(eM,{experience:e,placementId:11})]}));var e6=n(59355),e3=n(495839),e9=n(271875),e7=n(520803);let e8=(0,ef.Z)(()=>n.e("34692").then(n.bind(n,749741)),{ssr:!1},e=>749741,"BackgroundPinImages",e=>["34692"]),te=(0,ef.Z)(()=>Promise.all([n.e("85533"),n.e("54536")]).then(n.bind(n,704897)),{ssr:!1},e=>704897,"ExperienceBizNuxFullscreenContainer",e=>["85533","54536"]);function tt({experience:e}){let t=(0,r.TH)(),{params:o}=(0,e7.Z)(),{conversationOpen:a,dropdownOpen:l}=(0,e9.Z)();(0,e6.Q)({view_type:1,view_parameter:92});let{conversation_id:d,tab:c}=(0,J.mB)(t.search),u=o.conversation_id||d;(0,i.useEffect)(()=>{u&&a(u)},[u]),(0,i.useEffect)(()=>{"inbox"===c&&l()},[c]),(0,i.useEffect)(()=>{let e=document.getElementById("rum-config");null!==e&&null!==e.textContent&&(window.pinterest_rum_client_config=JSON.parse(e.textContent),n.e("34912").then(n.bind(n,629442)).then(e=>{e.default()}))},[]);let p=e?.experience_id,m=10105===p;return[500787,500894].includes(p)?(0,e_.jsx)(b.Z,{name:"SafeSuspense_AuthHomePage_ExperienceBizNuxFullscreenContainer",children:(0,e_.jsx)(te,{experienceId:500787,placementId:11})}):(0,e_.jsxs)(s.xu,{children:[(0,e_.jsx)(e4,{experience:e,isNux:m}),m?(0,e_.jsx)(b.Z,{name:"SafeSuspense_AuthHomePage_BackgroundPinImages",children:(0,e_.jsx)(e8,{inNux:m,isFlexible:!0})}):(0,e_.jsx)(i.Fragment,{children:(0,e_.jsx)(eF,{experience:e})}),(0,e_.jsx)(eH,{})]})}let tn=(0,v.RL)(11,()=>({using_pwa:(0,H.So)(window)}))(function(e){let{experience:t}=e,n=t?.experience_id,r=10105===n,s=[500787,500894].includes(n),o=r||s,[a,l]=(0,i.useState)(null);return null===a&&l(r),r&&!1===a&&((0,ep.nP)("home_product.homefeed.incorrect_in_nux_state_for_first_load",{sampleRate:.1,tags:{appType:"web"}}),l(!0)),o?(0,e_.jsx)(tt,{...e}):(0,e_.jsx)(e3.Z,{measureGridVisuallyComplete:!0,surface:"homefeed",children:(0,e_.jsx)(tt,{...e})})})},241028:function(e,t,n){function i(e){return{type:"PIN_QUICK_SAVE",payload:e}}function r(e){return{type:"UPDATE_PINS_WITH_QUICKSAVE_REPIN",payload:{newPin:e}}}n.d(t,{X:()=>r,d:()=>i})},604100:function(e,t,n){function i(e){return{type:"UPDATE_HAS_QUICKSAVE_BOARD",payload:{createdQuicksaveBoard:e}}}n.d(t,{Z:()=>i})},513504:function(e,t,n){n.d(t,{H5:()=>l,Nq:()=>a,Q_:()=>d,bJ:()=>c});var i=n(27399),r=n(236269),s=n(554092),o=n(38359);function a(e){let{updateUserData:t}=e,n={},a=null;if(t.gender&&[o.W1,o.UV].includes(t.gender)?n.gender=t.gender:t.custom_gender&&(n.custom_gender=t.custom_gender,n.customGender=t.custom_gender,n.gender=o.vF),t.age?n.age=t.age:t.birthdate&&(n.birthdate=t.birthdate),t.locale&&(n.locale=t.locale),t.country&&(n.country=t.country),t.business_vertical&&(n.businessVertical=t.business_vertical),t.business_vertical_other&&(n.businessVerticalOther=t.business_vertical_other),t.number_employees&&(n.numberEmployees=t.number_employees),t.first_name&&(n.firstName=t.first_name),t.last_name&&(n.lastName=t.last_name),t.full_name&&(n.fullName=t.full_name),t.parent_email&&(n.parentEmail=t.parent_email),t.website_url&&(n.websiteUrl=t.website_url),t.listed_website_url&&(n.listedWebsiteUrl=t.listed_website_url),void 0!==t.allow_analytic_cookies&&(n.allow_analytic_cookies=t.allow_analytic_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_marketing_cookies=t.allow_marketing_cookies),void 0!==t.allow_analytic_cookies&&(n.allow_personalization_cookies=t.allow_personalization_cookies),t.advertising_intent||t.business_name||t.account_type||t.business_goals||t.selected_ecommerce_platforms||t.enable_profile_message||t.enable_profile_address){let{account_type:e,advertising_intent:n,business_name:i,business_goals:r,enable_profile_message:s,enable_profile_address:o,selected_ecommerce_platforms:l}=t;a={...n?{advertising_intent:n}:{},...e?{account_type:e}:{},...i?{business_name:i}:{},...r?{business_goals:r}:{},...s?{enable_profile_message:s}:{},...o?{enable_profile_address:o}:{},...l?{selected_ecommerce_platforms:l}:{}}}a&&(n.partner=a,a.business_name&&(n.firstName=a.business_name));let l=i.Z.create("UserSettingsResource",{...t,surface_tag:s.i.NUX}).callUpdate();return async function(e){try{let t=await l;return e({type:"UPDATE_USER_SET",payload:n}),t}catch(e){return Promise.reject(Error((0,r.Z)(e,"message")))}}}function l(e){return{type:"UPDATE_USER_FIRST_HOME_FEED_REQUEST_AFTER_NUX",payload:e}}function d(e,t){return()=>{i.Z.create("UserStateResource",{state:e,value:t}).callCreate()}}function c(e,t=""){return()=>i.Z.create("UpdateFollowedInterestsResource",{referrer:t,updated_interest_follows:e}).callUpdate()}},701943:function(e,t,n){function i(){return{}}n.d(t,{kr:()=>i}),n.g.__AsyncLocalStorage__&&new n.g.__AsyncLocalStorage__},216019:function(e,t,n){function i(){return(i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e}).apply(null,arguments)}n.d(t,{Z:()=>i})},535091:function(e,t,n){function i(e,t){return(i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}n.d(t,{Z:()=>r})},70443:function(e,t,n){function i(e,t){if(null==e)return{};var n={};for(var i in e)if(({}).hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}n.d(t,{Z:()=>i})},121835:function(e,t,n){n.d(t,{Z:()=>i});function i(e,t){if(!e)throw Error("Invariant failed")}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/61458-2a50d39897369709.mjs.map