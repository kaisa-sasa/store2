(self.modernJsonp=self.modernJsonp||[]).push([["63331"],{53713:function(e,a,o){o.r(a),o.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardButton_board"}],type:"Board",abstractKey:null};l.hash="0e2c441822700a6145ea7cd142c0425b";let t=l},943751:function(e,a,o){o.r(a),o.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"DrawerImageGroup_coverPin",selections:[{alias:null,args:null,kind:"ScalarField",name:"imageUrl",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"crop",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"size",storageKey:null}],type:"CoverPin",abstractKey:null};l.hash="35b139c2e951baaa6624b30e45f913ce";let t=l},413044:function(e,a,o){o.r(a),o.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardButton_board",selections:[{args:null,kind:"FragmentSpread",name:"SendBoardFlyout_board"}],type:"Board",abstractKey:null};l.hash="8d95294efe15498023c69669c6a41e71";let t=l},954881:function(e,a,o){o.r(a),o.d(a,{default:()=>t});let l={argumentDefinitions:[],kind:"Fragment",metadata:null,name:"SendBoardFlyout_board",selections:[{alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"name",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"description",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"url",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"imageCoverUrl",storageKey:null}],type:"Board",abstractKey:null};l.hash="f459445ee8d1ea0db022e490ef5a2e80";let t=l},339442:function(e,a,o){var l,t;o.r(a),o.d(a,{default:()=>n});let r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"}],kind:"Fragment",metadata:null,name:"collab_AcceptInvite_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3AcceptBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_AcceptInvite_Mutation",selections:t},params:{id:"781c41132fefa007ebde7bcd8c49840ce1768ed6f6781fd72e3904bd35fb576f",metadata:{},name:"collab_AcceptInvite_Mutation",operationKind:"mutation",text:null}};r.hash="7005ce437a6a6ff33741ab44aa02cf61";let n=r},917436:function(e,a,o){var l,t;o.r(a),o.d(a,{default:()=>n});let r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_ApproveInvite_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3ApproveBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_ApproveInvite_Mutation",selections:t},params:{id:"472a584df4a467181ed32ec33d235ef2f2e6d53fdb4c7a43d11156b6d51dcd50",metadata:{},name:"collab_ApproveInvite_Mutation",operationKind:"mutation",text:null}};r.hash="40ae8061007ba5f53a4570e43e4ca864";let n=r},932522:function(e,a,o){var l,t,r,n;o.r(a),o.d(a,{default:()=>s});let i={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"ban"},t={defaultValue:null,kind:"LocalArgument",name:"boardId"},r={defaultValue:null,kind:"LocalArgument",name:"userId"}],kind:"Fragment",metadata:null,name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"ban",variableName:"ban"},{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"user",variableName:"userId"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3DeclineOrDeleteBoardCollaboratorInviteMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,r,l],kind:"Operation",name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",selections:n},params:{id:"ff3059743c1d13d4f1c2ef07e10d2b29925c7b330db4103e55e9e65c380c0ce5",metadata:{},name:"collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation",operationKind:"mutation",text:null}};i.hash="c62e5df78917dd238b70f366f358d487";let s=i},10028:function(e,a,o){var l,t,r,n,i,s,d,c;o.r(a),o.d(a,{default:()=>h});let u={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"board"},{defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"}],kind:"Fragment",metadata:null,name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t=[{fields:[{kind:"Variable",name:"board",variableName:"board"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[n={alias:null,args:null,kind:"ScalarField",name:"collaboratorCount",storageKey:null},{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i={alias:null,args:null,kind:"ScalarField",name:"username",storageKey:null},s={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null}],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RemoveBoardCollaborators_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3RemoveBoardCollaboratorsMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"data",plural:!1,selections:[n,{alias:null,args:null,concreteType:null,kind:"LinkedField",name:"collaboratingUsers",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersConnection",kind:"LinkedField",name:"connection",plural:!1,selections:[{alias:null,args:null,concreteType:"UserCollaboratingUsersEdge",kind:"LinkedField",name:"edges",plural:!0,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"node",plural:!1,selections:[i,s,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],storageKey:null}],storageKey:null}],storageKey:null}],type:"UserCollaboratingUsersConnectionContainer",abstractKey:null}],storageKey:null},c],storageKey:null}],type:"V3RemoveBoardCollaborators",abstractKey:null},d],storageKey:null}]},params:{id:"83dd1206102cffdd460f8c072df0ca515d27c8fcf3798423f1657afabdf467ac",metadata:{},name:"collab_RemoveBoardCollaborators_Mutation",operationKind:"mutation",text:null}};u.hash="2c3e1508650962adfff1171e950fa419";let h=u},905709:function(e,a,o){var l,t,r,n,i,s,d,c,u,h;o.r(a),o.d(a,{default:()=>_});let m=(l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"message"}],t=[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],r={alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},i=[n={alias:null,args:null,kind:"ScalarField",name:"entityId",storageKey:null}],s={alias:null,args:null,kind:"ScalarField",name:"status",storageKey:null},d={alias:null,args:null,kind:"ScalarField",name:"type",storageKey:null},u={kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"},h=[n,c={alias:null,args:null,kind:"ScalarField",name:"id",storageKey:null}],{fragment:{argumentDefinitions:l,kind:"Fragment",metadata:null,name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:i,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:i,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:i,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_RequestToJoin_Mutation",selections:[{alias:null,args:t,concreteType:null,kind:"LinkedField",name:"v3CreateRequestToJoinBoardMutation",plural:!1,selections:[r,{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"CollaboratorInvite",kind:"LinkedField",name:"data",plural:!1,selections:[{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedByUser",plural:!1,selections:h,storageKey:null},{alias:null,args:null,concreteType:"User",kind:"LinkedField",name:"invitedUser",plural:!1,selections:h,storageKey:null},s,d,c,{alias:null,args:null,concreteType:"Board",kind:"LinkedField",name:"board",plural:!1,selections:h,storageKey:null}],storageKey:null}],type:"CollaboratorInviteResponse",abstractKey:null},u],storageKey:null}]},params:{id:"ff45f353c3246c417487b54a02f0669dbc6c45761df9567395537bf1f7875a9f",metadata:{},name:"collab_RequestToJoin_Mutation",operationKind:"mutation",text:null}});m.hash="9aa22a7713214239538142ad2c957cc3";let _=m},286796:function(e,a,o){var l,t;o.r(a),o.d(a,{default:()=>n});let r={fragment:{argumentDefinitions:l=[{defaultValue:null,kind:"LocalArgument",name:"boardId"},{defaultValue:null,kind:"LocalArgument",name:"emails"},{defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_emails_Mutation",selections:t=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"emails",variableName:"emails"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorEmailMutationv2",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:l,kind:"Operation",name:"collab_emails_Mutation",selections:t},params:{id:"b71dbcb22ec2462fa0cde080403e4f9001df6f822511fd94b0fb3eae0c6b3fd4",metadata:{},name:"collab_emails_Mutation",operationKind:"mutation",text:null}};r.hash="de392a939a95d05f7ee889fe77a9e52d";let n=r},497818:function(e,a,o){var l,t,r,n;o.r(a),o.d(a,{default:()=>s});let i={fragment:{argumentDefinitions:[l={defaultValue:null,kind:"LocalArgument",name:"boardId"},t={defaultValue:null,kind:"LocalArgument",name:"collaboratorIds"},r={defaultValue:null,kind:"LocalArgument",name:"message"}],kind:"Fragment",metadata:null,name:"collab_users_Mutation",selections:n=[{alias:null,args:[{fields:[{kind:"Variable",name:"board",variableName:"boardId"},{kind:"Variable",name:"collaboratorIds",variableName:"collaboratorIds"},{kind:"Variable",name:"message",variableName:"message"}],kind:"ObjectValue",name:"input"}],concreteType:null,kind:"LinkedField",name:"v3InviteBoardCollaboratorsMutation",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"__typename",storageKey:null},{kind:"InlineFragment",selections:[{alias:null,args:null,concreteType:"ErrorInfo",kind:"LinkedField",name:"error",plural:!1,selections:[{alias:null,args:null,kind:"ScalarField",name:"message",storageKey:null},{alias:null,args:null,kind:"ScalarField",name:"paramPath",storageKey:null}],storageKey:null}],type:"Error",abstractKey:"__isError"}],storageKey:null}],type:"Mutation",abstractKey:null},kind:"Request",operation:{argumentDefinitions:[t,l,r],kind:"Operation",name:"collab_users_Mutation",selections:n},params:{id:"42ceaa3423a096a27613e5738f83aaadcee449c55d4dd03624d2f08a6b6dca04",metadata:{},name:"collab_users_Mutation",operationKind:"mutation",text:null}};i.hash="850c5de9834cac0edfdd5652a78bffbf";let s=i},53596:function(e,a,o){o.d(a,{Z:()=>l});let l='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",Helvetica,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","ヒラギノ角ゴ Pro W3","Hiragino Kaku Gothic Pro",メイリオ,Meiryo,"ＭＳ Ｐゴシック",Arial,sans-serif'},400962:function(e,a,o){o.d(a,{aX:()=>h,nK:()=>m,ou:()=>d});var l=o(667294),t=o(312048),r=o(213491),n=o(520803),i=o(785893);let{Provider:s,get:d}=(0,r.Z)("HistoryStackContext",{previous:[],current:null,forward:[]}),c=e=>e&&e.pathname?e.pathname+(e.search||""):"";function u(e,a){let o={action:a.type,location:a.location,match:a.match};if(a.location===e.current?.location)return e;switch(a.type){case"POP":if(e.forward.length>0&&c(e.forward[0].location)===c(o.location))return{...e,forward:e.forward.slice(1),current:{...e.forward[0],action:a.type},previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};return{...e,forward:e.current?[{action:e.current.action,location:e.current.location,match:e.current.match},...e.forward]:e.forward,current:{...e.previous.slice(-1)[0],action:a.type},previous:e.previous.slice(0,-1)};case"PUSH":return{...e,forward:e.forward.length>0?[]:e.forward,current:o,previous:e.current?[...e.previous,{action:e.current.action,location:e.current.location,match:e.current.match}]:e.previous};case"REPLACE":return{...e,current:o};default:return e}}function h(){let{current:e,previous:a}=d();return(0,l.useMemo)(()=>e?a.concat(e):a,[e,a])}function m({children:e}){let a=(0,t.ur)(),o=(0,t.TH)(),r=(0,n.Z)(),[d,c]=(0,l.useReducer)(u,{forward:[],current:{action:a,location:o,match:r},previous:[]}),h=(0,l.useRef)(o),m=(0,l.useRef)(r);return(h.current!==o||m.current!==r)&&(c({type:a,location:o,match:r}),h.current=o,m.current=r),(0,i.jsx)(s,{value:d,children:e})}},711072:function(e,a,o){o.d(a,{Z:()=>t});var l=o(667294);let t=function(e,a){let o=(0,l.useRef)(e),t=(0,l.useRef)(void 0),r=(0,l.useRef)(void 0);(0,l.useEffect)(()=>{o.current=e},[e]),(0,l.useEffect)(()=>()=>{t.current&&clearTimeout(t.current)},[a]);let n=(0,l.useCallback)((...e)=>{r.current=e,t.current&&clearTimeout(t.current),t.current=window.setTimeout(()=>{o.current(...e),r.current=void 0},a)},[a]);return n.flush=(0,l.useCallback)(()=>{if(t.current&&(clearTimeout(t.current),t.current=void 0),r.current){let e=r.current;return r.current=void 0,o.current(...e)}},[]),n.cancel=(0,l.useCallback)(()=>{t.current&&(clearTimeout(t.current),t.current=void 0),r.current=void 0},[]),n}},419025:function(e,a,o){o.d(a,{Bx:()=>t,N4:()=>n,is:()=>i,lt:()=>l,oM:()=>r});let l=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),t=e=>e._('Log in to save this Pin', 'limitedLogin.modalHeader.repin', 'Title on mobile web limited login modal to prompt users to login after they clicked save button.'),r=e=>e._('Log in to edit this Pin', 'limitedLogin.modalHeader.editPin', 'Title on mobile web limited login modal to prompt users to login after they clicked edit button.'),n=({i18n:e,toFollow:a})=>a?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.'),i=e=>e._('Log in to create a Pin or board', 'limitedLogin.modalHeader.create', 'Title on mobile web limited login modal to prompt users to login to create a Pin or board.')},943152:function(e,a,o){o.d(a,{Z:()=>n});var l=o(419025),t=o(24246),r=o(36776);let n=()=>{let{loginForMore:e,viewer:a,limitedLoginModalSubheader:o}=(0,r.m)(),n=(0,t.Z)();return"AUTH"===a.type?null:a=>{e?.setVisible(!0),o?.setText(a?.loginModalHeader||(0,l.lt)(n))}}},995514:function(e,a,o){o.d(a,{Z:()=>n});var l=o(375181),t=o(24246),r=o(216975);function n(){let e=(0,t.Z)();return function(a,o){let t=new Date(a).getTime(),n=Date.now()-t,i=Math.floor(n/l.FS),s=Math.floor(n/l.UK),d=Math.floor(n/l.F4),c=Math.floor(n/l.VL),u=Math.floor(n/l.N9),h=Math.floor(n/l.N1),m=e.ngettext('{{ minutes }} minute ago', '{{ minutes }} minutes ago', i, ' - ', ' -- '),_=e.ngettext('{{ hours }} hour ago', '{{ hours }} hours ago', s, ' - ', ' -- '),g=e.ngettext('{{ days }} day ago', '{{ days }} days ago', d, ' - ', ' -- '),b=e.ngettext('{{ weeks }} week ago', '{{ weeks }} weeks ago', c, ' - ', ' -- '),p=e.ngettext('{{ months }} month ago', '{{ months }} months ago', u, 'useGetHumanizedTimeSince.monthsString', 'months since last update'),f=e.ngettext('{{ years }} year ago', '{{ years }} years ago', h, ' - ', ' -- '),y=e.ngettext('{{ minutes }}m', '{{ minutes }}m', i, 'minutes ago abbreviated', 'minutes ago abbreviated'),v=e.ngettext('{{ hours }}h', '{{ hours }}h', s, 'hours ago abbreviated', 'hours ago abbreviated'),x=e.ngettext('{{ days }}d', '{{ days }}d', d, 'days ago abbreviated', 'days ago abbreviated'),C=e.ngettext('{{ weeks }}w', '{{ weeks }}w', c, 'weeks ago abbreviated', 'weeks ago abbreviated'),k=e.ngettext('{{ months }}mo', '{{ months }}mo', u, 'months ago abbreviated', 'months ago abbreviated'),w=e.ngettext('{{ years }}y', '{{ years }}y', h, 'years ago abbreviated', 'years ago abbreviated');return h>0?(0,r.nk)(o?w:f,{years:h}).join(""):u>0?(0,r.nk)(o?k:p,{months:u}).join(""):c>0?(0,r.nk)(o?C:b,{weeks:c}).join(""):d>0?(0,r.nk)(o?x:g,{days:d}).join(""):s>0?(0,r.nk)(o?v:_,{hours:s}).join(""):i>0?(0,r.nk)(o?y:m,{minutes:i}).join(""):e._('Just now', ' - ', ' -- ')}}},380938:function(e,a,o){o.d(a,{Z:()=>i});var l=o(686659),t=o(667294),r=o(740097),n=o(785893);function i({ariaHidden:e=!1,color:a,size:o}){return(0,t.useEffect)(()=>{(0,l.Z)("Dot","/app/packages/ui/Dot.tsx")},[]),(0,n.jsx)("span",{"aria-hidden":e,style:{padding:"0 4px"},children:(0,n.jsx)(r.xv,{color:a,inline:!0,size:o??"200",children:"·"})})}},718846:function(e,a,o){o.d(a,{Z:()=>n});var l=o(935059),t=o(200619),r=o(601871);let n=()=>{let e=(0,l.Z)(),a=(0,t.Z)();return(0,r.lJ)(e,a)}},233165:function(e,a,o){o.d(a,{Z:()=>y});var l=o(686659),t=o(667294),r=o(581722),n=o(740097),i=o(249459),s=o(935059),d=o(24246),c=o(501010),u=o(352507),h=o(601871),m=o(282140),_=o(211731),g=o(427475),b=o(785893);function p(e,a,o){var l;return(a="symbol"==typeof(l=function(e,a){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,a||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?l:l+"")in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}class f extends t.Component{constructor(...e){super(...e),p(this,"handleSubmit",e=>{let{advertiserId:a,boardCreateSource:o,createBoard:l,onBoardCreate:t,viewer:r,orbacActingAs:n,shouldShowAddCollaborators:i,handleInviteSelectedCollaborators:s}=this.props,d=(0,h.lJ)(r,n),{name:c,description:u,privacy:m,collab_board_email:_,collaborator_invites_enabled:g}=e;return l({boardCreateOptions:{name:c,description:u,privacy:m,collab_board_email:_,collaborator_invites_enabled:g,aux_data:{source:o},...a?{advertiser_id:a}:{},...d?{orbac_subject_id:d}:Object.freeze({})}}).then(e=>{i&&s(e.id),t(e)})}),p(this,"emptyBoardData",{collab_board_email:!0,collaborator_invites_enabled:!1,id:"",is_collaborative:!1,name:this.props.suggestedBoardName||"",description:"",category:"other",owner:{username:(0,h.Ms)(this.props.viewer,this.props.orbacActingAs)},pin_count:0})}render(){let{advertiserId:e,isAdAccountOwner:a,i18n:o,onClose:l,privacy:t,useModalWithNoLayer:r,showSecretBoardCreateToggle:s,shouldShowAddCollaborators:d,setSelectedContacts:c,selectedContacts:u,shouldUseOverlayPanel:_,orbacActingAs:g,viewer:p}=this.props,f=(0,h.lJ)(p,g),y=o._('Create board', 'BoardCreate.BoardCreate', 'Modal heading');return(0,b.jsx)(m.Z,{board:{...this.emptyBoardData,...{privacy:a?t:i.Z.BoardPrivacy.PROTECTED}},currentUserIsOwner:!0,isAdAccount:!!e,isAdAccountOwner:a,isDeletable:!1,isEditable:!0,isNameAndSecretView:!0,isProfilePublisher:!!f,onClose:l,onSubmit:this.handleSubmit,overlayPanelHeadingText:y,selectedContacts:u,setSelectedContacts:c,shouldShowAddCollaborators:d,shouldUseOverlayPanel:_,showSecretBoardCreateToggle:s,submitText:this.props.i18n._('Create', ' - ', ' -- '),title:(0,b.jsx)(n.xu,{paddingY:8,width:"100%",children:(0,b.jsx)(n.qd,{align:"center",size:"600",children:y})}),useModalWithNoLayer:r})}}function y(e){(0,t.useEffect)(()=>{(0,l.Z)("BoardCreate","/app/www/BoardCreate/BoardCreate.tsx")},[]);let a=(0,g.Z)(),o=(0,d.Z)(),{checkExperiment:n}=(0,c.Z)(),i=(0,s.Z)(),h=(0,r.v9)(({advertiser:e})=>e?e.id:void 0),m=(0,u.Z)(),p=(0,r.v9)(({advertiser:e})=>!e||i.isAuth&&e.owner_user_id===i.id),y=(0,_.zC)(),v=(0,_.DK)(),[x,C]=(0,t.useState)([]);return(0,b.jsx)(f,{...e,advertiserId:h,createBoard:a,dispatch:(0,r.I0)(),handleInviteSelectedCollaborators:e=>{let a=x.filter(e=>"email"===e.type||"email_share_suggestion"===e.type),o=x.filter(e=>"user"===e.type||"user_share_suggestion"===e.type);o.length>0&&v(e,o.map(e=>e.id)),a.length>0&&y(e,a.map(e=>e.id))},i18n:o,isAdAccountOwner:p,orbacActingAs:m,selectedContacts:x,setSelectedContacts:C,shouldUseOverlayPanel:n("web_board_create_overlay_panel").anyEnabled,viewer:i})}p(f,"defaultProps",{privacy:i.Z.BoardPrivacy.PUBLIC})},282140:function(e,a,o){o.d(a,{Z:()=>J});var l=o(686659),t=o(667294),r=o(740097),n=o(236269),i=o(465784),s=o(289935),d=o(24246),c=o(216975),u=o(501010),h=o(774838),m=o(317109),_=o(577356),g=o(739405),b=o(496883),p=o(464094),f=o(389222),y=o(983141),v=o(771729),x=o(785893);function C({selectedContacts:e=[],setSelectedContacts:a}){(0,t.useEffect)(()=>{(0,l.Z)("BoardCreateAddCollaborators","/app/www/BoardCreate/BoardCreateAddCollaborators.tsx")},[]);let o=(0,d.Z)(),{searchValue:n,allContacts:i,handleTextFieldChange:s,handleTypeaheadSuggestionsChange:c,handleCollaboratorClick:u}=(0,v.Z)({selectedContacts:e||[],onSelectedContactsChange:a||(()=>{})}),h=e.map(e=>e.id);return(0,x.jsxs)(r.kC,{alignItems:"stretch",direction:"column",height:"100%",justifyContent:"start",children:[(0,x.jsx)(r.xu,{paddingY:2,children:(0,x.jsx)(r.xv,{size:"100",children:o._('Add collaborators', 'text indicates that this section is for adding collaborators to a board', 'boardCreate.addCollaborators.heading')})}),(0,x.jsx)(r.xu,{marginBottom:4,marginTop:2,children:(0,x.jsx)(y.Z,{onSearchChange:s,onTypeaheadSuggestionsChange:c,searchValue:n})}),(0,x.jsx)(f.Z,{contacts:i,itemPadding:2,onCollaboratorToggle:u,selectedContactIds:h})]})}var k=o(925347),w=o(832333);let j=({label:e,labelId:a})=>a?(0,x.jsx)(r.__,{htmlFor:a,children:(0,x.jsx)(r.xv,{size:"100",children:e})}):(0,x.jsx)(t.Fragment,{children:e});function P(e){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormRow","/app/www/BoardForm/BoardFormRow.tsx")},[]);let{children:a,label:o,labelId:n}=e;return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(r.xu,{marginBottom:2,children:(0,x.jsx)(j,{label:o,labelId:n})}),a]})}function F({coverPin:e,handleShowBoardCoverEditModal:a}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormBoardCoverButton","/app/www/BoardForm/BoardFormBoardCoverButton.tsx")},[]);let o=(0,d.Z)(),[n,i]=(0,t.useState)(!1),{isRTL:s}=(0,h.B)();return(0,x.jsx)(P,{label:(0,x.jsx)(r.qd,{accessibilityLevel:3,size:"200",children:(0,x.jsx)(r.xv,{inline:!0,size:"100",children:o._('Board cover', 'BoardForm.BoardFormCoverButton', 'Form label for updating board cover')})}),children:(0,x.jsx)(r.xu,{position:"relative",width:138,children:(0,x.jsx)(r.iP,{onMouseEnter:()=>i(!0),onMouseLeave:()=>i(!1),onTap:a,rounding:4,children:e?.custom_cover?(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(r.zd,{height:138,rounding:4,width:138,children:(0,x.jsx)(w.Z,{alt:e.image_url,color:"gray",customCover:e.custom_cover,height:138,imgPos:function(e){let{crop:a,size:o}=e||{};if(Array.isArray(a)&&Array.isArray(o))return{x:a[0]||0,y:a[1]||0,width:o[0]||0,height:o[1]||0}}(e),imgUrl:e.image_url||"",renderAsImage:!0,width:138})}),(0,x.jsx)(r.xu,{bottom:!0,left:s,padding:2,position:"absolute",right:!s,children:(0,x.jsx)(r.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:n?"white":"rgba(255, 255, 255, 0.8)"}},display:"flex",height:44,justifyContent:"center",rounding:"circle",width:44,children:(0,x.jsx)(r.JO,{accessibilityLabel:o._('Edit board cover', 'BoardForm.BoardFormBoardCoverButton', 'Accessibility label on icon'),color:"default",icon:"edit",size:16})})})]}):(0,x.jsx)(r.xu,{alignItems:"center",color:n?"darkWash":"secondary",display:"flex",height:138,justifyContent:"center",rounding:4,width:138,children:(0,x.jsx)(r.JO,{accessibilityLabel:o._('Add cover photo', 'BoardForm.BoardFormCoverButton', 'Accessibility label on icon'),color:"default",icon:"add",size:24})})})})})}function B({children:e,label:a,labelId:o,subtext:n}){return(0,t.useEffect)(()=>{(0,l.Z)("BoardFormSettingsRow","/app/www/BoardForm/BoardFormSettingsRow.tsx")},[]),(0,x.jsx)(t.Fragment,{children:(0,x.jsxs)(r.xu,{alignItems:"center",display:"flex",justifyContent:"start",marginBottom:10,children:[e,(0,x.jsxs)(r.xu,{marginStart:2,children:[(0,x.jsx)(r.__,{htmlFor:o,children:(0,x.jsx)(r.xv,{size:"300",weight:"bold",children:a})}),n]})]})})}function A({hasCollabBoardEmail:e,isCollaborative:a,onCheckboxChange:o}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormCollaboratorsEmailCheckbox","/app/www/BoardForm/BoardFormCollaboratorsEmailCheckbox.tsx")},[]);let n=(0,d.Z)();return a&&(0,x.jsx)(B,{label:n._('Email notifications', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Form label'),labelId:"emailNotificationsCheckbox",subtext:(0,x.jsx)(r.xv,{color:"subtle",size:"300",children:n._('Get an email when someone saves Pins to this board', 'BoardForm.BoardFormCollaboratorsEmailCheckbox', 'Text explaing field on board form')}),children:(0,x.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(r.xu,{marginEnd:1,children:(0,x.jsx)(r.XZ,{checked:e,id:"emailNotificationsCheckbox",name:"email",onChange:o})})})})}var S=o(380938),z=o(319226),E=o(755559);function I({board:e,onCollaboratorInviteClick:a}){(0,t.useEffect)(()=>{(0,l.Z)("BoardCollaboratorsAndInviteSection","/app/www/boardEdit/BoardCollaboratorsAndInviteSection.tsx")},[]);let o=(0,d.Z)(),n=(0,E.Z)({boardId:e.id,ownerId:e.owner.id,ownerName:e.owner.full_name??"",ownerUsername:e.owner.username,ownerImgSrc:e.owner.image_medium_url||e.owner.image_small_url||""});return(0,x.jsxs)(r.kC,{alignItems:"center",justifyContent:"between",children:[(0,x.jsx)(z.HE,{collaborators:n.map(({name:e,src:a,color:o})=>({src:a?.endsWith("/default_75.png")?void 0:a,name:e,color:o})),size:"md"}),(0,x.jsx)(r.hU,{accessibilityLabel:o._('Invite collaborators', 'BoardEdit.BoardCollaboratorsAndInviteSection', 'Accessibility label on button'),bgColor:"lightGray",icon:"add",iconColor:"darkGray",onClick:a,size:"lg"})]})}function T({board:e,onCollaboratorInviteClick:a}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormCollaboratorsInviteList","/app/www/BoardForm/BoardFormCollaboratorsInviteList.tsx")},[]);let o=(0,d.Z)(),n=(0,x.jsxs)(r.kC,{alignItems:"center",justifyContent:"start",children:[(0,x.jsx)(r.qd,{accessibilityLevel:3,size:"200",children:(0,x.jsx)(r.xv,{inline:!0,size:"100",children:o._('Collaborators', ' - ', ' -- ')})}),(0,x.jsx)(S.Z,{}),(0,x.jsx)(r.xv,{inline:!0,size:"100",weight:"bold",children:(0,x.jsx)(r.rU,{accessibilityLabel:o._('Learn more about creating and managing group boards.', 'BoardForm.BoardFormCollaboratorsInviteList', 'Accessibility label for link to learn more about group boards'),display:"inlineBlock",href:"https://www.pinterest.com/_/_/help/article/group-boards?source=board_create",target:"blank",underline:"hover",children:o._('Learn more', ' - ', ' -- ')})})]});return(0,x.jsx)(P,{label:n,children:(0,x.jsx)(I,{board:e,onCollaboratorInviteClick:a})})}function L({collaboratorInvitesEnabled:e,isCollaborative:a,onCheckboxChange:o}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormCollaboratorsInviteToggle","/app/www/BoardForm/BoardFormCollaboratorsInviteToggle.tsx")},[]);let n=(0,d.Z)();return a&&(0,x.jsx)(B,{label:n._('Let collaborators add people', 'BoardForm.BoardFormCollaboratorsInviteToggle', 'Form label'),labelId:"collaboratorInvitesEnabledCheckbox",children:(0,x.jsx)(r.XZ,{checked:e,id:"collaboratorInvitesEnabledCheckbox",name:"collaboratorInvitesEnabled",onChange:o})})}function Z({description:e,descriptionValidatorErrors:a,onChange:o}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormDescription","/app/www/BoardForm/BoardFormDescription.tsx")},[]);let n=(0,d.Z)(),i="boardEditDescription";return(0,x.jsx)(P,{label:n._('Description', 'BoardForm.BoardFormDescription', ' Form field label'),labelId:i,children:(0,x.jsx)(r.Kx,{errorMessage:a.join(", "),id:i,name:"description",onChange:o,placeholder:n._('What\'s your board about?', ' - ', ' -- '),value:e})})}let K=({children:e})=>((0,t.useEffect)(()=>{(0,l.Z)("BoardFormList","/app/www/BoardForm/BoardFormList.tsx")},[]),(0,x.jsx)(r.xu,{paddingX:8,role:"list",children:t.Children.map(e,(a,o)=>a&&(0,x.jsx)(r.xu,{marginBottom:o===t.Children.count(e)-1?1:8,role:"listitem",children:a},o))}));function D({name:e,nameValidatorErrors:a,onChange:o,disabled:n}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormTitleInput","/app/www/BoardForm/BoardFormTitleInput.tsx")},[]);let i=(0,d.Z)();return(0,x.jsx)(P,{label:i._('Name', 'BoardForm.BoardFormTitleInput', 'Form field label'),labelId:"boardEditName",children:(0,x.jsx)(r.nv,{disabled:n,errorMessage:a.join(", "),id:"boardEditName",name:"boardName",onChange:o,placeholder:i._('Like "Places to Go" or "Recipes to Make"', ' - ', ' -- '),size:"lg",value:e})})}let M=({board:e,collabBoardEmail:a,collaboratorInvitesEnabled:o,coverPin:n,currentUserIsOwner:i,description:s,descriptionValidatorErrors:c,handleBoardLeave:u,isCollaborative:h,showCoverEdit:m,name:_,nameValidatorErrors:g,handleShowBoardCoverEditModal:b,handleChangeName:p,handleChangeDescription:f,handleShowCollaboratorsModal:y,handleChangeCollabBoardEmail:v,handleChangeCollaboratorInvitesEnabled:C,shouldShowCollaboratorsInviteToggle:k})=>{(0,t.useEffect)(()=>{(0,l.Z)("AdsOnlyBoardFormFields","/app/www/BoardForm/AdsOnlyBoardFormFields.tsx")},[]);let w=(0,d.Z)();return(0,x.jsxs)(K,{children:[m&&(0,x.jsx)(F,{coverPin:n,handleShowBoardCoverEditModal:b}),(0,x.jsx)(D,{disabled:!0,name:_,nameValidatorErrors:g,onChange:p}),(0,x.jsx)(Z,{description:s,descriptionValidatorErrors:c,onChange:f}),i&&!!u&&(0,x.jsx)(T,{board:e,onCollaboratorInviteClick:y}),h&&(0,x.jsx)(r.xu,{marginBottom:-7,children:(0,x.jsx)(r.xv,{size:"100",children:w._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form')})}),(0,x.jsx)(A,{hasCollabBoardEmail:a,isCollaborative:h,onCheckboxChange:v}),k&&(0,x.jsx)(L,{collaboratorInvitesEnabled:o,isCollaborative:h,onCheckboxChange:C})]})};var R=o(249459);function O({isProtectedToggler:e,isToggleDisable:a,onChange:o,onCheckboxChange:n,privacy:i}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormPrivacyToggle","/app/www/BoardForm/BoardFormPrivacyToggle.tsx")},[]);let s=(0,d.Z)();if(!0===e)return(0,x.jsx)(B,{label:s._('Protected board (not listed on user\'s profile)', 'BoardForm.BoardFormSecretToggle', 'protected board'),labelId:"protected",children:(0,x.jsx)(r.xu,{paddingY:2,children:(0,x.jsx)(r.rs,{disabled:a,id:"protected",onChange:o,switched:i===R.Z.BoardPrivacy.PROTECTED})})});if(i!==R.Z.BoardPrivacy.PROTECTED){let e=s._('Keep this board secret', 'BoardForm.BoardFormSecretToggle', 'Caption for board settings to set visibility'),o=(0,x.jsx)(t.Fragment,{children:(0,x.jsxs)(r.xv,{color:"subtle",inline:!0,size:"300",children:[s._('So only you and collaborators can see it.', 'BoardForm.BoardFormSecretToggle', 'notifying the board owner only they and the collaborators can see the board if it set to secret')," ",(0,x.jsx)(r.rU,{accessibilityLabel:s._('Learn more about secret boards.', 'BoardForm.BoardFormPrivacyToggle.Link', 'Accessibility label for link to learn more about secret boards'),display:"inline",href:"https://www.pinterest.com/_/_/help/article/change-board-privacy?source=secret_create",target:"blank",children:s._('Learn more', 'BoardForm.BoardFormSecretToggle', 'Link to learn more about secret boards')})]})});return(0,x.jsx)(B,{label:e,labelId:"secret",subtext:o,children:(0,x.jsx)(r.kC,{alignItems:"center",justifyContent:"start",children:(0,x.jsx)(r.XZ,{checked:i===R.Z.BoardPrivacy.SECRET,disabled:a,id:"secret",name:"secret",onChange:n})})})}return null}function V({allowHomefeedRecommendations:e,onCheckboxChange:a}){(0,t.useEffect)(()=>{(0,l.Z)("BoardFormRecommendationToggle","/app/www/BoardForm/BoardFormRecommendationToggle.tsx")},[]);let o=(0,d.Z)();return(0,x.jsx)(B,{label:o._('Personalization', 'BoardForm.BoardFormRecommendationToggle', 'form label'),labelId:"recommendation",subtext:(0,x.jsx)(r.xv,{color:"subtle",size:"300",children:o._('Show Pins inspired by this board in your home feed.', 'BoardForm.BoardFormRecommendationToggle', 'Caption for board settings to set visibility')}),children:(0,x.jsx)(r.XZ,{checked:e,id:"recommendation",name:"recommendation",onChange:a})})}var U=o(659575);function N(e,a,o){var l;return(a="symbol"==typeof(l=function(e,a){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,a||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a,"string"))?l:l+"")in e?Object.defineProperty(e,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[a]=o,e}let H=(0,t.lazy)(()=>Promise.all([o.e("25418"),o.e("62460")]).then(o.bind(o,953144))),q=(0,t.lazy)(()=>Promise.all([o.e("5696"),o.e("93235")]).then(o.bind(o,87918))),G=({condition:e,children:a})=>e?(0,x.jsx)(r.xu,{position:"absolute",zIndex:s.b7,children:a}):a;class W extends t.Component{constructor(e){super(e),N(this,"handleChangeName",({value:e})=>{let a=(0,b.FU)((0,U.D)(this.props.i18n),e);this.setState({name:e,nameValidatorErrors:a})}),N(this,"handleChangeDescription",({value:e})=>{let a=(0,b.FU)((0,U.e)(this.props.i18n),e);this.setState({description:e,descriptionValidatorErrors:a})}),N(this,"handleChangePrivacyToggle",({value:e})=>{let a="public";e&&(a=this.props.isAdAccount?"protected":"secret"),this.state.privacy!==a&&this.setState({privacy:a})}),N(this,"handleEnableSecret",()=>{this.setState({privacy:"secret",showSecretConfirmation:!1})}),N(this,"handleHideSecretConfirmation",()=>{this.setState({showSecretConfirmation:!1})}),N(this,"handleChangeRecommendationToggle",({value:e})=>{this.setState({allowHomefeedRecommendations:e})}),N(this,"handleChangeCollabBoardEmail",({value:e})=>{this.setState({collab_board_email:e})}),N(this,"handleChangeCollaboratorInvitesEnabled",({value:e})=>{this.setState({collaboratorInvitesEnabled:e})}),N(this,"handleCheckboxChange",e=>({event:a,checked:o})=>e({event:a,value:o})),N(this,"handleSubmit",e=>{let{onSubmit:a,shouldShowCollaboratorsInviteToggle:o}=this.props,{collab_board_email:l,collaboratorInvitesEnabled:t,description:r,name:i,privacy:s,allowHomefeedRecommendations:d}=this.state;if("preventDefault"in e&&e.preventDefault&&e.preventDefault(),this.submitDisabled())return;let c=i.trim(),u=r.trim();this.setState({submitting:!0,submitError:""}),a(o?{name:c,collab_board_email:l,collaborator_invites_enabled:t,description:u,privacy:s,allow_homefeed_recommendations:d}:{name:c,collab_board_email:l,description:u,privacy:s,allow_homefeed_recommendations:d}).then(()=>{this.setState({submitting:!1})}).catch(e=>{let a=this.props.i18n._('Uh oh! Something went wrong.', ' - ', ' -- '),o=(0,n.Z)(e,"message");if(o){let l=(0,n.Z)(e,"message_detail");a=l?`${o} ${l}`:o}else"string"==typeof e&&(a=e);this.setState({submitting:!1,submitError:a})})}),N(this,"handleShowBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!0})}),N(this,"handleHideBoardCoverEditModal",()=>{this.setState({showBoardCoverEdit:!1})}),N(this,"handleShowCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!0})}),N(this,"handleHideCollaboratorsModal",()=>{this.setState({showCollaboratorsModal:!1})}),N(this,"handleSaveBoardCoverEditModal",e=>{this.handleHideBoardCoverEditModal();let{onCropChange:a}=this.props;a&&a(e)});let{board:{collab_board_email:a,collaborator_invites_enabled:o,description:l,name:t,pin_count:r,privacy:i,allow_homefeed_recommendations:s}}=e;this.state={collab_board_email:a,description:l,name:t,pin_count:r,privacy:i,allowHomefeedRecommendations:s,collaboratorInvitesEnabled:o,nameValidatorErrors:[],descriptionValidatorErrors:[],showBoardCoverEdit:!1,showCollaboratorsModal:!1,showSecretConfirmation:!1,submitting:!1,previousName:t,previousDescription:l,previousPrivacy:i}}static getDerivedStateFromProps(e,a){let o={};return e.board.name&&e.board.name!==a.previousName&&(o.previousName=e.board.name,o.nameValidatorErrors=(0,b.FU)((0,U.D)(e.i18n),e.board.name)),e.board.description&&e.board.description!==a.previousDescription&&(o.previousDescription=e.board.description,o.descriptionValidatorErrors=(0,b.FU)((0,U.e)(e.i18n),e.board.description)),e.board.privacy&&e.board.privacy!==a.previousPrivacy&&(o.previousPrivacy=e.board.privacy),o}getFormFooter(){let{submitText:e}=this.props,{submitError:a}=this.state;return(0,x.jsxs)(t.Fragment,{children:[(0,x.jsx)(r.kC,{alignItems:"center",justifyContent:"end",wrap:!0,children:(0,x.jsx)(r.xu,{children:(0,x.jsx)(r.kC,{alignItems:"stretch",justifyContent:"start",children:(0,x.jsx)(r.xu,{height:48,children:(0,x.jsx)(r.zx,{color:"red",dataTestId:"board-form-submit-button",disabled:this.submitDisabled(),onClick:this.handleSubmit,size:"lg",text:e,type:"submit"})})})})}),a&&(0,x.jsx)(r.xu,{"aria-live":"polite",paddingX:1,tabIndex:0,children:(0,x.jsx)(r.xv,{color:"error",children:a})})]})}submitDisabled(){let{descriptionValidatorErrors:e,name:a,nameValidatorErrors:o,submitting:l}=this.state;return!a||o.length>0||e.length>0||l}render(){let{board:e,board:{archived_by_me_at:a,cover_pin:o,id:l,is_collaborative:n},coverImageHeight:d,coverImageWidth:u,currentUserIsOwner:h,handleBoardLeave:_,isAdAccount:g,isAdAccountOwner:b,isDeletable:f,isDesktop:y,isEditable:v,isNameAndSecretView:w,onClose:j,onDeleteButtonClick:P,requestContext:B,title:S,useModalWithNoLayer:z,showSecretBoardCreateToggle:E,shouldShowAddCollaborators:I,shouldShowCollaboratorsInviteToggle:R,setSelectedContacts:U,selectedContacts:N,isProfilePublisher:W,shouldUseOverlayPanel:J}=this.props,{allowHomefeedRecommendations:X,collab_board_email:Y,collaboratorInvitesEnabled:$,description:Q,descriptionValidatorErrors:ee,name:ea,nameValidatorErrors:eo,pin_count:el,privacy:et,showBoardCoverEdit:er,showCollaboratorsModal:en,showSecretConfirmation:ei}=this.state,es=v&&el>0,ed=e.is_ads_only,ec=(0,x.jsxs)(K,{children:[es&&(0,x.jsx)(F,{coverPin:o,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal}),(0,x.jsx)(D,{disabled:ed,name:ea,nameValidatorErrors:eo,onChange:this.handleChangeName}),(0,x.jsx)(Z,{description:Q,descriptionValidatorErrors:ee,onChange:this.handleChangeDescription}),h&&!!_&&(0,x.jsx)(T,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsxs)(r.pg,{legend:this.props.i18n._('Settings', 'BoardForm.BoardForm', 'Section heading in board edit form'),children:[(0,x.jsx)(O,{isProtectedToggler:!!g,isToggleDisable:!!g&&!b&&!W,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),!a&&(0,x.jsx)(V,{allowHomefeedRecommendations:X,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(A,{hasCollabBoardEmail:Y,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),R&&(0,x.jsx)(L,{collaboratorInvitesEnabled:$,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled)})]}),f&&(0,x.jsxs)(r.xu,{marginTop:-15,paddingY:4,children:[(0,x.jsx)(r.X6,{accessibilityLevel:3,size:"200",children:(0,x.jsx)(r.xv,{inline:!0,size:"100",children:this.props.i18n._('Action', 'BoardForm.BoardForm.Action', 'Section heading in board edit form')})}),(0,x.jsxs)(r.iP,{onTap:P,children:[(0,x.jsx)(r.xu,{"data-test-id":"deleteBoardButton",marginBottom:1,marginTop:2,children:(0,x.jsx)(r.X6,{accessibilityLevel:4,size:"400",children:this.props.i18n._('Delete board', 'BoardForm.Delete', 'Delete board label')})}),(0,x.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n._('You have {{ MAX_AGE_RECENTLY_DELETED_BOARD }}  days to restore a deleted Board. After that, it will be permanently deleted.', 'boardForm.delete.helperText', 'Delete board warning text'),{MAX_AGE_RECENTLY_DELETED_BOARD:p.Xq})})]})]})]});h?w&&(ec=(0,x.jsxs)(K,{children:[(0,x.jsx)(D,{disabled:ed,name:ea,nameValidatorErrors:eo,onChange:this.handleChangeName}),!E&&(0,x.jsx)(O,{isProtectedToggler:!!g,isToggleDisable:!!g&&!b&&!W,onChange:this.handleChangePrivacyToggle,onCheckboxChange:this.handleCheckboxChange(this.handleChangePrivacyToggle),privacy:et}),I&&(0,x.jsx)(C,{selectedContacts:N,setSelectedContacts:U})]})):ec=(0,x.jsxs)(K,{children:[!!_&&(0,x.jsx)(T,{board:e,onCollaboratorInviteClick:this.handleShowCollaboratorsModal}),(0,x.jsx)(A,{hasCollabBoardEmail:Y,isCollaborative:n,onCheckboxChange:this.handleCheckboxChange(this.handleChangeCollabBoardEmail)}),!a&&ed&&(0,x.jsx)(V,{allowHomefeedRecommendations:X,onCheckboxChange:this.handleCheckboxChange(this.handleChangeRecommendationToggle)}),(0,x.jsx)(r.xv,{color:"subtle",size:"300",children:(0,c.nk)(this.props.i18n._('Only the board\u2019s owner ({{ boardOwner }}) can manage the rest of its features', 'BoardForm.CollaboratorPermissionsCopy', 'Copy on board edit form letting collaborators know of their permissions on a board'),{boardOwner:(0,x.jsx)(r.xv,{color:"subtle",inline:!0,size:"300",weight:"bold",children:e.owner.full_name})})})]});let eu=z?r.u_:i.ZP,eh=this.props.i18n._('Change board cover', 'BoardForm.BoardCoverEdit.heading', 'Change board cover heading'),em=(0,x.jsxs)(r.xu,{paddingY:8,position:"relative",children:[(0,x.jsx)(r.X6,{align:"center",size:"600",children:eh}),(0,x.jsx)(r.xu,{left:B.isRTL,paddingX:6,paddingY:8,position:"absolute",right:!B.isRTL,top:!0,children:(0,x.jsx)(r.hU,{accessibilityLabel:this.props.i18n._('Cancel change board cover', 'BoardForm.BoardCoverEdit.cancel', 'Cancel change board cover heading'),icon:"cancel",iconColor:"darkGray",onClick:this.handleHideBoardCoverEditModal,size:"md"})})]}),e_=this.props.i18n._('Board form', 'BoardForm.BoardForm', 'Accessibility label on board form'),eg=(0,x.jsx)(r.xu,{"data-test-id":"board-form-container",marginEnd:"auto",marginStart:"auto",rounding:2,children:(0,x.jsxs)("form",{method:"post",onSubmit:this.handleSubmit,children:[!ed&&ec,ed&&(0,x.jsx)(M,{board:e,collabBoardEmail:Y,collaboratorInvitesEnabled:$,coverPin:o,currentUserIsOwner:h,description:Q,descriptionValidatorErrors:ee,handleBoardLeave:_,handleChangeCollabBoardEmail:this.handleCheckboxChange(this.handleChangeCollabBoardEmail),handleChangeCollaboratorInvitesEnabled:this.handleCheckboxChange(this.handleChangeCollaboratorInvitesEnabled),handleChangeDescription:this.handleChangeDescription,handleChangeName:this.handleChangeName,handleShowBoardCoverEditModal:this.handleShowBoardCoverEditModal,handleShowCollaboratorsModal:this.handleShowCollaboratorsModal,isCollaborative:n,name:ea,nameValidatorErrors:eo,shouldShowCollaboratorsInviteToggle:R,showCoverEdit:es})]})}),eb=J?(0,x.jsx)(r.mh,{zIndex:s.b7,children:(0,x.jsx)(r.To,{accessibilityLabel:e_,closeOnOutsideClick:!0,footer:this.getFormFooter(),heading:this.props.overlayPanelHeadingText,onDismiss:j,size:"sm",children:eg})}):(0,x.jsx)(G,{condition:!!z,children:(0,x.jsx)(eu,{accessibilityModalLabel:e_,footer:this.getFormFooter(),heading:S,onDismiss:j,size:"sm",children:eg})});return(0,x.jsxs)(t.Fragment,{children:[!er&&!en&&eb,er&&y&&(0,x.jsx)(m.Z,{children:(0,x.jsx)(H,{boardId:l,boardName:ea,coverPinId:o?.pin_id,frameHeight:d,frameWidth:u,heading:em,onCancel:this.handleHideBoardCoverEditModal,onSave:this.handleSaveBoardCoverEditModal})}),ei&&(0,x.jsx)(k.Z,{confirmButtonLabel:this.props.i18n._('Make secret', 'Setting the boards visibility to secret', 'Setting the boards visibility to secret'),heading:this.props.i18n._('Are you sure?', 'Warning label asking users to be sure of their action', 'Warning label asking users to be sure of their action'),message:this.props.i18n._('If you make this board secret, some active ads will stop running', 'Explicitly warning users of the board visibility action they are doing', 'Explicitly warning users of the board visibility action they are doing'),onCancel:this.handleHideSecretConfirmation,onConfirm:this.handleEnableSecret}),en&&(0,x.jsx)(m.Z,{children:(0,x.jsx)(q,{board:e,fromBoardEditModal:!0,onDismiss:this.handleHideCollaboratorsModal})})]})}componentDidMount(){(0,l.Z)("BoardForm","/app/www/BoardForm/BoardForm.tsx")}}function J(e){(0,t.useEffect)(()=>{(0,l.Z)("BoardForm","/app/www/BoardForm/BoardForm.tsx")},[]);let a=(0,d.Z)(),o=(0,g.ZP)(),{checkExperiment:r}=(0,u.Z)(),n=!r("sg_hide_collab_invite_on_edit_modal").anyEnabled;return(0,x.jsx)(W,{...e,i18n:a,isDesktop:"desktop"===o,requestContext:(0,h.B)(),shouldShowCollaboratorsInviteToggle:n,toastManagerContext:(0,_.dI)()})}N(W,"defaultProps",{isNameAndSecretView:!1})},380108:function(e,a,o){o.d(a,{C:()=>l,Z:()=>r});let{Provider:l,get:t}=(0,o(213491).Z)("Header"),r=t},529312:function(e,a,o){o.d(a,{A:()=>i,w:()=>s});var l=o(667294),t=o(213491),r=o(785893);let{Provider:n,get:i}=(0,t.Z)("Session");function s({children:e}){let[a,o]=(0,l.useState)(void 0),t=(0,l.useCallback)(()=>o(void 0),[]),i=(0,l.useMemo)(()=>({unauthFollowUserId:a,setUnauthFollowUserId:o,removeUnauthFollowUserId:t}),[a,t]);return(0,r.jsx)(n,{value:i,children:e})}},832333:function(e,a,o){o.d(a,{Z:()=>u});var l=o(686659),t=o(667294),r=o(740097),n=o(785893);function i(e){return`${Math.min(100*e,100)}%`}function s({customCover:e,imgPos:a,imgUrl:o}){let[l,r]=(0,t.useState)({height:0,loaded:!1,width:0}),{height:n,loaded:s,width:d}=l;if((0,t.useEffect)(()=>{let e=new Image;e.onload=()=>{r({height:e.naturalHeight,loaded:!0,width:e.naturalWidth})},e.src=o},[o]),!e||!a||!n||!d)return{loaded:s,position:"center center"};let c=d-a.width,u=n-a.height,h=c>0?i(a.x/c):"center",m=u>0?i(a.y/u):"center";return{loaded:s,position:`${h} ${m}`}}function d(e){let{loaded:a,position:o}=s(e),{imgUrl:l}=e,t={backgroundImage:`url(${l})`,backgroundPosition:o,backgroundRepeat:"no-repeat",backgroundSize:"cover",minHeight:"100%",backgroundColor:"#EFEFEF",position:"relative"};return(0,n.jsx)(r.xu,{"data-test-id":"cover-image-box",height:"100%",width:"100%",children:a&&(0,n.jsx)(r.xu,{dangerouslySetInlineStyle:{__style:t},"data-test-id":"cover-image",children:(0,n.jsx)("div",{className:"imageWash",style:{position:"absolute"}})})})}function c(e){let{loaded:a,position:o}=s(e),{alt:l,color:t,imgUrl:i}=e;return(0,n.jsx)(r.zd,{height:"100%",width:"100%",children:a&&(0,n.jsx)("img",{alt:l||"",src:i,style:{backgroundColor:t||"#EFEFEF",fetchPriority:"cover",height:"100%",loading:"auto",objectFit:"cover",objectPosition:o,width:"100%"}})})}function u(e){(0,t.useEffect)(()=>{(0,l.Z)("CoverImage","/app/www/board/CoverImage.tsx")},[]);let{renderAsImage:a}=e;return a?(0,n.jsx)(c,{...e}):(0,n.jsx)(d,{...e})}},748261:function(e,a,o){o.d(a,{Z:()=>w});var l,t,r=o(686659),n=o(667294);o(244311);var i=o(740097),s=o(183e3),d=o(24246),c=o(78835),u=o(501010),h=o(774838),m=o(739405),_=o(594502),g=o(464094),b=o(832333),p=o(785893);function f({backgroundColor:e="darkGray",iconColor:a="inverse",iconSize:o,privacy:l,size:t=20}){(0,n.useEffect)(()=>{(0,r.Z)("PrivacyIcon","/app/www/board/duplo/PrivacyIcon.tsx")},[]);let s=(0,d.Z)();return(0,p.jsx)(i.xu,{alignItems:"center",color:e,direction:"column",display:"flex",height:t,justifyContent:"center",rounding:"circle",width:t,children:(0,p.jsx)(i.JO,{accessibilityLabel:s._('Secret board icon', 'Icon indicating that a board is secret', 'Icon indicating that a board is secret'),color:a,icon:"secret"===l?"lock":"security",size:o??t/2})})}var y=o(227866),v=o(235623);let x=(void 0!==l||(l=o(53713)).hash&&"0e2c441822700a6145ea7cd142c0425b"!==l.hash&&console.error("The definition of 'DrawerImageGroup_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),C=(void 0!==t||(t=o(943751)).hash&&"35b139c2e951baaa6624b30e45f913ce"!==t.hash&&console.error("The definition of 'DrawerImageGroup_coverPin' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),k="100%";function w(e){(0,n.useEffect)(()=>{(0,r.Z)("DrawerImageGroup","/app/www/board/DrawerImageGroup.tsx")},[]);let a=(0,d.Z)(),{boardKey:o,canEdit:l,containerBackgroundColor:t="white",coverPhoto:w,coverPinKey:j,fullSize:P,hideSecretBoardIcon:F,images:B,isActive:A,isHomePageBoards:S,isProtected:z,isSecret:E,layout:I,onEditClick:T,renderAsImage:L,showSensitivityScreen:Z}=e,K=(0,m.HG)(),{isRTL:D,isAuthenticated:M}=(0,h.B)(),R=(0,s.Z)(x,o),O=(0,s.Z)(C,j),V=(0,n.useRef)(null),U=K&&M,{checkExperiment:N}=(0,u.Z)(),[H,q]=(0,n.useState)(!1);(0,n.useEffect)(()=>{A&&U&&R&&!E&&!H&&q(N("ce_dweb_board_preview_share_button").anyEnabled)},[A,U,R,E,H,N]);let G=(0,n.useRef)(void 0);(0,n.useEffect)(()=>{A?G.current&&(clearTimeout(G.current),G.current=void 0):G.current||(G.current=window.setTimeout(()=>{G.current=void 0,A||q(!1)},200))},[A]),(0,n.useEffect)(()=>()=>{G.current&&clearTimeout(G.current)},[]);let W=B[0],J=!w&&B[0]?.name||a._('Cover image', 'DrawerImageGroup', 'Alt text for the main image of a board'),X=[,,].fill(0),Y=new i.Ry(1),$="square"===I?g.M0:g.z9,Q="square"===I?g.FP:g.FC,ee=W?.url?(0,p.jsx)(i.Ee,{alt:J,color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:W.url}):(0,p.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"}),ea=Z?{filter:"blur(20px)"}:{};return(0,p.jsxs)(i.zd,{height:P?"100%":void 0,rounding:4,width:"100%",children:[(0,p.jsxs)(i.kC,{alignItems:"stretch",direction:"row",height:"100%",justifyContent:"start",children:[(0,p.jsx)(i.sg,{span:8,children:(0,p.jsx)(i.xu,{dangerouslySetInlineStyle:{__style:ea},height:P?"100%":void 0,position:"relative",children:(0,p.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:k}},overflow:"hidden",width:"100%",children:(0,p.jsxs)(i.xu,{ref:V,bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:S?"#FFDFE9":t,borderStyle:"solid",borderWidth:"1px 0 1px 1px",borderRadius:"16px 0 0 16px"}},"data-test-id":"drawer-image-group-first-image-container",left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:[(z||E)&&!F&&(0,p.jsx)(i.xu,{left:!D,margin:2,position:"absolute",right:D,top:!0,zIndex:Y,children:(0,p.jsx)(f,{backgroundColor:"default",iconColor:"default",privacy:E?"secret":"protected",size:U?32:24})}),w?.url?(0,p.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,p.jsx)(b.Z,{customCover:w.isCustom,height:Q,imgPos:O?function(e){let{crop:a,size:o}=e||{};if(Array.isArray(a)&&Array.isArray(o))return{x:a[0]||0,y:a[1]||0,width:o[0]||0,height:o[1]||0}}(O):w.position||{width:0,height:0,x:0,y:0},imgUrl:O?.imageUrl??(w.url||""),renderAsImage:L,width:Math.floor($/3*2)})}):ee]})})})}),(0,p.jsx)(i.sg,{span:4,children:(0,p.jsxs)(i.xu,{dangerouslySetInlineStyle:{__style:ea},height:"100%",children:[(l||H)&&(0,p.jsxs)(i.xu,{bottom:!0,display:H?"flex":void 0,left:D,margin:2,opacity:+!!A,position:"absolute",right:!D,zIndex:Y,children:[l&&(0,p.jsx)(i.iP,{onTap:({event:e})=>T?.(e),children:(0,p.jsx)(i.hU,{accessibilityLabel:a._('Edit', 'DrawerImageGroup.edit', 'Icon indicating that a board is editable'),bgColor:"white",icon:"edit",iconColor:"darkGray",size:"sm",tabIndex:-1})}),H&&(0,p.jsx)(i.iP,{onTap:({event:e})=>{e.preventDefault(),e.stopPropagation()},children:(0,p.jsx)(i.xu,{marginStart:1,children:(0,p.jsx)(v.Z,{boardKey:R,disableSelectedStyle:!0,handleCreatePincode:()=>{},iconColor:"darkGray",isShowShareIcon:!0,size:"sm"})})})]}),X.map((e,a)=>{let o=w?B[a]:B[a+1];return(0,p.jsx)(i.xu,{height:P?"50%":void 0,position:"relative",children:(0,p.jsx)(i.xu,{color:"secondary",dangerouslySetInlineStyle:{__style:{paddingBottom:k}},overflow:"hidden",width:"100%",children:(0,p.jsx)(i.xu,{bottom:!0,dangerouslySetInlineStyle:{__style:{borderColor:S?"#FFDFE9":t,borderStyle:"solid",borderWidth:0===a?1:"0 1px 1px 1px",borderRadius:0===a?"0 16px 0 0":"0 0 16px 0"}},left:!0,overflow:"hidden",position:"absolute",right:!0,top:!0,children:o?.url?(0,p.jsx)(i.zd,{height:"100%",wash:!0,width:"100%",children:(0,p.jsx)(i.Ee,{alt:"",color:"#efefef",fit:"cover",naturalHeight:133,naturalWidth:133,src:o.url})}):(0,p.jsx)(i.xu,{color:"secondary",height:"100%",width:"100%"})})})},a)})]})}),Z&&(0,p.jsx)(i.xu,{alignItems:"center",dangerouslySetInlineStyle:{__style:{background:"rgba(0,0,0,0.5)"}},display:"flex",height:"100%",justifyContent:"center",position:"absolute",top:!0,width:"100%",children:(0,p.jsx)(i.qd,{align:"center",color:"light",size:"400",children:a._('This board may contain sensitive content', 'drawerImageGroup.sensitivityScreen.heading', 'Warning text for a board that may have sensitive content')})})]}),(0,p.jsx)(_.Z,{visibility:A?"visible":"none",children:(0,p.jsx)(y.Z,{additionalStyles:{backgroundColor:c.Dv.LEGO_WASH}})})]})}},925347:function(e,a,o){o.d(a,{Z:()=>d});var l=o(686659),t=o(667294),r=o(740097),n=o(465784),i=o(24246),s=o(785893);function d({cancelButtonLabel:e,confirmButtonLabel:a,heading:o,message:d,onCancel:c,onConfirm:u}){(0,t.useEffect)(()=>{(0,l.Z)("BoardEditConfirmation","/app/www/boardEdit/BoardEditConfirmation.tsx")},[]);let h=(0,i.Z)(),m=o||h._('Are you sure?', ' - ', ' -- '),_=e||h._('Cancel', ' - ', ' -- ');return(0,s.jsx)(n.ZP,{accessibilityModalLabel:m,footer:(0,s.jsxs)(r.xu,{marginEnd:-1,marginStart:-1,children:[(0,s.jsx)(r.xu,{"data-test-id":"cancel-button",padding:1,children:(0,s.jsx)(r.zx,{fullWidth:!0,onClick:c,size:"lg",text:_})}),(0,s.jsx)(r.xu,{"data-test-id":"confirm-button",padding:1,children:(0,s.jsx)(r.zx,{color:"red",fullWidth:!0,onClick:u,size:"lg",text:a})})]}),heading:m,onDismiss:c,role:"alertdialog",children:(0,s.jsx)(r.xu,{padding:4,children:(0,s.jsx)(r.xv,{children:d})})})}},36776:function(e,a,o){o.d(a,{m:()=>t,o:()=>l});let{Provider:l,get:t}=(0,o(213491).Z)("LimitedLogin")},229127:function(e,a,o){o.d(a,{N4:()=>r,Wh:()=>l,hr:()=>t});let l=e=>e._('Log in to continue', 'limitedLogin.modalHeader.default', 'Default title on mobile web limited login modal'),t=e=>e._('You\'re almost there! Log in to access all of Pinterest', 'loginModal.limitedLogin.subheader', 'Subheader text on personalized login modal/flyout to remind users to log in'),r=({i18n:e,toFollow:a})=>a?e._('Log in to follow', 'limitedLogin.modalHeader.follow', 'Title on mobile web limited login modal to prompt users to login to follow a user or board.'):e._('Log in to unfollow', 'limitedLogin.modalHeader.unfollow', 'Title on mobile web limited login modal to prompt users to login to unfollow a user or board.')},211731:function(e,a,o){o.d(a,{A8:()=>v,CQ:()=>P,Cf:()=>f,DK:()=>g,GJ:()=>j,RZ:()=>x,SD:()=>C,aN:()=>F,h6:()=>p,tV:()=>w,xx:()=>y,yC:()=>B,zC:()=>b});var l,t,r,n,i,s,d,c=o(581722),u=o(167912),h=o(27399),m=o(230201),_=o(681698);let g=()=>{let e=(void 0!==l||(l=o(497818)).hash&&"850c5de9834cac0edfdd5652a78bffbf"!==l.hash&&console.error("The definition of 'collab_users_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l),[a]=(0,u.useMutation)(e),{logContextEvent:t}=(0,m.u)();return async(e,o,l)=>{let r={boardId:e,collaboratorIds:o,message:l||""};return await new Promise((o,l)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&l(r[0]),t({event_type:28,object_id_str:e}),o()},onError:e=>l(e)})})}},b=()=>{let e=(void 0!==t||(t=o(286796)).hash&&"de392a939a95d05f7ee889fe77a9e52d"!==t.hash&&console.error("The definition of 'collab_emails_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),t),[a]=(0,u.useMutation)(e),{logContextEvent:l}=(0,m.u)();return async(e,o,t)=>{let r={boardId:e,emails:o,message:t||""};return await new Promise((o,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),l({event_type:28,object_id_str:e}),o()},onError:e=>t(e)})})}},p=()=>{let e=(void 0!==r||(r=o(917436)).hash&&"40ae8061007ba5f53a4570e43e4ca864"!==r.hash&&console.error("The definition of 'collab_ApproveInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),r),[a]=(0,u.useMutation)(e),{logContextEvent:l}=(0,m.u)();return async(e,o)=>{let t={boardId:e,userId:o};return await new Promise((o,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),l({event_type:32,object_id_str:e}),o(a)},onError:e=>r(e)})})}};function f(e,a){return async o=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"POST",data:{collaborator:a}}),o({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST",payload:{boardId:e,collaboratorId:a}})}}function y(e,a){return async o=>{await (0,_.Z)({url:`/v3/boards/${e}/collaborators/requests/ownership/`,method:"DELETE",data:{collaborator:a}}),o({type:"BOARD_OWNERSHIP_TRANSFER_REQUEST_CANCEL",payload:{boardId:e}})}}let v=(e,a)=>({type:"BOARD_INVITE_ACCEPTED_BY_VIEWER",payload:{boardId:e,collaboratingUser:a}}),x=()=>{let e=(void 0!==n||(n=o(339442)).hash&&"7005ce437a6a6ff33741ab44aa02cf61"!==n.hash&&console.error("The definition of 'collab_AcceptInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),n),[a]=(0,u.useMutation)(e),{logContextEvent:l}=(0,m.u)();return async e=>{let o={boardId:e};return await new Promise((t,r)=>{a({variables:{...o},onCompleted:(a,o)=>{o&&r(o[0]),l({event_type:32,object_id_str:e}),t(a)},onError:e=>r(e)})})}},C=(e,a,o)=>async l=>{l(v(e,a)),(await h.Z.create("BoardInviteResource",{board_id:e,invited_user_id:a.id}).callUpdate()).resource_response.error||o({event_type:32,object_id_str:e})};function k(e,a){return{type:"BOARD_REQUEST_TO_JOIN",payload:{boardId:e,value:a}}}let w=()=>{let e=(void 0!==i||(i=o(905709)).hash&&"9aa22a7713214239538142ad2c957cc3"!==i.hash&&console.error("The definition of 'collab_RequestToJoin_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),i),[a]=(0,u.useMutation)(e),l=(0,c.I0)();return async e=>{let o={boardId:e};return await new Promise((t,r)=>{a({variables:{...o},onCompleted:(a,o)=>{o&&(l(k(e,!1)),r(o[0])),l(k(e,!0)),t(a)},onError:a=>{l(k(e,!1)),r(a)}})})}};function j(e,a){return o=>{(0,_.Z)({url:`/v3/boards/${e}/collaborators/invite/${a}/`,method:"DELETE",data:{board:e,user:a}}).catch(()=>{o(k(e,!0))}),o(k(e,!1))}}let P=()=>{let e=(void 0!==s||(s=o(932522)).hash&&"c62e5df78917dd238b70f366f358d487"!==s.hash&&console.error("The definition of 'collab_DeclineOrDeleteBoardCollaboratorInvite_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),s),[a]=(0,u.useMutation)(e),{logContextEvent:l}=(0,m.u)();return async(e,o,t)=>{let r={boardId:e,userId:o,ban:t||!1};return await new Promise((o,t)=>{a({variables:{...r},onCompleted:(a,r)=>{r&&t(r[0]),l({event_type:29,object_id_str:e}),o(a)},onError:e=>t(e)})})}},F=()=>{let e=(void 0!==d||(d=o(10028)).hash&&"2c3e1508650962adfff1171e950fa419"!==d.hash&&console.error("The definition of 'collab_RemoveBoardCollaborators_Mutation' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),d),[a]=(0,u.useMutation)(e),{logContextEvent:l}=(0,m.u)();return async(e,o)=>{let t={board:e,collaboratorIds:[o]};return await new Promise((o,r)=>{a({variables:{...t},onCompleted:(a,t)=>{t&&r(t[0]),l({event_type:29,object_id_str:e}),o(a)},onError:e=>r(e)})})}},B=()=>{let e=P(),a=F();return(o,l,t)=>async()=>{let{invited_user:l,status:r,board:{id:n}}=o;l&&("accepted"===r?await a(n,l.id):await e(n,l.id,t))}}},755559:function(e,a,o){o.d(a,{I:()=>i,Z:()=>n});var l=o(661376),t=o(718846);let r=({boardId:e,ownerId:a,ownerUsername:o,ownerName:r,ownerImgSrc:n})=>{let i=(0,t.Z)(),{data:s,isLoaded:d}=(0,l.Z)({name:"BoardInvitesResource",options:{board_id:e,field_set_key:"boardEdit",status_filters:"new,accepted,contact_request_not_approved",sort:"viewer_first",include_inactive:!0,...i?{orbac_subject_id:i}:{}}}),c=[{id:a,name:r,src:n,href:`/${o}/`,isDim:!1}];return d&&s&&s.length>0&&s.forEach(e=>{c.push({id:e.invited_user?e.invited_user.id:"",name:e&&e.invited_user?e.invited_user.full_name:"",color:e&&e.invited_user?e.invited_user.avatar_color_index:void 0,src:e&&e.invited_user?e.invited_user.image_medium_url:"",href:e&&e.invited_user?`/${e.invited_user.username}/`:"",isDim:e&&["new","contact_request_not_approved"].includes(e.status)})}),c},n=r;function i({children:e,...a}){return e(r(a))}},395878:function(e,a,o){o.d(a,{Z:()=>g});var l,t=o(686659),r=o(667294);o(167912);var n=o(740097),i=o(943152),s=o(183e3),d=o(24246),c=o(36351),u=o(500602),h=o(785893);let m=(void 0!==l||(l=o(954881)).hash&&"f459445ee8d1ea0db022e490ef5a2e80"!==l.hash&&console.error("The definition of 'SendBoardFlyout_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);class _ extends r.Component{constructor(...e){var a,o,l;super(...e),o={flyoutOpen:!1},(a="symbol"==typeof(l=function(e,a){if("object"!=typeof e||!e)return e;var o=e[Symbol.toPrimitive];if(void 0!==o){var l=o.call(e,a||"default");if("object"!=typeof l)return l;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(e)}(a="state","string"))?l:l+"")in this?Object.defineProperty(this,a,{value:o,enumerable:!0,configurable:!0,writable:!0}):this[a]=o}render(){let{board:e,bgColor:a="white",children:o,disableSelectedStyle:l,iconColor:t="subtle",onCreatePincode:i,showTooltip:s,size:d="lg"}=this.props,{flyoutOpen:m}=this.state,_={description:e?.description,id:e?.entityId??"",imageUrl:e?.imageCoverUrl,name:e?.name??void 0,type:"board",url:e?.url??void 0},g=e=>{let{requireAuth:a}=this.props;if(a){e&&e.preventDefault(),a();return}this.state.flyoutOpen||this.props.onOpen(),this.setState(e=>({flyoutOpen:!e.flyoutOpen}))},b=o&&o({active:m,onClick:()=>g()})||(0,h.jsx)(n.hU,{ref:this.props.sendBoardButtonRef,accessibilityLabel:this.props.i18n._('Send Board', 'Accessible label for button to send board', 'Accessible label for button to send board'),bgColor:a,dataTestId:"send-board-button-icon",icon:"share",iconColor:t,onClick:({event:e})=>g(e),selected:!l&&m,size:d,tooltip:s?{text:this.props.i18n._('Share board', 'sendBoardFlyout.button.tooltip', 'Tooltip for button to share board')}:void 0});return(0,h.jsxs)(r.Fragment,{children:[(0,h.jsx)(n.xu,{ref:e=>{this.anchor=e},children:b}),this.state.flyoutOpen&&(0,h.jsx)(n.mh,{zIndex:u.m6,children:(0,h.jsx)(n.J2,{anchor:this.anchor,idealDirection:"down",onDismiss:()=>g(),positionRelativeToAnchor:!1,size:"flexible",children:(0,h.jsx)(c.Z,{component:13216,onCreatePincodeClick:i?()=>{g(),i()}:void 0,onHide:()=>g(),sendType:"board",sharedObject:_,viewType:5})})})]})}componentDidMount(){(0,t.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")}}let g=e=>{(0,r.useEffect)(()=>{(0,t.Z)("SendBoardFlyout","/app/www/save/board/BoardInfoBar/SendBoardFlyout.tsx")},[]);let a=(0,d.Z)(),o=(0,i.Z)(),l=(0,s.Z)(m,e.boardKey);return(0,h.jsx)(_,{...e,board:l,i18n:a,requireAuth:o,sendBoardButtonRef:e.sendBoardButtonRef})}},235623:function(e,a,o){o.d(a,{Z:()=>b});var l,t=o(686659),r=o(667294);o(244311);var n=o(740097),i=o(230201),s=o(943152),d=o(753806),c=o(183e3),u=o(24246),h=o(395878),m=o(554365),_=o(785893);let g=(void 0!==l||(l=o(413044)).hash&&"8d95294efe15498023c69669c6a41e71"!==l.hash&&console.error("The definition of 'SendBoardButton_board' appears to have changed. Run `relay-compiler` to update the generated files to receive the expected data."),l);function b({boardKey:e,handleCreatePincode:a,iconColor:o,isShowShareIcon:l,showTooltip:b,disableSelectedStyle:p,size:f="lg"}){(0,r.useEffect)(()=>{(0,t.Z)("SendBoardButton","/app/www/save/board/Headers/BoardHeader/SendBoardButton.tsx")},[]);let{logContextEvent:y}=(0,i.u)(),v=(0,u.Z)(),x=(0,s.Z)(),C=(0,r.useRef)(null),k=(0,c.Z)(g,e),w=v._('Share', 'BoardHeader.SendBoardButton', 'Text on button to share board');return(0,_.jsxs)(r.Fragment,{children:[(0,_.jsx)(h.Z,{boardKey:k,disableSelectedStyle:p,iconColor:o,onCreatePincode:a,onOpen:()=>{if(x)return void x();(0,m.Z)(y)},sendBoardButtonRef:C,showTooltip:b,size:f,children:l?void 0:({onClick:e})=>(0,_.jsx)(n.xu,{"data-test-id":"board-share-button-auth",children:(0,_.jsx)(n.zx,{ref:C,color:"gray",fullWidth:!0,onClick:e,size:f,text:w})})}),(0,_.jsx)(d.N,{anchors:{3018:C.current},idealDirection:"down",onAnchorTouch:"complete",placementId:18,scrollToDismiss:!0})]})}},554365:function(e,a,o){o.d(a,{Z:()=>l});function l(e){e({event_type:101,element:10778,component:13216,view_type:5,view_parameter:3069})}}}]);
//# sourceMappingURL=https://sm.pinimg.com/webapp/63331-db7c203373eb00ca.mjs.map